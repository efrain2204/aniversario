<div class="gallery">
  <div class="image-container" *ngFor="let image of displayedImages; let i = index" (click)="openModal(image)">
    <div class="loading-box" *ngIf="isLoading[i]">
      Cargando...
    </div>
    <img [src]="image.url" alt="Image" class="gallery-image" (load)="onImageLoad(i)"
         (error)="onImageError(i)"
         [style.display]="isLoading[i] ? 'none' : 'block'">
  </div>

</div>

<!-- Modal -->
<div id="myModal" class="modal">
  <span id="close-btn" class="close-btn" (click)="closeModal()">X</span>
  <div class="modal-content" onclick="event.stopPropagation()">
    <img id="modal-img" src="" alt="Modal Image">
    <span style="font-size: 18px;" id="modal-msg"></span>
  </div>
</div>
