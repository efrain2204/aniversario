"use strict";(self.webpackChunkaniversario=self.webpackChunkaniversario||[]).push([[792],{1076:(Rt,Ue,$)=>{$.d(Ue,{Am:()=>Yt,FA:()=>ve,Fy:()=>ct,Ku:()=>Pe,T9:()=>xe,Uj:()=>Ve,XA:()=>qe,ZQ:()=>ht,bD:()=>Tr,c1:()=>Ur,cY:()=>Fe,eX:()=>de,g:()=>ue,jZ:()=>tt,lV:()=>Ze,nr:()=>ai,sr:()=>Ge,tD:()=>hr,u:()=>J,yU:()=>In,zW:()=>he});const De=function(F){const M=[];let V=0;for(let Q=0;Q<F.length;Q++){let X=F.charCodeAt(Q);X<128?M[V++]=X:X<2048?(M[V++]=X>>6|192,M[V++]=63&X|128):55296==(64512&X)&&Q+1<F.length&&56320==(64512&F.charCodeAt(Q+1))?(X=65536+((1023&X)<<10)+(1023&F.charCodeAt(++Q)),M[V++]=X>>18|240,M[V++]=X>>12&63|128,M[V++]=X>>6&63|128,M[V++]=63&X|128):(M[V++]=X>>12|224,M[V++]=X>>6&63|128,M[V++]=63&X|128)}return M},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,M){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let X=0;X<F.length;X+=3){const Me=F[X],nt=X+1<F.length,_t=nt?F[X+1]:0,sn=X+2<F.length,an=sn?F[X+2]:0;let vr=(15&_t)<<2|an>>6,Ir=63&an;sn||(Ir=64,nt||(vr=64)),Q.push(V[Me>>2],V[(3&Me)<<4|_t>>4],V[vr],V[Ir])}return Q.join("")},encodeString(F,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(F):this.encodeByteArray(De(F),M)},decodeString(F,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(F):function(F){const M=[];let V=0,Q=0;for(;V<F.length;){const X=F[V++];if(X<128)M[Q++]=String.fromCharCode(X);else if(X>191&&X<224){const Me=F[V++];M[Q++]=String.fromCharCode((31&X)<<6|63&Me)}else if(X>239&&X<365){const sn=((7&X)<<18|(63&F[V++])<<12|(63&F[V++])<<6|63&F[V++])-65536;M[Q++]=String.fromCharCode(55296+(sn>>10)),M[Q++]=String.fromCharCode(56320+(1023&sn))}else{const Me=F[V++],nt=F[V++];M[Q++]=String.fromCharCode((15&X)<<12|(63&Me)<<6|63&nt)}}return M.join("")}(this.decodeStringToByteArray(F,M))},decodeStringToByteArray(F,M){this.init_();const V=M?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let X=0;X<F.length;){const Me=V[F.charAt(X++)],_t=X<F.length?V[F.charAt(X)]:0;++X;const an=X<F.length?V[F.charAt(X)]:64;++X;const en=X<F.length?V[F.charAt(X)]:64;if(++X,null==Me||null==_t||null==an||null==en)throw new me;Q.push(Me<<2|_t>>4),64!==an&&(Q.push(_t<<4&240|an>>2),64!==en&&Q.push(an<<6&192|en))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(F){return function(F){const M=De(F);return pe.encodeByteArray(M,!0)}(F).replace(/\./g,"")},J=function(F){try{return pe.decodeString(F,!0)}catch(M){console.error("base64Decode failed: ",M)}return null},mt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=F&&J(F[1]);return M&&JSON.parse(M)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},In=F=>{const M=(F=>{var M,V;return null===(V=null===(M=mt())||void 0===M?void 0:M.emulatorHosts)||void 0===V?void 0:V[F]})(F);if(!M)return;const V=M.lastIndexOf(":");if(V<=0||V+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const Q=parseInt(M.substring(V+1),10);return"["===M[0]?[M.substring(1,V-1),Q]:[M.substring(0,V),Q]},xe=()=>{var F;return null===(F=mt())||void 0===F?void 0:F.config},qe=F=>{var M;return null===(M=mt())||void 0===M?void 0:M[`_${F}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,V)=>{this.resolve=M,this.reject=V})}wrapCallback(M){return(V,Q)=>{V?this.reject(V):this.resolve(Q),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(V):M(V,Q))}}}function ct(F,M){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=M||"demo-project",X=F.iat||0,Me=F.sub||F.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:X,exp:X+3600,auth_time:X,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(nt)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Ur(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ge(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){return!function Ye(){var F;const M=null===(F=mt())||void 0===F?void 0:F.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((F,M)=>{try{let V=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Q);X.onsuccess=()=>{X.result.close(),V||self.indexedDB.deleteDatabase(Q),F(!0)},X.onupgradeneeded=()=>{V=!1},X.onerror=()=>{var Me;M((null===(Me=X.error)||void 0===Me?void 0:Me.message)||"")}}catch(V){M(V)}})}class ue extends Error{constructor(M,V,Q){super(V),this.code=M,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(M,V,Q){this.service=M,this.serviceName=V,this.errors=Q}create(M,...V){const Q=V[0]||{},X=`${this.service}/${M}`,Me=this.errors[M],nt=Me?function Le(F,M){return F.replace(Je,(V,Q)=>{const X=M[Q];return null!=X?String(X):`<${Q}?>`})}(Me,Q):"Error";return new ue(X,`${this.serviceName}: ${nt} (${X}).`,Q)}}const Je=/\{\$([^}]+)}/g;function Tr(F,M){if(F===M)return!0;const V=Object.keys(F),Q=Object.keys(M);for(const X of V){if(!Q.includes(X))return!1;const Me=F[X],nt=M[X];if(pn(Me)&&pn(nt)){if(!Tr(Me,nt))return!1}else if(Me!==nt)return!1}for(const X of Q)if(!V.includes(X))return!1;return!0}function pn(F){return null!==F&&"object"==typeof F}function Yt(F){const M=[];for(const[V,Q]of Object.entries(F))Array.isArray(Q)?Q.forEach(X=>{M.push(encodeURIComponent(V)+"="+encodeURIComponent(X))}):M.push(encodeURIComponent(V)+"="+encodeURIComponent(Q));return M.length?"&"+M.join("&"):""}function hr(F,M){const V=new Ln(F,M);return V.subscribe.bind(V)}class Ln{constructor(M,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{M(this)}).catch(Q=>{this.error(Q)})}next(M){this.forEachObserver(V=>{V.next(M)})}error(M){this.forEachObserver(V=>{V.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,V,Q){let X;if(void 0===M&&void 0===V&&void 0===Q)throw new Error("Missing Observer.");X=function Fi(F,M){if("object"!=typeof F||null===F)return!1;for(const V of M)if(V in F&&"function"==typeof F[V])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:V,complete:Q},void 0===X.next&&(X.next=on),void 0===X.error&&(X.error=on),void 0===X.complete&&(X.complete=on);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Me}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,M)}sendOne(M,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{V(this.observers[M])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function on(){}function Pe(F){return F&&F._delegate?F._delegate:F}},7088:(Rt,Ue,$)=>{$.d(Ue,{u:()=>K});var A=$(540);let K=(()=>{class Se{get allowAccess(){return this._allowAccess}set allowAccess(U){this._allowAccess=U}constructor(){this._allowAccess=!1}static{this.\u0275fac=function(pe){return new(pe||Se)}}static{this.\u0275prov=A.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},2845:(Rt,Ue,$)=>{var A=$(345),K=$(540),Se=$(6143),De=$(7088);const pe=[{path:"",loadChildren:()=>Promise.all([$.e(690),$.e(76),$.e(529)]).then($.bind($,529)).then(ze=>ze.AuthModule)},{path:"dashboard",loadChildren:()=>$.e(77).then($.bind($,1077)).then(ze=>ze.DashboardModule),canActivate:[(ze,Jt)=>{const wt=(0,K.WQX)(De.u),mt=(0,K.WQX)(Se.Ix);return!!wt.allowAccess||(mt.navigate(["login"]),!1)}]},{path:"games",loadChildren:()=>Promise.all([$.e(690),$.e(76),$.e(273)]).then($.bind($,7273)).then(ze=>ze.GamesModule)},{path:"notes",loadChildren:()=>Promise.all([$.e(690),$.e(76),$.e(27)]).then($.bind($,6027)).then(ze=>ze.NotesModule)},{path:"**",redirectTo:""}];let me=(()=>{class ze{static{this.\u0275fac=function(mt){return new(mt||ze)}}static{this.\u0275mod=K.$C({type:ze})}static{this.\u0275inj=K.G2t({imports:[Se.iI.forRoot(pe),Se.iI]})}}return ze})();var et=$(177);let Ve=(()=>{class ze{constructor(){this.songs=[{title:"Hello",url:"assets/sounds/songs/Hello.mp3"},{title:"Some like you",url:"assets/sounds/songs/SomeoneLikeYou.mp3"},{title:"Todos me miran",url:"assets/sounds/songs/TodosMeMiran.mp3"}],this.currentSongIndex=0,this.isPlaying=!1,this.audio=new Audio(this.songs[this.currentSongIndex].url)}ngOnInit(){this.loadSong(),this.audio.addEventListener("ended",this.nextSong.bind(this))}loadSong(){this.audio.src=this.songs[this.currentSongIndex].url,this.audio.load()}get currentSong(){return this.songs[this.currentSongIndex]}playPause(){this.isPlaying?this.audio.pause():this.audio.play(),this.isPlaying=!this.isPlaying}nextSong(){this.audio.pause(),this.audio.currentTime=0,this.currentSongIndex=(this.currentSongIndex+1)%this.songs.length,this.loadSong(),this.isPlaying&&this.audio.play()}static{this.\u0275fac=function(mt){return new(mt||ze)}}static{this.\u0275cmp=K.VBU({type:ze,selectors:[["music-player"]],standalone:!0,features:[K.aNF],decls:8,vars:2,consts:[[1,"music-player"],[1,"song-title"],[1,"controls"],[1,"play-pause-btn",3,"click"],[1,"next-btn",3,"click"]],template:function(mt,Zt){1&mt&&(K.j41(0,"div",0)(1,"div",1),K.EFF(2),K.k0s(),K.j41(3,"div",2)(4,"button",3),K.bIt("click",function(){return Zt.playPause()}),K.EFF(5),K.k0s(),K.j41(6,"button",4),K.bIt("click",function(){return Zt.nextSong()}),K.EFF(7,"Sig"),K.k0s()()()),2&mt&&(K.R7$(2),K.JRh(Zt.currentSong.title),K.R7$(3),K.SpI(" ",Zt.isPlaying?"||":"\u25b6"," "))},dependencies:[et.MD],styles:[".music-player[_ngcontent-%COMP%]{display:flex;align-items:center;background:transparent;width:80%;height:auto;padding:10px 40px}.music-player[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{flex:2;font-size:20px;font-weight:700;color:#fff;text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,2px 2px 10px black}.music-player[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{flex:1;display:flex;gap:10px;justify-content:center}.music-player[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;border:none;color:#fff;cursor:pointer;border-radius:5px;transition:background-color .3s}"]})}}return ze})(),J=(()=>{class ze{constructor(){this.title="aniversario"}static{this.\u0275fac=function(mt){return new(mt||ze)}}static{this.\u0275cmp=K.VBU({type:ze,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-player"]],template:function(mt,Zt){1&mt&&(K.j41(0,"div",0),K.nrm(1,"music-player"),K.k0s(),K.nrm(2,"router-outlet"))},dependencies:[Se.n3,Ve],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.align-items-center[_ngcontent-%COMP%]{align-items:center}.align-items-end[_ngcontent-%COMP%]{align-items:flex-end}.align-items-baseline[_ngcontent-%COMP%]{align-items:baseline}.align-items-stretch[_ngcontent-%COMP%]{align-items:stretch}.justify-content-start[_ngcontent-%COMP%]{justify-content:flex-start}.justify-content-center[_ngcontent-%COMP%]{justify-content:center}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between}.justify-content-around[_ngcontent-%COMP%]{justify-content:space-around}.justify-content-evenly[_ngcontent-%COMP%]{justify-content:space-evenly}.gap-5[_ngcontent-%COMP%]{gap:5px}.gap-10[_ngcontent-%COMP%]{gap:10px}.gap-15[_ngcontent-%COMP%]{gap:15px}.gap-20[_ngcontent-%COMP%]{gap:20px}.container-player[_ngcontent-%COMP%]{position:absolute;width:90%;height:auto;top:0;left:0;z-index:100}"]})}}return ze})();var Y=$(7440),Ee=$(5132);const Xe={apiKey:"AIzaSyA_y4_jyYxBw4rJU5rEzwgbYuuOsCPsZ5U",authDomain:"journal-app-76966.firebaseapp.com",projectId:"journal-app-76966",storageBucket:"journal-app-76966.firebasestorage.app",messagingSenderId:"561905784174",appId:"1:561905784174:web:2027276056e287efa79d7f"};let We=(()=>{class ze{static{this.\u0275fac=function(mt){return new(mt||ze)}}static{this.\u0275mod=K.$C({type:ze,bootstrap:[J]})}static{this.\u0275inj=K.G2t({providers:[(0,K.oKB)([(0,Y.MW)(()=>(0,Y.Wp)(Xe)),(0,Ee.hV)(()=>(0,Ee.aU)())])],imports:[A.Bb,me,Ve]})}}return ze})();A.sG().bootstrapModule(We).catch(ze=>console.error(ze))},4412:(Rt,Ue,$)=>{$.d(Ue,{t:()=>K});var A=$(1413);class K extends A.B{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const U=super._subscribe(De);return!U.closed&&De.next(this._value),U}getValue(){const{hasError:De,thrownError:U,_value:pe}=this;if(De)throw U;return this._throwIfClosed(),pe}next(De){super.next(this._value=De)}}},1985:(Rt,Ue,$)=>{$.d(Ue,{c:()=>et});var A=$(7707),K=$(8359),Se=$(3494),De=$(1203),U=$(1026),pe=$(8071),me=$(9786);let et=(()=>{class Ee{constructor(We){We&&(this._subscribe=We)}lift(We){const ze=new Ee;return ze.source=this,ze.operator=We,ze}subscribe(We,ze,Jt){const wt=function Y(Ee){return Ee&&Ee instanceof A.vU||function J(Ee){return Ee&&(0,pe.T)(Ee.next)&&(0,pe.T)(Ee.error)&&(0,pe.T)(Ee.complete)}(Ee)&&(0,K.Uv)(Ee)}(We)?We:new A.Ms(We,ze,Jt);return(0,me.Y)(()=>{const{operator:mt,source:Zt}=this;wt.add(mt?mt.call(wt,Zt):Zt?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(We){try{return this._subscribe(We)}catch(ze){We.error(ze)}}forEach(We,ze){return new(ze=Ve(ze))((Jt,wt)=>{const mt=new A.Ms({next:Zt=>{try{We(Zt)}catch(In){wt(In),mt.unsubscribe()}},error:wt,complete:Jt});this.subscribe(mt)})}_subscribe(We){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(We)}[Se.s](){return this}pipe(...We){return(0,De.m)(We)(this)}toPromise(We){return new(We=Ve(We))((ze,Jt)=>{let wt;this.subscribe(mt=>wt=mt,mt=>Jt(mt),()=>ze(wt))})}}return Ee.create=Xe=>new Ee(Xe),Ee})();function Ve(Ee){var Xe;return null!==(Xe=Ee??U.$.Promise)&&void 0!==Xe?Xe:Promise}},1413:(Rt,Ue,$)=>{$.d(Ue,{B:()=>me});var A=$(1985),K=$(8359);const De=(0,$(1853).L)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=$(7908),pe=$(9786);let me=(()=>{class Ve extends A.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Ee=new et(this,this);return Ee.operator=Y,Ee}_throwIfClosed(){if(this.closed)throw new De}next(Y){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(Y)}})}error(Y){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(Y)}})}complete(){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Ee,isStopped:Xe,observers:We}=this;return Ee||Xe?K.Kn:(this.currentObservers=null,We.push(Y),new K.yU(()=>{this.currentObservers=null,(0,U.o)(We,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Ee,thrownError:Xe,isStopped:We}=this;Ee?Y.error(Xe):We&&Y.complete()}asObservable(){const Y=new A.c;return Y.source=this,Y}}return Ve.create=(J,Y)=>new et(J,Y),Ve})();class et extends me{constructor(J,Y){super(),this.destination=J,this.source=Y}next(J){var Y,Ee;null===(Ee=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Ee||Ee.call(Y,J)}error(J){var Y,Ee;null===(Ee=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Ee||Ee.call(Y,J)}complete(){var J,Y;null===(Y=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===Y||Y.call(J)}_subscribe(J){var Y,Ee;return null!==(Ee=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(J))&&void 0!==Ee?Ee:K.Kn}}},7707:(Rt,Ue,$)=>{$.d(Ue,{Ms:()=>Jt,vU:()=>Ee});var A=$(8071),K=$(8359),Se=$(1026),De=$(5334),U=$(5343);const pe=Ve("C",void 0,void 0);function Ve(xe,qe,Fe){return{kind:xe,value:qe,error:Fe}}var J=$(9270),Y=$(9786);class Ee extends K.yU{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,K.Uv)(qe)&&qe.add(this)):this.destination=In}static create(qe,Fe,ct){return new Jt(qe,Fe,ct)}next(qe){this.isStopped?Zt(function et(xe){return Ve("N",xe,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?Zt(function me(xe){return Ve("E",void 0,xe)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?Zt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function We(xe,qe){return Xe.call(xe,qe)}class ze{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(qe)}catch(ct){wt(ct)}}error(qe){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(qe)}catch(ct){wt(ct)}else wt(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(Fe){wt(Fe)}}}class Jt extends Ee{constructor(qe,Fe,ct){let ht;if(super(),(0,A.T)(qe)||!qe)ht={next:qe??void 0,error:Fe??void 0,complete:ct??void 0};else{let tt;this&&Se.$.useDeprecatedNextContext?(tt=Object.create(qe),tt.unsubscribe=()=>this.unsubscribe(),ht={next:qe.next&&We(qe.next,tt),error:qe.error&&We(qe.error,tt),complete:qe.complete&&We(qe.complete,tt)}):ht=qe}this.destination=new ze(ht)}}function wt(xe){Se.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(xe):(0,De.m)(xe)}function Zt(xe,qe){const{onStoppedNotification:Fe}=Se.$;Fe&&J.f.setTimeout(()=>Fe(xe,qe))}const In={closed:!0,next:U.l,error:function mt(xe){throw xe},complete:U.l}},8359:(Rt,Ue,$)=>{$.d(Ue,{Kn:()=>pe,yU:()=>U,Uv:()=>me});var A=$(8071);const Se=(0,$(1853).L)(Ve=>function(Y){Ve(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Ee,Xe)=>`${Xe+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var De=$(7908);class U{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const We of Y)We.remove(this);else Y.remove(this);const{initialTeardown:Ee}=this;if((0,A.T)(Ee))try{Ee()}catch(We){J=We instanceof Se?We.errors:[We]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const We of Xe)try{et(We)}catch(ze){J=J??[],ze instanceof Se?J=[...J,...ze.errors]:J.push(ze)}}if(J)throw new Se(J)}}add(J){var Y;if(J&&J!==this)if(this.closed)et(J);else{if(J instanceof U){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(J)}}_hasParent(J){const{_parentage:Y}=this;return Y===J||Array.isArray(Y)&&Y.includes(J)}_addParent(J){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(J),Y):Y?[Y,J]:J}_removeParent(J){const{_parentage:Y}=this;Y===J?this._parentage=null:Array.isArray(Y)&&(0,De.o)(Y,J)}remove(J){const{_finalizers:Y}=this;Y&&(0,De.o)(Y,J),J instanceof U&&J._removeParent(this)}}U.EMPTY=(()=>{const Ve=new U;return Ve.closed=!0,Ve})();const pe=U.EMPTY;function me(Ve){return Ve instanceof U||Ve&&"closed"in Ve&&(0,A.T)(Ve.remove)&&(0,A.T)(Ve.add)&&(0,A.T)(Ve.unsubscribe)}function et(Ve){(0,A.T)(Ve)?Ve():Ve.unsubscribe()}},1026:(Rt,Ue,$)=>{$.d(Ue,{$:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Rt,Ue,$)=>{$.d(Ue,{w:()=>K});const K=new($(1985).c)(U=>U.complete())},8455:(Rt,Ue,$)=>{$.d(Ue,{H:()=>qe});var A=$(8750),K=$(941),Se=$(6745),pe=$(1985),et=$(4761),Ve=$(8071),J=$(5225);function Ee(Fe,ct){if(!Fe)throw new Error("Iterable cannot be null");return new pe.c(ht=>{(0,J.N)(ht,ct,()=>{const tt=Fe[Symbol.asyncIterator]();(0,J.N)(ht,ct,()=>{tt.next().then(Ye=>{Ye.done?ht.complete():ht.next(Ye.value)})},0,!0)})})}var Xe=$(5055),We=$(9858),ze=$(7441),Jt=$(5397),wt=$(7953),mt=$(591),Zt=$(5196);function qe(Fe,ct){return ct?function xe(Fe,ct){if(null!=Fe){if((0,Xe.l)(Fe))return function De(Fe,ct){return(0,A.Tg)(Fe).pipe((0,Se._)(ct),(0,K.Q)(ct))}(Fe,ct);if((0,ze.X)(Fe))return function me(Fe,ct){return new pe.c(ht=>{let tt=0;return ct.schedule(function(){tt===Fe.length?ht.complete():(ht.next(Fe[tt++]),ht.closed||this.schedule())})})}(Fe,ct);if((0,We.y)(Fe))return function U(Fe,ct){return(0,A.Tg)(Fe).pipe((0,Se._)(ct),(0,K.Q)(ct))}(Fe,ct);if((0,wt.T)(Fe))return Ee(Fe,ct);if((0,Jt.x)(Fe))return function Y(Fe,ct){return new pe.c(ht=>{let tt;return(0,J.N)(ht,ct,()=>{tt=Fe[et.l](),(0,J.N)(ht,ct,()=>{let Ye,At;try{({value:Ye,done:At}=tt.next())}catch(Cn){return void ht.error(Cn)}At?ht.complete():ht.next(Ye)},0,!0)}),()=>(0,Ve.T)(tt?.return)&&tt.return()})}(Fe,ct);if((0,Zt.U)(Fe))return function In(Fe,ct){return Ee((0,Zt.C)(Fe),ct)}(Fe,ct)}throw(0,mt.L)(Fe)}(Fe,ct):(0,A.Tg)(Fe)}},8750:(Rt,Ue,$)=>{$.d(Ue,{Tg:()=>Xe});var A=$(1635),K=$(7441),Se=$(9858),De=$(1985),U=$(5055),pe=$(7953),me=$(591),et=$(5397),Ve=$(5196),J=$(8071),Y=$(5334),Ee=$(3494);function Xe(xe){if(xe instanceof De.c)return xe;if(null!=xe){if((0,U.l)(xe))return function We(xe){return new De.c(qe=>{const Fe=xe[Ee.s]();if((0,J.T)(Fe.subscribe))return Fe.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,K.X)(xe))return function ze(xe){return new De.c(qe=>{for(let Fe=0;Fe<xe.length&&!qe.closed;Fe++)qe.next(xe[Fe]);qe.complete()})}(xe);if((0,Se.y)(xe))return function Jt(xe){return new De.c(qe=>{xe.then(Fe=>{qe.closed||(qe.next(Fe),qe.complete())},Fe=>qe.error(Fe)).then(null,Y.m)})}(xe);if((0,pe.T)(xe))return mt(xe);if((0,et.x)(xe))return function wt(xe){return new De.c(qe=>{for(const Fe of xe)if(qe.next(Fe),qe.closed)return;qe.complete()})}(xe);if((0,Ve.U)(xe))return function Zt(xe){return mt((0,Ve.C)(xe))}(xe)}throw(0,me.L)(xe)}function mt(xe){return new De.c(qe=>{(function In(xe,qe){var Fe,ct,ht,tt;return(0,A.sH)(this,void 0,void 0,function*(){try{for(Fe=(0,A.xN)(xe);!(ct=yield Fe.next()).done;)if(qe.next(ct.value),qe.closed)return}catch(Ye){ht={error:Ye}}finally{try{ct&&!ct.done&&(tt=Fe.return)&&(yield tt.call(Fe))}finally{if(ht)throw ht.error}}qe.complete()})})(xe,qe).catch(Fe=>qe.error(Fe))})}},7673:(Rt,Ue,$)=>{$.d(Ue,{of:()=>Se});var A=$(3794),K=$(8455);function Se(...De){const U=(0,A.lI)(De);return(0,K.H)(De,U)}},4360:(Rt,Ue,$)=>{$.d(Ue,{_:()=>K});var A=$(7707);function K(De,U,pe,me,et){return new Se(De,U,pe,me,et)}class Se extends A.vU{constructor(U,pe,me,et,Ve,J){super(U),this.onFinalize=Ve,this.shouldUnsubscribe=J,this._next=pe?function(Y){try{pe(Y)}catch(Ee){U.error(Ee)}}:super._next,this._error=et?function(Y){try{et(Y)}catch(Ee){U.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(Y){U.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},6354:(Rt,Ue,$)=>{$.d(Ue,{T:()=>Se});var A=$(9974),K=$(4360);function Se(De,U){return(0,A.N)((pe,me)=>{let et=0;pe.subscribe((0,K._)(me,Ve=>{me.next(De.call(U,Ve,et++))}))})}},6365:(Rt,Ue,$)=>{$.d(Ue,{U:()=>Se});var A=$(1397),K=$(3669);function Se(De=1/0){return(0,A.Z)(K.D,De)}},1397:(Rt,Ue,$)=>{$.d(Ue,{Z:()=>et});var A=$(6354),K=$(8750),Se=$(9974),De=$(5225),U=$(4360),me=$(8071);function et(Ve,J,Y=1/0){return(0,me.T)(J)?et((Ee,Xe)=>(0,A.T)((We,ze)=>J(Ee,We,Xe,ze))((0,K.Tg)(Ve(Ee,Xe))),Y):("number"==typeof J&&(Y=J),(0,Se.N)((Ee,Xe)=>function pe(Ve,J,Y,Ee,Xe,We,ze,Jt){const wt=[];let mt=0,Zt=0,In=!1;const xe=()=>{In&&!wt.length&&!mt&&J.complete()},qe=ct=>mt<Ee?Fe(ct):wt.push(ct),Fe=ct=>{We&&J.next(ct),mt++;let ht=!1;(0,K.Tg)(Y(ct,Zt++)).subscribe((0,U._)(J,tt=>{Xe?.(tt),We?qe(tt):J.next(tt)},()=>{ht=!0},void 0,()=>{if(ht)try{for(mt--;wt.length&&mt<Ee;){const tt=wt.shift();ze?(0,De.N)(J,ze,()=>Fe(tt)):Fe(tt)}xe()}catch(tt){J.error(tt)}}))};return Ve.subscribe((0,U._)(J,qe,()=>{In=!0,xe()})),()=>{Jt?.()}}(Ee,Xe,Ve,Y)))}},941:(Rt,Ue,$)=>{$.d(Ue,{Q:()=>De});var A=$(5225),K=$(9974),Se=$(4360);function De(U,pe=0){return(0,K.N)((me,et)=>{me.subscribe((0,Se._)(et,Ve=>(0,A.N)(et,U,()=>et.next(Ve),pe),()=>(0,A.N)(et,U,()=>et.complete(),pe),Ve=>(0,A.N)(et,U,()=>et.error(Ve),pe)))})}},6745:(Rt,Ue,$)=>{$.d(Ue,{_:()=>K});var A=$(9974);function K(Se,De=0){return(0,A.N)((U,pe)=>{pe.add(Se.schedule(()=>U.subscribe(pe),De))})}},5558:(Rt,Ue,$)=>{$.d(Ue,{n:()=>De});var A=$(8750),K=$(9974),Se=$(4360);function De(U,pe){return(0,K.N)((me,et)=>{let Ve=null,J=0,Y=!1;const Ee=()=>Y&&!Ve&&et.complete();me.subscribe((0,Se._)(et,Xe=>{Ve?.unsubscribe();let We=0;const ze=J++;(0,A.Tg)(U(Xe,ze)).subscribe(Ve=(0,Se._)(et,Jt=>et.next(pe?pe(Xe,Jt,ze,We++):Jt),()=>{Ve=null,Ee()}))},()=>{Y=!0,Ee()}))})}},8141:(Rt,Ue,$)=>{$.d(Ue,{M:()=>U});var A=$(8071),K=$(9974),Se=$(4360),De=$(3669);function U(pe,me,et){const Ve=(0,A.T)(pe)||me||et?{next:pe,error:me,complete:et}:pe;return Ve?(0,K.N)((J,Y)=>{var Ee;null===(Ee=Ve.subscribe)||void 0===Ee||Ee.call(Ve);let Xe=!0;J.subscribe((0,Se._)(Y,We=>{var ze;null===(ze=Ve.next)||void 0===ze||ze.call(Ve,We),Y.next(We)},()=>{var We;Xe=!1,null===(We=Ve.complete)||void 0===We||We.call(Ve),Y.complete()},We=>{var ze;Xe=!1,null===(ze=Ve.error)||void 0===ze||ze.call(Ve,We),Y.error(We)},()=>{var We,ze;Xe&&(null===(We=Ve.unsubscribe)||void 0===We||We.call(Ve)),null===(ze=Ve.finalize)||void 0===ze||ze.call(Ve)}))}):De.D}},9270:(Rt,Ue,$)=>{$.d(Ue,{f:()=>A});const A={setTimeout(K,Se,...De){const{delegate:U}=A;return U?.setTimeout?U.setTimeout(K,Se,...De):setTimeout(K,Se,...De)},clearTimeout(K){const{delegate:Se}=A;return(Se?.clearTimeout||clearTimeout)(K)},delegate:void 0}},4761:(Rt,Ue,$)=>{$.d(Ue,{l:()=>K});const K=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Rt,Ue,$)=>{$.d(Ue,{s:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Rt,Ue,$)=>{$.d(Ue,{R0:()=>pe,ms:()=>De,lI:()=>U});var A=$(8071);function Se(me){return me[me.length-1]}function De(me){return(0,A.T)(Se(me))?me.pop():void 0}function U(me){return function K(me){return me&&(0,A.T)(me.schedule)}(Se(me))?me.pop():void 0}function pe(me,et){return"number"==typeof Se(me)?me.pop():et}},3073:(Rt,Ue,$)=>{$.d(Ue,{D:()=>U});const{isArray:A}=Array,{getPrototypeOf:K,prototype:Se,keys:De}=Object;function U(me){if(1===me.length){const et=me[0];if(A(et))return{args:et,keys:null};if(function pe(me){return me&&"object"==typeof me&&K(me)===Se}(et)){const Ve=De(et);return{args:Ve.map(J=>et[J]),keys:Ve}}}return{args:me,keys:null}}},7908:(Rt,Ue,$)=>{function A(K,Se){if(K){const De=K.indexOf(Se);0<=De&&K.splice(De,1)}}$.d(Ue,{o:()=>A})},1853:(Rt,Ue,$)=>{function A(K){const De=K(U=>{Error.call(U),U.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}$.d(Ue,{L:()=>A})},8496:(Rt,Ue,$)=>{function A(K,Se){return K.reduce((De,U,pe)=>(De[U]=Se[pe],De),{})}$.d(Ue,{e:()=>A})},9786:(Rt,Ue,$)=>{$.d(Ue,{Y:()=>Se,l:()=>De});var A=$(1026);let K=null;function Se(U){if(A.$.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),U(),pe){const{errorThrown:me,error:et}=K;if(K=null,me)throw et}}else U()}function De(U){A.$.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=U)}},5225:(Rt,Ue,$)=>{function A(K,Se,De,U=0,pe=!1){const me=Se.schedule(function(){De(),pe?K.add(this.schedule(null,U)):this.unsubscribe()},U);if(K.add(me),!pe)return me}$.d(Ue,{N:()=>A})},3669:(Rt,Ue,$)=>{function A(K){return K}$.d(Ue,{D:()=>A})},7441:(Rt,Ue,$)=>{$.d(Ue,{X:()=>A});const A=K=>K&&"number"==typeof K.length&&"function"!=typeof K},7953:(Rt,Ue,$)=>{$.d(Ue,{T:()=>K});var A=$(8071);function K(Se){return Symbol.asyncIterator&&(0,A.T)(Se?.[Symbol.asyncIterator])}},8071:(Rt,Ue,$)=>{function A(K){return"function"==typeof K}$.d(Ue,{T:()=>A})},5055:(Rt,Ue,$)=>{$.d(Ue,{l:()=>Se});var A=$(3494),K=$(8071);function Se(De){return(0,K.T)(De[A.s])}},5397:(Rt,Ue,$)=>{$.d(Ue,{x:()=>Se});var A=$(4761),K=$(8071);function Se(De){return(0,K.T)(De?.[A.l])}},9858:(Rt,Ue,$)=>{$.d(Ue,{y:()=>K});var A=$(8071);function K(Se){return(0,A.T)(Se?.then)}},5196:(Rt,Ue,$)=>{$.d(Ue,{C:()=>Se,U:()=>De});var A=$(1635),K=$(8071);function Se(U){return(0,A.AQ)(this,arguments,function*(){const me=U.getReader();try{for(;;){const{value:et,done:Ve}=yield(0,A.N3)(me.read());if(Ve)return yield(0,A.N3)(void 0);yield yield(0,A.N3)(et)}}finally{me.releaseLock()}})}function De(U){return(0,K.T)(U?.getReader)}},9974:(Rt,Ue,$)=>{$.d(Ue,{N:()=>Se,S:()=>K});var A=$(8071);function K(De){return(0,A.T)(De?.lift)}function Se(De){return U=>{if(K(U))return U.lift(function(pe){try{return De(pe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Rt,Ue,$)=>{$.d(Ue,{I:()=>De});var A=$(6354);const{isArray:K}=Array;function De(U){return(0,A.T)(pe=>function Se(U,pe){return K(pe)?U(...pe):U(pe)}(U,pe))}},5343:(Rt,Ue,$)=>{function A(){}$.d(Ue,{l:()=>A})},1203:(Rt,Ue,$)=>{$.d(Ue,{F:()=>K,m:()=>Se});var A=$(3669);function K(...De){return Se(De)}function Se(De){return 0===De.length?A.D:1===De.length?De[0]:function(pe){return De.reduce((me,et)=>et(me),pe)}}},5334:(Rt,Ue,$)=>{$.d(Ue,{m:()=>Se});var A=$(1026),K=$(9270);function Se(De){K.f.setTimeout(()=>{const{onUnhandledError:U}=A.$;if(!U)throw De;U(De)})}},591:(Rt,Ue,$)=>{function A(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ue,{L:()=>A})},177:(Rt,Ue,$)=>{$.d(Ue,{AJ:()=>is,B3:()=>ci,MD:()=>oo,N0:()=>ji,QT:()=>Se,Sm:()=>ze,Sq:()=>yi,VF:()=>U,Vy:()=>Ut,Xr:()=>$n,YU:()=>kt,ZD:()=>De,_b:()=>st,aZ:()=>wt,bT:()=>Wn,fw:()=>Jt,hb:()=>Xe,hj:()=>et,qQ:()=>pe});var A=$(540);let K=null;function Se(){return K}function De(v){K||(K=v)}class U{}const pe=new A.nKC("DocumentToken");let me=(()=>{class v{historyGo(C){throw new Error("Not implemented")}static{this.\u0275fac=function(x){return new(x||v)}}static{this.\u0275prov=A.jDH({token:v,factory:function(){return(0,A.WQX)(Ve)},providedIn:"platform"})}}return v})();const et=new A.nKC("Location Initialized");let Ve=(()=>{class v extends me{constructor(){super(),this._doc=(0,A.WQX)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Se().getBaseHref(this._doc)}onPopState(C){const x=Se().getGlobalEventTarget(this._doc,"window");return x.addEventListener("popstate",C,!1),()=>x.removeEventListener("popstate",C)}onHashChange(C){const x=Se().getGlobalEventTarget(this._doc,"window");return x.addEventListener("hashchange",C,!1),()=>x.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,x,G){this._history.pushState(C,x,G)}replaceState(C,x,G){this._history.replaceState(C,x,G)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}static{this.\u0275fac=function(x){return new(x||v)}}static{this.\u0275prov=A.jDH({token:v,factory:function(){return new v},providedIn:"platform"})}}return v})();function J(v,O){if(0==v.length)return O;if(0==O.length)return v;let C=0;return v.endsWith("/")&&C++,O.startsWith("/")&&C++,2==C?v+O.substring(1):1==C?v+O:v+"/"+O}function Y(v){const O=v.match(/#|\?|$/),C=O&&O.index||v.length;return v.slice(0,C-("/"===v[C-1]?1:0))+v.slice(C)}function Ee(v){return v&&"?"!==v[0]?"?"+v:v}let Xe=(()=>{class v{historyGo(C){throw new Error("Not implemented")}static{this.\u0275fac=function(x){return new(x||v)}}static{this.\u0275prov=A.jDH({token:v,factory:function(){return(0,A.WQX)(ze)},providedIn:"root"})}}return v})();const We=new A.nKC("appBaseHref");let ze=(()=>{class v extends Xe{constructor(C,x){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=x??this._platformLocation.getBaseHrefFromDOM()??(0,A.WQX)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return J(this._baseHref,C)}path(C=!1){const x=this._platformLocation.pathname+Ee(this._platformLocation.search),G=this._platformLocation.hash;return G&&C?`${x}${G}`:x}pushState(C,x,G,Te){const ke=this.prepareExternalUrl(G+Ee(Te));this._platformLocation.pushState(C,x,ke)}replaceState(C,x,G,Te){const ke=this.prepareExternalUrl(G+Ee(Te));this._platformLocation.replaceState(C,x,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static{this.\u0275fac=function(x){return new(x||v)(A.KVO(me),A.KVO(We,8))}}static{this.\u0275prov=A.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),Jt=(()=>{class v extends Xe{constructor(C,x){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=x&&(this._baseHref=x)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let x=this._platformLocation.hash;return null==x&&(x="#"),x.length>0?x.substring(1):x}prepareExternalUrl(C){const x=J(this._baseHref,C);return x.length>0?"#"+x:x}pushState(C,x,G,Te){let ke=this.prepareExternalUrl(G+Ee(Te));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.pushState(C,x,ke)}replaceState(C,x,G,Te){let ke=this.prepareExternalUrl(G+Ee(Te));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.replaceState(C,x,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static{this.\u0275fac=function(x){return new(x||v)(A.KVO(me),A.KVO(We,8))}}static{this.\u0275prov=A.jDH({token:v,factory:v.\u0275fac})}}return v})(),wt=(()=>{class v{constructor(C){this._subject=new A.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const x=this._locationStrategy.getBaseHref();this._basePath=function xe(v){if(new RegExp("^(https?:)?//").test(v)){const[,C]=v.split(/\/\/[^\/]+/);return C}return v}(Y(In(x))),this._locationStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,x=""){return this.path()==this.normalize(C+Ee(x))}normalize(C){return v.stripTrailingSlash(function Zt(v,O){if(!v||!O.startsWith(v))return O;const C=O.substring(v.length);return""===C||["/",";","?","#"].includes(C[0])?C:O}(this._basePath,In(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,x="",G=null){this._locationStrategy.pushState(G,"",C,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ee(x)),G)}replaceState(C,x="",G=null){this._locationStrategy.replaceState(G,"",C,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ee(x)),G)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(x=>{this._notifyUrlChangeListeners(x.url,x.state)})),()=>{const x=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(x,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",x){this._urlChangeListeners.forEach(G=>G(C,x))}subscribe(C,x,G){return this._subject.subscribe({next:C,error:x,complete:G})}static{this.normalizeQueryParams=Ee}static{this.joinWithSlash=J}static{this.stripTrailingSlash=Y}static{this.\u0275fac=function(x){return new(x||v)(A.KVO(Xe))}}static{this.\u0275prov=A.jDH({token:v,factory:function(){return function mt(){return new wt((0,A.KVO)(Xe))}()},providedIn:"root"})}}return v})();function In(v){return v.replace(/\/index.html$/,"")}function st(v,O){O=encodeURIComponent(O);for(const C of v.split(";")){const x=C.indexOf("="),[G,Te]=-1==x?[C,""]:[C.slice(0,x),C.slice(x+1)];if(G.trim()===O)return decodeURIComponent(Te)}return null}const xt=/\s+/,Ct=[];let kt=(()=>{class v{constructor(C,x,G,Te){this._iterableDiffers=C,this._keyValueDiffers=x,this._ngEl=G,this._renderer=Te,this.initialClasses=Ct,this.stateMap=new Map}set klass(C){this.initialClasses=null!=C?C.trim().split(xt):Ct}set ngClass(C){this.rawClass="string"==typeof C?C.trim().split(xt):C}ngDoCheck(){for(const x of this.initialClasses)this._updateState(x,!0);const C=this.rawClass;if(Array.isArray(C)||C instanceof Set)for(const x of C)this._updateState(x,!0);else if(null!=C)for(const x of Object.keys(C))this._updateState(x,!!C[x]);this._applyStateDiff()}_updateState(C,x){const G=this.stateMap.get(C);void 0!==G?(G.enabled!==x&&(G.changed=!0,G.enabled=x),G.touched=!0):this.stateMap.set(C,{enabled:x,changed:!0,touched:!0})}_applyStateDiff(){for(const C of this.stateMap){const x=C[0],G=C[1];G.changed?(this._toggleClass(x,G.enabled),G.changed=!1):G.touched||(G.enabled&&this._toggleClass(x,!1),this.stateMap.delete(x)),G.touched=!1}}_toggleClass(C,x){(C=C.trim()).length>0&&C.split(xt).forEach(G=>{x?this._renderer.addClass(this._ngEl.nativeElement,G):this._renderer.removeClass(this._ngEl.nativeElement,G)})}static{this.\u0275fac=function(x){return new(x||v)(A.rXU(A._q3),A.rXU(A.MKu),A.rXU(A.aKT),A.rXU(A.sFG))}}static{this.\u0275dir=A.FsC({type:v,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return v})();class Ft{constructor(O,C,x,G){this.$implicit=O,this.ngForOf=C,this.index=x,this.count=G}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{class v{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,x,G){this._viewContainer=C,this._template=x,this._differs=G,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const x=this._viewContainer;C.forEachOperation((G,Te,ke)=>{if(null==G.previousIndex)x.createEmbeddedView(this._template,new Ft(G.item,this._ngForOf,-1,-1),null===ke?void 0:ke);else if(null==ke)x.remove(null===Te?void 0:Te);else if(null!==Te){const It=x.get(Te);x.move(It,ke),no(It,G)}});for(let G=0,Te=x.length;G<Te;G++){const It=x.get(G).context;It.index=G,It.count=Te,It.ngForOf=this._ngForOf}C.forEachIdentityChange(G=>{no(x.get(G.currentIndex),G)})}static ngTemplateContextGuard(C,x){return!0}static{this.\u0275fac=function(x){return new(x||v)(A.rXU(A.c1b),A.rXU(A.C4Q),A.rXU(A._q3))}}static{this.\u0275dir=A.FsC({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return v})();function no(v,O){v.context.$implicit=O.item}let Wn=(()=>{class v{constructor(C,x){this._viewContainer=C,this._context=new Ui,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=x}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){vi("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){vi("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,x){return!0}static{this.\u0275fac=function(x){return new(x||v)(A.rXU(A.c1b),A.rXU(A.C4Q))}}static{this.\u0275dir=A.FsC({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return v})();class Ui{constructor(){this.$implicit=null,this.ngIf=null}}function vi(v,O){if(O&&!O.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,A.Tbb)(O)}'.`)}let ci=(()=>{class v{constructor(C,x,G){this._ngEl=C,this._differs=x,this._renderer=G,this._ngStyle=null,this._differ=null}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){const C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,x){const[G,Te]=C.split("."),ke=-1===G.indexOf("-")?void 0:A.czy.DashCase;null!=x?this._renderer.setStyle(this._ngEl.nativeElement,G,Te?`${x}${Te}`:x,ke):this._renderer.removeStyle(this._ngEl.nativeElement,G,ke)}_applyChanges(C){C.forEachRemovedItem(x=>this._setStyle(x.key,null)),C.forEachAddedItem(x=>this._setStyle(x.key,x.currentValue)),C.forEachChangedItem(x=>this._setStyle(x.key,x.currentValue))}static{this.\u0275fac=function(x){return new(x||v)(A.rXU(A.aKT),A.rXU(A.MKu),A.rXU(A.sFG))}}static{this.\u0275dir=A.FsC({type:v,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return v})(),oo=(()=>{class v{static{this.\u0275fac=function(x){return new(x||v)}}static{this.\u0275mod=A.$C({type:v})}static{this.\u0275inj=A.G2t({})}}return v})();const is="browser",cu="server";function Ut(v){return v===cu}let $n=(()=>{class v{static{this.\u0275prov=(0,A.jDH)({token:v,providedIn:"root",factory:()=>new Ii((0,A.KVO)(pe),window)})}}return v})();class Ii{constructor(O,C){this.document=O,this.window=C,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const C=function Xn(v,O){const C=v.getElementById(O)||v.getElementsByName(O)[0];if(C)return C;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const x=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let G=x.currentNode;for(;G;){const Te=G.shadowRoot;if(Te){const ke=Te.getElementById(O)||Te.querySelector(`[name="${O}"]`);if(ke)return ke}G=x.nextNode()}}return null}(this.document,O);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(O){this.supportsScrolling()&&(this.window.history.scrollRestoration=O)}scrollToElement(O){const C=O.getBoundingClientRect(),x=C.left+this.window.pageXOffset,G=C.top+this.window.pageYOffset,Te=this.offset();this.window.scrollTo(x-Te[0],G-Te[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ji{}},540:(Rt,Ue,$)=>{$.d(Ue,{iLQ:()=>ee,sZ2:()=>Rm,hnV:()=>DA,Hbi:()=>cv,o8S:()=>Jl,BIS:()=>xI,gRc:()=>MA,Ql9:()=>Yb,Ocv:()=>qb,Z63:()=>$d,aKT:()=>gl,uvJ:()=>qi,zcH:()=>Js,bkB:()=>Qi,$GK:()=>ft,nKC:()=>Mt,zZn:()=>qo,_q3:()=>av,MKu:()=>bg,xe9:()=>Ky,Co$:()=>kD,Vns:()=>ua,NEm:()=>la,SKi:()=>Rr,Xx1:()=>wf,Agw:()=>Kn,PLl:()=>Pm,sFG:()=>Qs,_9s:()=>LI,czy:()=>fm,kdw:()=>Df,C4Q:()=>Fh,NYb:()=>St,giA:()=>Et,xvI:()=>ml,RxE:()=>Vm,c1b:()=>Vy,gXe:()=>yn,L39:()=>xg,EWP:()=>yu,Ol2:()=>Oh,w6W:()=>hg,oH4:()=>wg,Rfq:()=>tt,oKB:()=>zd,WQX:()=>gn,QuC:()=>io,fpN:()=>fw,HJs:()=>jA,vPA:()=>Pn,O8t:()=>wi,H3F:()=>AA,H8p:()=>Va,$K3:()=>CA,KH2:()=>tc,wOt:()=>Ze,WHO:()=>$e,e01:()=>yt,H5H:()=>Th,mq5:()=>Jp,JZv:()=>Dt,LfX:()=>xr,plB:()=>zy,jNT:()=>O_,zjR:()=>Pp,TL$:()=>fe,Tbb:()=>Fe,Vt3:()=>_p,GFd:()=>d_,OA$:()=>md,Jv_:()=>OD,aNF:()=>LD,R7$:()=>YI,BMQ:()=>p_,AVh:()=>Y_,wni:()=>Eg,VBU:()=>su,FsC:()=>rs,jDH:()=>pn,G2t:()=>Yt,$C:()=>Ec,EJ8:()=>va,rXU:()=>Ha,nrm:()=>yh,bVm:()=>bp,qex:()=>vh,k0s:()=>sa,j41:()=>Xu,RV6:()=>Rp,xGo:()=>yf,KVO:()=>fr,kS0:()=>Md,QTQ:()=>rp,bIt:()=>Nl,lsd:()=>jT,XpG:()=>LE,nI1:()=>_g,bMT:()=>NT,SdG:()=>UE,NAR:()=>k_,Y8G:()=>_h,eq3:()=>$D,l_i:()=>HD,mGM:()=>BT,sdS:()=>xl,Njj:()=>Ed,eBV:()=>Kg,B4B:()=>zn,n$t:()=>Ri,xc7:()=>Q_,DNE:()=>S_,C5r:()=>GT,EFF:()=>zp,JRh:()=>Wp,SpI:()=>Ul,Lme:()=>oy,GBs:()=>Hy});var A=$(1413),K=$(8359),Se=$(1985),De=$(6365),U=$(8750),pe=$(983),me=$(3794),et=$(8455),J=$(4412),Y=$(7673),Ee=$(7707),Xe=$(9974);function We(n={}){const{connector:r=(()=>new A.B),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=n;return d=>{let p,y,T,R=0,k=!1,H=!1;const ne=()=>{y?.unsubscribe(),y=void 0},ae=()=>{ne(),p=T=void 0,k=H=!1},Re=()=>{const He=p;ae(),He?.unsubscribe()};return(0,Xe.N)((He,at)=>{R++,!H&&!k&&ne();const Tt=T=T??r();at.add(()=>{R--,0===R&&!H&&!k&&(y=ze(Re,c))}),Tt.subscribe(at),!p&&R>0&&(p=new Ee.Ms({next:Ce=>Tt.next(Ce),error:Ce=>{H=!0,ne(),y=ze(ae,o,Ce),Tt.error(Ce)},complete:()=>{k=!0,ne(),y=ze(ae,u),Tt.complete()}}),(0,U.Tg)(He).subscribe(p))})(d)}}function ze(n,r,...o){if(!0===r)return void n();if(!1===r)return;const u=new Ee.Ms({next:()=>{u.unsubscribe(),n()}});return(0,U.Tg)(r(...o)).subscribe(u)}var Jt=$(5558),wt=$(3669),mt=$(4360);function In(n,r){return n===r}function xe(n){for(let r in n)if(n[r]===xe)return r;throw Error("Could not find renamed property on target object.")}function qe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ct(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ht=xe({__forward_ref__:xe});function tt(n){return n.__forward_ref__=tt,n.toString=function(){return Fe(this())},n}function Ye(n){return At(n)?n():n}function At(n){return"function"==typeof n&&n.hasOwnProperty(ht)&&n.__forward_ref__===tt}function Cn(n){return n&&!!n.\u0275providers}const Ge="https://g.co/ng/security#xss";class Ze extends Error{constructor(r,o){super(function Wt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function de(n,r){throw new Ze(-201,!1)}function Sn(n,r){null==n&&function pt(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function pn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vt(n){return yr(n,tr)||yr(n,on)}function xr(n){return null!==Vt(n)}function yr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Ln(n){return n&&(n.hasOwnProperty(Fi)||n.hasOwnProperty(Ts))?n[Fi]:null}const tr=xe({\u0275prov:xe}),Fi=xe({\u0275inj:xe}),on=xe({ngInjectableDef:xe}),Ts=xe({ngInjectorDef:xe});var ft=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ft||{});let to;function nr(n){const r=to;return to=n,r}function ei(n,r,o){const u=Vt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ft.Optional?null:void 0!==r?r:void de(Fe(n))}const Dt=globalThis;class Mt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nt={},_t="__NG_DI_FLAG__",sn="ngTempTokenPath",ar=/\n/gm,vr="__source";let Ir;function ti(n){const r=Ir;return Ir=n,r}function ws(n,r=ft.Default){if(void 0===Ir)throw new Ze(-203,!1);return null===Ir?ei(n,void 0,r):Ir.get(n,r&ft.Optional?null:void 0,r)}function fr(n,r=ft.Default){return(function ui(){return to}()||ws)(Ye(n),r)}function gn(n,r=ft.Default){return fr(n,Vi(r))}function Vi(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function we(n){const r=[];for(let o=0;o<n.length;o++){const u=Ye(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ze(900,!1);let c,d=ft.Default;for(let p=0;p<u.length;p++){const y=u[p],T=Oe(y);"number"==typeof T?-1===T?c=y.token:d|=T:c=y}r.push(fr(c,d))}else r.push(fr(u))}return r}function oe(n,r){return n[_t]=r,n.prototype[_t]=r,n}function Oe(n){return n[_t]}function Ct(n){return{toString:n}.toString()}var kt=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kt||{}),yn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yn||{});const cn={},Ft=[],yi=xe({\u0275cmp:xe}),no=xe({\u0275dir:xe}),pc=xe({\u0275pipe:xe}),Wn=xe({\u0275mod:xe}),Ui=xe({\u0275fac:xe}),vi=xe({__NG_ELEMENT_ID__:xe}),yo=xe({__NG_ENV_ID__:xe});function es(n,r,o){let u=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===u||n.charCodeAt(c+d)<=32)return c}o=c+1}}function As(n,r,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const d=o[u++],p=o[u++],y=o[u++];n.setAttribute(r,p,y,d)}else{const d=c,p=o[++u];mc(d)?n.setProperty(r,d,p):n.setAttribute(r,d,p),u++}}return u}function gc(n){return 3===n||4===n||6===n}function mc(n){return 64===n.charCodeAt(0)}function vo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?o=c:0===o||ts(n,o,c,null,-1===o||2===o?r[++u]:null)}}return n}function ts(n,r,o,u,c){let d=0,p=n.length;if(-1===r)p=-1;else for(;d<n.length;){const y=n[d++];if("number"==typeof y){if(y===r){p=-1;break}if(y>r){p=d-1;break}}}for(;d<n.length;){const y=n[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(n[d+1]=c));if(u===n[d+1])return void(n[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==p&&(n.splice(p,0,r),d=p+1),n.splice(d++,0,o),null!==u&&n.splice(d++,0,u),null!==c&&n.splice(d++,0,c)}const ci="ng-template";function ma(n,r,o){let u=0,c=!0;for(;u<n.length;){let d=n[u++];if("string"==typeof d&&c){const p=n[u++];if(o&&"class"===d&&-1!==es(p.toLowerCase(),r,0))return!0}else{if(1===d){for(;u<n.length&&"string"==typeof(d=n[u++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function ro(n){return 4===n.type&&n.value!==ci}function wr(n,r,o){return r===(4!==n.type||o?n.value:ci)}function Bi(n,r,o){let u=4;const c=n.attrs||[],d=function od(n){for(let r=0;r<n.length;r++)if(gc(n[r]))return r;return n.length}(c);let p=!1;for(let y=0;y<r.length;y++){const T=r[y];if("number"!=typeof T){if(!p)if(4&u){if(u=2|1&u,""!==T&&!wr(n,T,o)||""===T&&1===r.length){if(Nr(u))return!1;p=!0}}else{const R=8&u?T:r[++y];if(8&u&&null!==n.attrs){if(!ma(n.attrs,R,o)){if(Nr(u))return!1;p=!0}continue}const H=_c(8&u?"class":T,c,ro(n),o);if(-1===H){if(Nr(u))return!1;p=!0;continue}if(""!==R){let ne;ne=H>d?"":c[H+1].toLowerCase();const ae=8&u?ne:null;if(ae&&-1!==es(ae,R,0)||2&u&&R!==ne){if(Nr(u))return!1;p=!0}}}}else{if(!p&&!Nr(u)&&!Nr(T))return!1;if(p&&Nr(T))continue;p=!1,u=T|1&u}}return Nr(u)||p}function Nr(n){return 0==(1&n)}function _c(n,r,o,u){if(null===r)return-1;let c=0;if(u||!o){let d=!1;for(;c<r.length;){const p=r[c];if(p===n)return c;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=r[++c];for(;"string"==typeof y;)y=r[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=d?1:2}return-1}return function sd(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function _a(n,r,o=!1){for(let u=0;u<r.length;u++)if(Bi(n,r[u],o))return!0;return!1}function yc(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function vc(n,r){return n?":not("+r.trim()+")":r}function Ic(n){let r=n[0],o=1,u=2,c="",d=!1;for(;o<n.length;){let p=n[o];if("string"==typeof p)if(2&u){const y=n[++o];c+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+p:4&u&&(c+=" "+p);else""!==c&&!Nr(p)&&(r+=vc(d,c),c=""),u=p,d=d||!Nr(u);o++}return""!==c&&(r+=vc(d,c)),r}function su(n){return Ct(()=>{const r=ud(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yn.Emulated,styles:n.styles||Ft,_:null,schemas:n.schemas||null,tView:null,id:""};oo(o);const u=n.dependencies;return o.directiveDefs=is(u,!1),o.pipeDefs=is(u,!0),o.id=function Ia(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function au(n){return rn(n)||xn(n)}function bs(n){return null!==n}function Ec(n){return Ct(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ns(n,r){if(null==n)return cn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,r&&(r[c]=d)}return o}function rs(n){return Ct(()=>{const r=ud(n);return oo(r),r})}function va(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function rn(n){return n[yi]||null}function xn(n){return n[no]||null}function jn(n){return n[pc]||null}function io(n){const r=rn(n)||xn(n)||jn(n);return null!==r&&r.standalone}function jr(n,r){const o=n[Wn]||null;if(!o&&!0===r)throw new Error(`Type ${Fe(n)} does not have '\u0275mod' property.`);return o}function ud(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||cn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ns(n.inputs,r),outputs:ns(n.outputs)}}function oo(n){n.features?.forEach(r=>r(n))}function is(n,r){if(!n)return null;const o=r?jn:au;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(bs)}const Vn=0,dt=1,Ut=2,Un=3,Kr=4,Io=5,$n=6,Ii=7,Xn=8,Ei=9,ji=10,Bt=11,xo=12,Ss=13,No=14,Hn=15,Rs=16,$i=17,ni=18,Eo=19,cd=20,Oo=21,Hi=22,Tc=23,os=24,Ht=25,Ps=1,wc=2,pr=7,zi=9,Or=11;function Qr(n){return Array.isArray(n)&&"object"==typeof n[Ps]}function gr(n){return Array.isArray(n)&&!0===n[Ps]}function Ea(n){return 0!=(4&n.flags)}function Dr(n){return n.componentOffset>-1}function Dn(n){return 1==(1&n.flags)}function ri(n){return!!n.template}function Ta(n){return 0!=(512&n[Ut])}function To(n,r){return n.hasOwnProperty(Ui)?n[Ui]:null}const li=Symbol("SIGNAL");function ss(n,r){return(null===n||"object"!=typeof n)&&Object.is(n,r)}let ur=null,Gi=!1;function Yr(n){const r=ur;return ur=n,r}const Mc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Da(n){if(Gi)throw new Error("");if(null===ur)return;const r=ur.nextProducerIndex++;Ca(ur),r<ur.producerNode.length&&ur.producerNode[r]!==n&&mu(ur)&&wo(ur.producerNode[r],ur.producerIndexOfThis[r]),ur.producerNode[r]!==n&&(ur.producerNode[r]=n,ur.producerIndexOfThis[r]=mu(ur)?sf(n,ur,r):0),ur.producerLastReadVersion[r]=n.version}function nf(n){if(!mu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!rf(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function as(n){if(void 0===n.liveConsumerNode)return;const r=Gi;Gi=!0;try{for(const o of n.liveConsumerNode)o.dirty||xs(o)}finally{Gi=r}}function xc(){return!1!==ur?.consumerAllowSignalWrites}function xs(n){n.dirty=!0,as(n),n.consumerMarkedDirty?.(n)}function Aa(n){return n&&(n.nextProducerIndex=0),Yr(n)}function Ns(n,r){if(Yr(r),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(mu(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)wo(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function rf(n){Ca(n);for(let r=0;r<n.producerNode.length;r++){const o=n.producerNode[r],u=n.producerLastReadVersion[r];if(u!==o.version||(nf(o),u!==o.version))return!0}return!1}function gu(n){if(Ca(n),mu(n))for(let r=0;r<n.producerNode.length;r++)wo(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function sf(n,r,o){if(_u(n),Ca(n),0===n.liveConsumerNode.length)for(let u=0;u<n.producerNode.length;u++)n.producerIndexOfThis[u]=sf(n.producerNode[u],n,u);return n.liveConsumerIndexOfThis.push(o),n.liveConsumerNode.push(r)-1}function wo(n,r){if(_u(n),Ca(n),1===n.liveConsumerNode.length)for(let u=0;u<n.producerNode.length;u++)wo(n.producerNode[u],n.producerIndexOfThis[u]);const o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){const u=n.liveConsumerIndexOfThis[r],c=n.liveConsumerNode[r];Ca(c),c.producerIndexOfThis[u]=r}}function mu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ca(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function _u(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yu(n,r){const o=Object.create(C);o.computation=n,r?.equal&&(o.equal=r.equal);const u=()=>{if(nf(o),Da(o),o.value===O)throw o.error;return o.value};return u[li]=o,u}const gd=Symbol("UNSET"),v=Symbol("COMPUTING"),O=Symbol("ERRORED"),C=(()=>({...Mc,value:gd,dirty:!0,error:null,equal:ss,producerMustRecompute:n=>n.value===gd||n.value===v,producerRecomputeValue(n){if(n.value===v)throw new Error("Detected cycle in computations.");const r=n.value;n.value=v;const o=Aa(n);let u;try{u=n.computation()}catch(c){u=O,n.error=c}finally{Ns(n,o)}r!==gd&&r!==O&&u!==O&&n.equal(r,u)?n.value=r:(n.value=u,n.version++)}}))();let G=function x(){throw new Error};function Te(){G()}let It=null;function Pn(n,r){const o=Object.create(En);function u(){return Da(o),o.value}return o.value=n,r?.equal&&(o.equal=r.equal),u.set=On,u.update=bn,u.mutate=mr,u.asReadonly=so,u[li]=o,u}const En=(()=>({...Mc,equal:ss,readonlyFn:void 0}))();function tn(n){n.version++,as(n),It?.()}function On(n){const r=this[li];xc()||Te(),r.equal(r.value,n)||(r.value=n,tn(r))}function bn(n){xc()||Te(),On.call(this,n(this[li].value))}function mr(n){const r=this[li];xc()||Te(),n(r.value),tn(r)}function so(){const n=this[li];if(void 0===n.readonlyFn){const r=()=>this();r[li]=n,n.readonlyFn=r}return n.readonlyFn}function wi(n){const r=Yr(null);try{return n()}finally{Yr(r)}}const cr=()=>{},ao=(()=>({...Mc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:cr}))();class us{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function md(){return af}function af(n){return n.type.prototype.ngOnChanges&&(n.setInput=_d),Tv}function Tv(){const n=$g(this),r=n?.current;if(r){const o=n.previous;if(o===cn)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function _d(n,r,o,u){const c=this.declaredInputs[o],d=$g(n)||function Os(n,r){return n[jg]=r}(n,{previous:cn,current:null}),p=d.current||(d.current={}),y=d.previous,T=y[c];p[c]=new us(T&&T.currentValue,r,y===cn),n[u]=r}md.ngInherit=!0;const jg="__ngSimpleChanges__";function $g(n){return n[jg]||null}const Uo=function(n,r,o){};function ln(n){for(;Array.isArray(n);)n=n[Vn];return n}function Oc(n,r){return ln(r[n])}function Ar(n,r){return ln(r[n.index])}function kc(n,r){return n.data[r]}function ba(n,r){return n[r]}function Wi(n,r){const o=r[n];return Qr(o)?o:o[Vn]}function Bo(n,r){return null==r?null:n[r]}function vd(n){n[$i]=0}function Fc(n){1024&n[Ut]||(n[Ut]|=1024,Id(n,1))}function jo(n){1024&n[Ut]&&(n[Ut]&=-1025,Id(n,-1))}function Id(n,r){let o=n[Un];if(null===o)return;o[Io]+=r;let u=o;for(o=o[Un];null!==o&&(1===r&&1===u[Io]||-1===r&&0===u[Io]);)o[Io]+=r,u=o,o=o[Un]}const zt={lFrame:wn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bv(){return zt.bindingsEnabled}function $o(){return null!==zt.skipHydrationRootTNode}function je(){return zt.lFrame.lView}function Tn(){return zt.lFrame.tView}function Kg(n){return zt.lFrame.contextLView=n,n[Xn]}function Ed(n){return zt.lFrame.contextLView=null,n}function $r(){let n=vu();for(;null!==n&&64===n.type;)n=n.parent;return n}function vu(){return zt.lFrame.currentTNode}function Di(n,r){const o=zt.lFrame;o.currentTNode=n,o.isParent=r}function Iu(){return zt.lFrame.isParent}function Td(){zt.lFrame.isParent=!1}function Ai(){const n=zt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Lc(){return zt.lFrame.bindingIndex++}function Fs(n){const r=zt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function m(n,r){const o=zt.lFrame;o.bindingIndex=o.bindingRootIndex=n,S(r)}function S(n){zt.lFrame.currentDirectiveIndex=n}function z(){return zt.lFrame.currentQueryIndex}function ye(n){zt.lFrame.currentQueryIndex=n}function _e(n){const r=n[dt];return 2===r.type?r.declTNode:1===r.type?n[$n]:null}function ut(n,r,o){if(o&ft.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||o&ft.Host||(c=_e(d),null===c||(d=d[No],10&c.type))););if(null===c)return!1;r=c,n=d}const u=zt.lFrame=Mn();return u.currentTNode=r,u.lView=n,!0}function jt(n){const r=Mn(),o=n[dt];zt.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Mn(){const n=zt.lFrame,r=null===n?null:n.child;return null===r?wn(n):r}function wn(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ao(){const n=zt.lFrame;return zt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ra=Ao;function Ls(){const n=Ao();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function di(){return zt.lFrame.selectedIndex}function Eu(n){zt.lFrame.selectedIndex=n}function rr(){const n=zt.lFrame;return kc(n.tView,n.selectedIndex)}let ff=!0;function Uc(){return ff}function cs(n){ff=n}function Bc(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const d=n.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:k}=d;p&&(n.contentHooks??=[]).push(-o,p),y&&((n.contentHooks??=[]).push(o,y),(n.contentCheckHooks??=[]).push(o,y)),T&&(n.viewHooks??=[]).push(-o,T),R&&((n.viewHooks??=[]).push(o,R),(n.viewCheckHooks??=[]).push(o,R)),null!=k&&(n.destroyHooks??=[]).push(o,k)}}function Xg(n,r,o){xv(n,r,3,o)}function ls(n,r,o,u){(3&n[Ut])===o&&xv(n,r,o,u)}function Dd(n,r){let o=n[Ut];(3&o)===r&&(o&=8191,o+=1,n[Ut]=o)}function xv(n,r,o,u){const d=u??-1,p=r.length-1;let y=0;for(let T=void 0!==u?65535&n[$i]:0;T<p;T++)if("number"==typeof r[T+1]){if(y=r[T],null!=u&&y>=u)break}else r[T]<0&&(n[$i]+=65536),(y<d||-1==d)&&(Sw(n,o,r,T),n[$i]=(4294901760&n[$i])+T+2),T++}function Nv(n,r){Uo(4,n,r);const o=Yr(null);try{r.call(n)}finally{Yr(o),Uo(5,n,r)}}function Sw(n,r,o,u){const c=o[u]<0,d=o[u+1],y=n[c?-o[u]:o[u]];c?n[Ut]>>13<n[$i]>>16&&(3&n[Ut])===r&&(n[Ut]+=8192,Nv(y,d)):Nv(y,d)}const Ma=-1;class Ad{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Zg(n){return n!==Ma}function Vs(n){return 32767&n}function bd(n,r){let o=function Rw(n){return n>>16}(n),u=r;for(;o>0;)u=u[No],o--;return u}let Sd=!0;function jc(n){const r=Sd;return Sd=n,r}const Pw=255,Lv=5;let Vv=0;const Ho={};function pf(n,r){const o=Mw(n,r);if(-1!==o)return o;const u=r[dt];u.firstCreatePass&&(n.injectorIndex=r.length,Rd(u.data,n),Rd(r,null),Rd(u.blueprint,null));const c=gf(n,r),d=n.injectorIndex;if(Zg(c)){const p=Vs(c),y=bd(c,r),T=y[dt].data;for(let R=0;R<8;R++)r[d+R]=y[p+R]|T[p+R]}return r[d+8]=c,d}function Rd(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Mw(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function gf(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=r;for(;null!==c;){if(u=zv(c),null===u)return Ma;if(o++,c=c[No],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Ma}function Pd(n,r,o){!function XA(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(vi)&&(u=o[vi]),null==u&&(u=o[vi]=Vv++);const c=u&Pw;r.data[n+(c>>Lv)]|=1<<c}(n,r,o)}function Uv(n,r,o){if(o&ft.Optional||void 0!==n)return n;de()}function mf(n,r,o,u){if(o&ft.Optional&&void 0===u&&(u=null),!(o&(ft.Self|ft.Host))){const c=n[Ei],d=nr(void 0);try{return c?c.get(r,u,o&ft.Optional):ei(r,u,o&ft.Optional)}finally{nr(d)}}return Uv(u,0,o)}function xw(n,r,o,u=ft.Default,c){if(null!==n){if(2048&r[Ut]&&!(u&ft.Self)){const p=function Ow(n,r,o,u,c){let d=n,p=r;for(;null!==d&&null!==p&&2048&p[Ut]&&!(512&p[Ut]);){const y=_f(d,p,o,u|ft.Self,Ho);if(y!==Ho)return y;let T=d.parent;if(!T){const R=p[cd];if(R){const k=R.get(o,Ho,u);if(k!==Ho)return k}T=zv(p),p=p[No]}d=T}return c}(n,r,o,u,Ho);if(p!==Ho)return p}const d=_f(n,r,o,u,Ho);if(d!==Ho)return d}return mf(r,o,u,c)}function _f(n,r,o,u,c){const d=function em(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(vi)?n[vi]:void 0;return"number"==typeof r?r>=0?r&Pw:Nw:r}(o);if("function"==typeof d){if(!ut(r,n,u))return u&ft.Host?Uv(c,0,u):mf(r,o,u,c);try{let p;if(p=d(u),null!=p||u&ft.Optional)return p;de()}finally{Ra()}}else if("number"==typeof d){let p=null,y=Mw(n,r),T=Ma,R=u&ft.Host?r[Hn][$n]:null;for((-1===y||u&ft.SkipSelf)&&(T=-1===y?gf(n,r):r[y+8],T!==Ma&&$v(u,!1)?(p=r[dt],y=Vs(T),r=bd(T,r)):y=-1);-1!==y;){const k=r[dt];if(jv(d,y,k.data)){const H=Bv(y,r,o,p,u,R);if(H!==Ho)return H}T=r[y+8],T!==Ma&&$v(u,r[dt].data[y+8]===R)&&jv(d,y,r)?(p=k,y=Vs(T),r=bd(T,r)):y=-1}}return c}function Bv(n,r,o,u,c,d){const p=r[dt],y=p.data[n+8],k=$c(y,p,o,null==u?Dr(y)&&Sd:u!=p&&0!=(3&y.type),c&ft.Host&&d===y);return null!==k?xa(r,p,k,y):Ho}function $c(n,r,o,u,c){const d=n.providerIndexes,p=r.data,y=1048575&d,T=n.directiveStart,k=d>>20,ne=c?y+k:n.directiveEnd;for(let ae=u?y:y+k;ae<ne;ae++){const Re=p[ae];if(ae<T&&o===Re||ae>=T&&Re.type===o)return ae}if(c){const ae=p[T];if(ae&&ri(ae)&&ae.type===o)return T}return null}function xa(n,r,o,u){let c=n[o];const d=r.data;if(function QA(n){return n instanceof Ad}(c)){const p=c;p.resolving&&function Br(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(d[o]));const y=jc(p.canSeeViewProviders);p.resolving=!0;const R=p.injectImpl?nr(p.injectImpl):null;ut(n,u,ft.Default);try{c=n[o]=p.factory(void 0,d,n,u),r.firstCreatePass&&o>=u.directiveStart&&function KA(n,r,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(u){const p=af(r);(o.preOrderHooks??=[]).push(n,p),(o.preOrderCheckHooks??=[]).push(n,p)}c&&(o.preOrderHooks??=[]).push(0-n,c),d&&((o.preOrderHooks??=[]).push(n,d),(o.preOrderCheckHooks??=[]).push(n,d))}(o,d[o],r)}finally{null!==R&&nr(R),jc(y),p.resolving=!1,Ra()}}return c}function jv(n,r,o){return!!(o[r+(n>>Lv)]&1<<n)}function $v(n,r){return!(n&ft.Self||n&ft.Host&&r)}class Ci{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return xw(this._tNode,this._lView,r,Vi(u),o)}}function Nw(){return new Ci($r(),je())}function yf(n){return Ct(()=>{const r=n.prototype.constructor,o=r[Ui]||tm(r),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const d=c[Ui]||tm(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function tm(n){return At(n)?()=>{const r=tm(Ye(n));return r&&r()}:To(n)}function zv(n){const r=n[dt],o=r.type;return 2===o?r.declTNode:1===o?n[$n]:null}function Md(n){return function JA(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(gc(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===r)return o[c+1];c+=2}}}return null}($r(),n)}const Gc="__parameters__";function qc(n,r,o){return Ct(()=>{const u=function Wc(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(r);function c(...d){if(this instanceof c)return u.apply(this,d),this;const p=new c(...d);return y.annotation=p,y;function y(T,R,k){const H=T.hasOwnProperty(Gc)?T[Gc]:Object.defineProperty(T,Gc,{value:[]})[Gc];for(;H.length<=k;)H.push(null);return(H[k]=H[k]||[]).push(p),T}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function Yc(n,r){n.forEach(o=>Array.isArray(o)?Yc(o,r):r(o))}function qv(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function vf(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Xc(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function uo(n,r,o){let u=wu(n,r);return u>=0?n[1|u]=o:(u=~u,function rm(n,r,o,u){let c=n.length;if(c==r)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function If(n,r){const o=wu(n,r);if(o>=0)return n[1|o]}function wu(n,r){return function Bw(n,r,o){let u=0,c=n.length>>o;for(;c!==u;){const d=u+(c-u>>1),p=n[d<<o];if(r===p)return d<<o;p>r?c=d:u=d+1}return~(c<<o)}(n,r,1)}const wf=oe(qc("Optional"),8),Df=oe(qc("SkipSelf"),4);function dm(n){return 128==(128&n.flags)}var fm=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fm||{});const _C=/^>|^->|<!--|-->|--!>|<!-$/g,yC=/(<|>)/g,vC="\u200b$1\u200b";const nI=new Map;let IC=0;const iI="__ngContext__";function bi(n,r){Qr(r)?(n[iI]=r[Eo],function TC(n){nI.set(n[Eo],n)}(r)):n[iI]=r}let zo;function Sf(n,r){return zo(n,r)}function Us(n){const r=n[Un];return gr(r)?r[Un]:r}function Pf(n){return mm(n[xo])}function gm(n){return mm(n[Kr])}function mm(n){for(;null!==n&&!gr(n);)n=n[Kr];return n}function Du(n,r,o,u,c){if(null!=u){let d,p=!1;gr(u)?d=u:Qr(u)&&(p=!0,u=u[Vn]);const y=ln(u);0===n&&null!==o?null==c?cI(r,o,y):Au(r,o,y,c||null,!0):1===n&&null!==o?Au(r,o,y,c||null,!0):2===n?function dn(n,r,o){const u=kd(n,r);u&&function o0(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,y,p):3===n&&r.destroyNode(y),null!=d&&function Su(n,r,o,u,c){const d=o[pr];d!==ln(o)&&Du(r,n,u,d,c);for(let y=Or;y<o.length;y++){const T=o[y];ot(T[dt],T,n,r,u,d)}}(r,n,d,o,c)}}function Oa(n,r){return n.createComment(function Xw(n){return n.replace(_C,r=>r.replace(yC,vC))}(r))}function Go(n,r,o){return n.createElement(r,o)}function gt(n,r){const o=n[zi],u=o.indexOf(r);jo(r),o.splice(u,1)}function vt(n,r){if(n.length<=Or)return;const o=Or+r,u=n[o];if(u){const c=u[Rs];null!==c&&c!==n&&gt(c,u),r>0&&(n[o-1][Kr]=u[Kr]);const d=vf(n,Or+r);!function el(n,r){ot(n,r,r[Bt],2,null,null),r[Vn]=null,r[$n]=null}(u[dt],u);const p=d[ni];null!==p&&p.detachView(d[dt]),u[Un]=null,u[Kr]=null,u[Ut]&=-129}return u}function uI(n,r){if(!(256&r[Ut])){const o=r[Bt];r[Tc]&&gu(r[Tc]),r[os]&&gu(r[os]),o.destroyNode&&ot(n,r,o,3,null,null),function br(n){let r=n[xo];if(!r)return it(n[dt],n);for(;r;){let o=null;if(Qr(r))o=r[xo];else{const u=r[Or];u&&(o=u)}if(!o){for(;r&&!r[Kr]&&r!==n;)Qr(r)&&it(r[dt],r),r=r[Un];null===r&&(r=n),Qr(r)&&it(r[dt],r),o=r&&r[Kr]}r=o}}(r)}}function it(n,r){if(!(256&r[Ut])){r[Ut]&=-129,r[Ut]|=256,function Qe(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=r[o[u]];if(!(c instanceof Ad)){const d=o[u+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=c[d[p]],T=d[p+1];Uo(4,y,T);try{T.call(y)}finally{Uo(5,y,T)}}else{Uo(4,c,d);try{d.call(c)}finally{Uo(5,c,d)}}}}}(n,r),function Ae(n,r){const o=n.cleanup,u=r[Ii];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+3];p>=0?u[p]():u[-p].unsubscribe(),d+=2}else o[d].call(u[o[d+1]]);null!==u&&(r[Ii]=null);const c=r[Oo];if(null!==c){r[Oo]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(n,r),1===r[dt].type&&r[Bt].destroy();const o=r[Rs];if(null!==o&&gr(r[Un])){o!==r[Un]&&gt(o,r);const u=r[ni];null!==u&&u.detachView(n)}!function wC(n){nI.delete(n[Eo])}(r)}}function kr(n,r,o){return function ym(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[Vn];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:d}=n.data[u.directiveStart+c];if(d===yn.None||d===yn.Emulated)return null}return Ar(u,o)}}(n,r.parent,o)}function Au(n,r,o,u,c){n.insertBefore(r,o,u,c)}function cI(n,r,o){n.appendChild(r,o)}function lI(n,r,o,u,c){null!==u?Au(n,r,o,u,c):cI(n,r,o)}function kd(n,r){return n.parentNode(r)}function a0(n,r,o){return vm(n,r,o)}let $t,Vd,lo,vm=function dI(n,r,o){return 40&n.type?Ar(n,o):null};function Fd(n,r,o,u){const c=kr(n,u,r),d=r[Bt],y=a0(u.parent||r[$n],u,r);if(null!=c)if(Array.isArray(o))for(let T=0;T<o.length;T++)lI(d,c,o[T],y,!1);else lI(d,c,o,y,!1);void 0!==$t&&$t(d,u,r,o,c)}function qn(n,r){if(null!==r){const o=r.type;if(3&o)return Ar(r,n);if(4&o)return bu(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return qn(n,u);{const c=n[r.index];return gr(c)?bu(-1,c):ln(c)}}if(32&o)return Sf(r,n)()||ln(n[r.index]);{const u=bt(n,r);return null!==u?Array.isArray(u)?u[0]:qn(Us(n[Hn]),u):qn(n,r.next)}}return null}function bt(n,r){return null!==r?n[Hn][$n].projection[r.projection]:null}function bu(n,r){const o=Or+n+1;if(o<r.length){const u=r[o],c=u[dt].firstChild;if(null!==c)return qn(u,c)}return r[pr]}function Jn(n,r,o,u,c,d,p){for(;null!=o;){const y=u[o.index],T=o.type;if(p&&0===r&&(y&&bi(ln(y),u),o.flags|=2),32!=(32&o.flags))if(8&T)Jn(n,r,o.child,u,c,d,!1),Du(r,n,c,y,d);else if(32&T){const R=Sf(o,u);let k;for(;k=R();)Du(r,n,c,k,d);Du(r,n,c,y,d)}else 16&T?Mf(n,r,u,o,c,d):Du(r,n,c,y,d);o=p?o.projectionNext:o.next}}function ot(n,r,o,u,c,d){Jn(o,u,n.firstChild,r,c,d,!1)}function Mf(n,r,o,u,c,d){const p=o[Hn],T=p[$n].projection[u.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)Du(r,n,c,T[R],d);else{let R=T;const k=p[Un];dm(u)&&(R.flags|=128),Jn(n,r,R,k,c,d,!0)}}function fI(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Pu(n,r,o){const{mergedAttrs:u,classes:c,styles:d}=o;null!==u&&As(n,r,u),null!==c&&fI(n,r,c),null!==d&&function Ru(n,r,o){n.setAttribute(r,"style",o)}(n,r,d)}function fe(n){Vd=n}function js(n){return function Nf(){if(void 0===lo&&(lo=null,Dt.trustedTypes))try{lo=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return lo}()?.createScriptURL(n)||n}class mI{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}function Fr(n){return n instanceof mI?n.changingThisBreaksApplicationSecurity:n}function $s(n,r){const o=function Ud(n){return n instanceof mI&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Ge})`)}return o===r}const g0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ho=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ho||{});function zn(n){const r=Zn();return r?r.sanitize(ho.URL,n)||"":$s(n,"URL")?Fr(n):function wm(n){return(n=String(n)).match(g0)?n:"unsafe:"+n}(rt(n))}function jd(n){const r=Zn();if(r)return js(r.sanitize(ho.RESOURCE_URL,n)||"");if($s(n,"ResourceURL"))return js(Fr(n));throw new Ze(904,!1)}function Ri(n,r,o){return function rl(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?jd:zn}(r,o)(n)}function Zn(){const n=je();return n&&n[ji].sanitizer}const $d=new Mt("ENVIRONMENT_INITIALIZER"),ds=new Mt("INJECTOR",-1),ir=new Mt("INJECTOR_DEF_TYPES");class Wo{get(r,o=nt){if(o===nt){const u=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw u.name="NullInjectorError",u}return o}}function zd(...n){return{\u0275providers:il(0,n),\u0275fromNgModule:!0}}function il(n,...r){const o=[],u=new Set;let c;const d=p=>{o.push(p)};return Yc(r,p=>{const y=p;hs(y,d,[],u)&&(c||=[],c.push(y))}),void 0!==c&&RI(c,d),o}function RI(n,r){for(let o=0;o<n.length;o++){const{ngModule:u,providers:c}=n[o];ol(c,d=>{r(d,u)})}}function hs(n,r,o,u){if(!(n=Ye(n)))return!1;let c=null,d=Ln(n);const p=!d&&rn(n);if(d||p){if(p&&!p.standalone)return!1;c=n}else{const T=n.ngModule;if(d=Ln(T),!d)return!1;c=T}const y=u.has(c);if(p){if(y)return!1;if(u.add(c),p.dependencies){const T="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const R of T)hs(R,r,o,u)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let R;u.add(c);try{Yc(d.imports,k=>{hs(k,r,o,u)&&(R||=[],R.push(k))})}finally{}void 0!==R&&RI(R,r)}if(!y){const R=To(c)||(()=>new c);r({provide:c,useFactory:R,deps:Ft},c),r({provide:ir,useValue:c,multi:!0},c),r({provide:$d,useValue:()=>fr(c),multi:!0},c)}const T=d.providers;if(null!=T&&!y){const R=n;ol(T,k=>{r(k,R)})}}}return c!==n&&void 0!==n.providers}function ol(n,r){for(let o of n)Cn(o)&&(o=o.\u0275providers),Array.isArray(o)?ol(o,r):r(o)}const Fa=xe({provide:String,useValue:xe});function So(n){return null!==n&&"object"==typeof n&&Fa in n}function La(n){return"function"==typeof n}const Va=new Mt("Set Injector scope."),al={},Ff={};let Ws;function ul(){return void 0===Ws&&(Ws=new Wo),Ws}class qi{}class Nu extends qi{get destroyed(){return this._destroyed}constructor(r,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(r,p=>this.processProvider(p)),this.records.set(ds,Ou(void 0,this)),c.has("environment")&&this.records.set(qi,Ou(void 0,this));const d=this.records.get(Va);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ir.multi,Ft,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ti(this),u=nr(void 0);try{return r()}finally{ti(o),nr(u)}}get(r,o=nt,u=ft.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yo))return r[yo](this);u=Vi(u);const d=ti(this),p=nr(void 0);try{if(!(u&ft.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function v0(n){return"function"==typeof n||"object"==typeof n&&n instanceof Mt}(r)&&Vt(r);T=R&&this.injectableDefInScope(R)?Ou(Lf(r),al):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(u&ft.Self?ul():this.parent).get(r,o=u&ft.Optional&&o===nt?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[sn]=y[sn]||[]).unshift(Fe(r)),d)throw y;return function st(n,r,o,u){const c=n[sn];throw r[vr]&&c.unshift(r[vr]),n.message=function xt(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Fe(r);if(Array.isArray(r))c=r.map(Fe).join(" -> ");else if("object"==typeof r){let d=[];for(let p in r)if(r.hasOwnProperty(p)){let y=r[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):Fe(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(ar,"\n  ")}`}("\n"+n.message,c,o,u),n.ngTokenPath=c,n[sn]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{nr(p),ti(d)}}resolveInjectorInitializers(){const r=ti(this),o=nr(void 0);try{const c=this.get($d.multi,Ft,ft.Self);for(const d of c)d()}finally{ti(r),nr(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Fe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(r){let o=La(r=Ye(r))?r:Ye(r&&r.provide);const u=function Uf(n){return So(n)?Ou(void 0,n.useValue):Ou(cl(n),al)}(r);if(La(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ou(void 0,al,!0),c.factory=()=>we(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===al&&(o.value=Ff,o.value=o.factory()),"object"==typeof o.value&&o.value&&function y0(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ye(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Lf(n){const r=Vt(n),o=null!==r?r.factory:To(n);if(null!==o)return o;if(n instanceof Mt)throw new Ze(204,!1);if(n instanceof Function)return function Vf(n){const r=n.length;if(r>0)throw Xc(r,"?"),new Ze(204,!1);const o=function hr(n){return n&&(n[tr]||n[on])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ze(204,!1)}function cl(n,r,o){let u;if(La(n)){const c=Ye(n);return To(c)||Lf(c)}if(So(n))u=()=>Ye(n.useValue);else if(function Gs(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...we(n.deps||[]));else if(function sl(n){return!(!n||!n.useExisting)}(n))u=()=>fr(Ye(n.useExisting));else{const c=Ye(n&&(n.useClass||n.provide));if(!function MI(n){return!!n.deps}(n))return To(c)||Lf(c);u=()=>new c(...we(n.deps))}return u}function Ou(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Bf(n,r){for(const o of n)Array.isArray(o)?Bf(o,r):o&&Cn(o)?Bf(o.\u0275providers,r):r(o)}const Rm=new Mt("AppId",{providedIn:"root",factory:()=>oi}),oi="ng",Pm=new Mt("Platform Initializer"),Kn=new Mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xI=new Mt("CSP nonce",{providedIn:"root",factory:()=>function Bs(){if(void 0!==Vd)return Vd;if(typeof document<"u")return document;throw new Ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NI=(n,r,o)=>null;function qs(n,r,o=!1){return NI(n,r,o)}class hi{}class Fm{}class Yd{resolveComponentFactory(r){throw function kI(n){const r=Error(`No component factory found for ${Fe(n)}.`);return r.ngComponent=n,r}(r)}}let Xd=(()=>{class n{static{this.NULL=new Yd}}return n})();function pl(){return fs($r(),je())}function fs(n,r){return new gl(Ar(n,r))}let gl=(()=>{class n{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=pl}}return n})();function FI(n){return n instanceof gl?n.nativeElement:n}class LI{}let Qs=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function C0(){const n=je(),o=Wi($r().index,n);return(Qr(o)?o:n)[Bt]}()}}return n})(),Ki=(()=>{class n{static{this.\u0275prov=pn({token:n,providedIn:"root",factory:()=>null})}}return n})();class Vm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ml=new Vm("16.2.12"),qf={};function Jd(n,r=null,o=null,u){const c=UI(n,r,o,u);return c.resolveInjectorInitializers(),c}function UI(n,r=null,o=null,u,c=new Set){const d=[o||Ft,zd(n)];return u=u||("object"==typeof n?void 0:Fe(n)),new Nu(d,r||ul(),u||null,c)}let qo=(()=>{class n{static{this.THROW_IF_NOT_FOUND=nt}static{this.NULL=new Wo}static create(o,u){if(Array.isArray(o))return Jd({name:""},u,o,"");{const c=o.name??"";return Jd({name:c},o.parent,o.providers,c)}}static{this.\u0275prov=pn({token:n,providedIn:"any",factory:()=>fr(ds)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Xs(n){return n.ngOriginalError}class Js{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Xs(r);for(;o&&Xs(o);)o=Xs(o);return o||null}}function Yf(n){return r=>{setTimeout(n,void 0,r)}}const Qi=class jI extends A.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let c=r,d=o||(()=>null),p=u;if(r&&"object"==typeof r){const T=r;c=T.next?.bind(T),d=T.error?.bind(T),p=T.complete?.bind(T)}this.__isAsync&&(d=Yf(d),c&&(c=Yf(c)),p&&(p=Yf(p)));const y=super.subscribe({next:c,error:d,complete:p});return r instanceof K.yU&&r.add(y),y}};function $I(...n){}class Rr{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qi(!1),this.onMicrotaskEmpty=new Qi(!1),this.onStable=new Qi(!1),this.onError=new Qi(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function M0(){const n="function"==typeof Dt.requestAnimationFrame;let r=Dt[n?"requestAnimationFrame":"setTimeout"],o=Dt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eh(n){const r=()=>{!function x0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jm(n),n.isCheckStableRunning=!0,Jf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,p,y)=>{if(function HI(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(c,d,p,y);try{return $m(n),o.invokeTask(c,d,p,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),Lu(n)}},onInvoke:(o,u,c,d,p,y,T)=>{try{return $m(n),o.invoke(c,d,p,y,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),Lu(n)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,jm(n),Jf(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rr.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Rr.isInAngularZone())throw new Ze(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,c){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+c,r,Xf,$I,$I);try{return d.runTask(p,o,u)}finally{d.cancelTask(p)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const Xf={};function Jf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $m(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Lu(n){n._nesting--,Jf(n)}class Zs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qi,this.onMicrotaskEmpty=new Qi,this.onStable=new Qi,this.onError=new Qi}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,c){return r.apply(o,u)}}const Hm=new Mt("",{providedIn:"root",factory:zm});function zm(){const n=gn(Rr);let r=!0;return function Ve(...n){const r=(0,me.lI)(n),o=(0,me.R0)(n,1/0),u=n;return u.length?1===u.length?(0,U.Tg)(u[0]):(0,De.U)(o)((0,et.H)(u,r)):pe.w}(new Se.c(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Se.c(c=>{let d;n.runOutsideAngular(()=>{d=n.onStable.subscribe(()=>{Rr.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const p=n.onUnstable.subscribe(()=>{Rr.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}}).pipe(We()))}function Ko(n){return n instanceof Function?n():n}let ep=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pn({token:n,providedIn:"root",factory:()=>new n})}}return n})();function $a(n){for(;n;){n[Ut]|=64;const r=Us(n);if(Ta(n)&&!r)return n;n=r}return null}const qm=new Mt("",{providedIn:"root",factory:()=>!1});let tp=null;function KI(n,r){return n[r]??Uu()}function QI(n,r){const o=Uu();o.producerNode?.length&&(n[r]=tp,o.lView=n,tp=np())}const L0={...Mc,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$a(n.lView)},lView:null};function np(){return Object.create(L0)}function Uu(){return tp??=np(),tp}const Xt={};function YI(n){Er(Tn(),je(),di()+n,!1)}function Er(n,r,o,u){if(!u)if(3==(3&r[Ut])){const d=n.preOrderCheckHooks;null!==d&&Xg(r,d,o)}else{const d=n.preOrderHooks;null!==d&&ls(r,d,0,o)}Eu(o)}function Ha(n,r=ft.Default){const o=je();return null===o?fr(n,r):xw($r(),o,Ye(n),r)}function rp(){throw new Error("invalid")}function za(n,r,o,u,c,d,p,y,T,R,k){const H=r.blueprint.slice();return H[Vn]=c,H[Ut]=140|u,(null!==R||n&&2048&n[Ut])&&(H[Ut]|=2048),vd(H),H[Un]=H[No]=n,H[Xn]=o,H[ji]=p||n&&n[ji],H[Bt]=y||n&&n[Bt],H[Ei]=T||n&&n[Ei]||null,H[$n]=d,H[Eo]=function EC(){return IC++}(),H[Hi]=k,H[cd]=R,H[Hn]=2==r.type?n[Hn]:H,H}function Pi(n,r,o,u,c){let d=n.data[r];if(null===d)d=function ip(n,r,o,u,c){const d=vu(),p=Iu(),T=n.data[r]=function U0(n,r,o,u,c,d){let p=r?r.injectorIndex:-1,y=0;return $o()&&(y|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,r,u,c);return null===n.firstChild&&(n.firstChild=T),null!==d&&(p?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T,T.prev=d)),T}(n,r,o,u,c),function _(){return zt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const p=function Sa(){const n=zt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Di(d,!0),d}function El(n,r,o,u){if(0===o)return-1;const c=r.length;for(let d=0;d<o;d++)r.push(u),n.blueprint.push(u),n.data.push(null);return c}function op(n,r,o,u,c){const d=KI(r,Tc),p=di(),y=2&u;try{Eu(-1),y&&r.length>Ht&&Er(n,r,Ht,!1),Uo(y?2:0,c);const R=y?d:null,k=Aa(R);try{null!==R&&(R.dirty=!1),o(u,c)}finally{Ns(R,k)}}finally{y&&null===r[Tc]&&QI(r,Tc),Eu(p),Uo(y?3:1,c)}}function sp(n,r,o){if(Ea(r)){const u=Yr(null);try{const d=r.directiveEnd;for(let p=r.directiveStart;p<d;p++){const y=n.data[p];y.contentQueries&&y.contentQueries(1,o[p],p)}}finally{Yr(u)}}}function ap(n,r,o){bv()&&(function iE(n,r,o,u){const c=o.directiveStart,d=o.directiveEnd;Dr(o)&&function sE(n,r,o){const u=Ar(r,n),c=JI(o);let p=16;o.signals?p=4096:o.onPush&&(p=64);const y=ms(n,za(n,c,null,p,u,r,null,n[ji].rendererFactory.createRenderer(u,o),null,null,null));n[r.index]=y}(r,o,n.data[c+o.componentOffset]),n.firstCreatePass||pf(o,r),bi(u,r);const p=o.initialInputs;for(let y=c;y<d;y++){const T=n.data[y],R=xa(r,n,y,o);bi(R,r),null!==p&&aE(0,y-c,R,T,0,p),ri(T)&&(Wi(o.index,r)[Xn]=xa(r,n,y,o))}}(n,r,o,Ar(o,r)),64==(64&o.flags)&&oh(n,r,o))}function up(n,r,o=Ar){const u=r.localNames;if(null!==u){let c=r.index+1;for(let d=0;d<u.length;d+=2){const p=u[d+1],y=-1===p?o(r,n):n[p];n[c++]=y}}}function JI(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Xm(n,r,o,u,c,d,p,y,T,R,k){const H=Ht+u,ne=H+c,ae=function ih(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Xt);return o}(H,ne),Re="function"==typeof R?R():R;return ae[dt]={type:n,blueprint:ae,template:o,queries:null,viewQuery:y,declTNode:r,data:ae.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:T,consts:Re,incompleteFirstPass:!1,ssrId:k}}let Zm=n=>null;function e_(n,r,o,u){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const d=n[c];null===u?tE(o,r,c,d):u.hasOwnProperty(c)&&tE(o,r,u[c],d)}return o}function tE(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function lp(n,r,o,u){if(bv()){const c=null===u?null:{"":-1},d=function ju(n,r){const o=n.directiveRegistry;let u=null,c=null;if(o)for(let d=0;d<o.length;d++){const p=o[d];if(_a(r,p.selectors,!1))if(u||(u=[]),ri(p))if(null!==p.findHostDirectiveDefs){const y=[];c=c||new Map,p.findHostDirectiveDefs(p,y,c),u.unshift(...y,p),ea(n,r,y.length)}else u.unshift(p),ea(n,r,0);else c=c||new Map,p.findHostDirectiveDefs?.(p,u,c),u.push(p)}return null===u?null:[u,c]}(n,o);let p,y;null===d?p=y=null:[p,y]=d,null!==p&&gs(n,r,o,p,c,y),c&&function sh(n,r,o){if(r){const u=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=o[r[c+1]];if(null==d)throw new Ze(-301,!1);u.push(r[c],d)}}}(o,u,c)}o.mergedAttrs=vo(o.mergedAttrs,o.attrs)}function gs(n,r,o,u,c,d){for(let R=0;R<u.length;R++)Pd(pf(o,r),n,u[R].type);!function t_(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let R=0;R<u.length;R++){const k=u[R];k.providersResolver&&k.providersResolver(k)}let p=!1,y=!1,T=El(n,r,u.length,null);for(let R=0;R<u.length;R++){const k=u[R];o.mergedAttrs=vo(o.mergedAttrs,k.hostAttrs),n_(n,o,r,T,k),oE(T,k,c),null!==k.contentQueries&&(o.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(o.flags|=64);const H=k.type.prototype;!p&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),p=!0),!y&&(H.ngOnChanges||H.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),y=!0),T++}!function B0(n,r,o){const c=r.directiveEnd,d=n.data,p=r.attrs,y=[];let T=null,R=null;for(let k=r.directiveStart;k<c;k++){const H=d[k],ne=o?o.get(H):null,Re=ne?ne.outputs:null;T=e_(H.inputs,k,T,ne?ne.inputs:null),R=e_(H.outputs,k,R,Re);const He=null===T||null===p||ro(r)?null:dp(T,k,p);y.push(He)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=8),T.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=y,r.inputs=T,r.outputs=R}(n,o,d)}function oh(n,r,o){const u=o.directiveStart,c=o.directiveEnd,d=o.index,p=function w(){return zt.lFrame.currentDirectiveIndex}();try{Eu(d);for(let y=u;y<c;y++){const T=n.data[y],R=r[y];S(y),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Bu(T,R)}}finally{Eu(-1),S(p)}}function Bu(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ea(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function oE(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;ri(r)&&(o[""]=n)}}function n_(n,r,o,u,c){n.data[u]=c;const d=c.factory||(c.factory=To(c.type)),p=new Ad(d,ri(c),Ha);n.blueprint[u]=p,o[u]=p,function rE(n,r,o,u,c){const d=c.hostBindings;if(d){let p=n.hostBindingOpCodes;null===p&&(p=n.hostBindingOpCodes=[]);const y=~r.index;(function $0(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(p)!=y&&p.push(y),p.push(o,u,d)}}(n,r,u,El(n,o,c.hostVars,Xt),c)}function Qo(n,r,o,u,c,d){const p=Ar(n,r);!function r_(n,r,o,u,c,d,p){if(null==d)n.removeAttribute(r,c,o);else{const y=null==p?rt(d):p(d,u||"",c);n.setAttribute(r,c,y,o)}}(r[Bt],p,d,n.value,o,u,c)}function aE(n,r,o,u,c,d){const p=d[r];if(null!==p)for(let y=0;y<p.length;)i_(u,o,p[y++],p[y++],p[y++])}function i_(n,r,o,u,c){const d=Yr(null);try{const p=n.inputTransforms;null!==p&&p.hasOwnProperty(u)&&(c=p[u].call(r,c)),null!==n.setInput?n.setInput(r,c,o,u):r[u]=c}finally{Yr(d)}}function dp(n,r,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===u&&(u=[]);const p=n[d];for(let y=0;y<p.length;y+=2)if(p[y]===r){u.push(d,p[y+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function wl(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null,null]}function uE(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const d=o[u+1];if(-1!==d){const p=n.data[d];ye(o[u]),p.contentQueries(2,r[d],d)}}}function ms(n,r){return n[xo]?n[Ss][Kr]=r:n[xo]=r,n[Ss]=r,r}function o_(n,r,o){ye(0);const u=Yr(null);try{r(n,o)}finally{Yr(u)}}function cE(n){return n[Ii]||(n[Ii]=[])}function lE(n){return n.cleanup||(n.cleanup=[])}function Dl(n,r){const o=n[Ei],u=o?o.get(Js,null):null;u&&u.handleError(r)}function ta(n,r,o,u,c){for(let d=0;d<o.length;){const p=o[d++],y=o[d++];i_(n.data[p],r[p],u,y,c)}}function fi(n,r,o){const u=Oc(r,n);!function zr(n,r,o){n.setValue(r,o)}(n[Bt],u,o)}function hE(n,r){const o=Wi(r,n),u=o[dt];!function fE(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(u,o);const c=o[Vn];null!==c&&null===o[Hi]&&(o[Hi]=qs(c,o[Ei])),hp(u,o,o[Xn])}function hp(n,r,o){jt(r);try{const u=n.viewQuery;null!==u&&o_(1,u,o);const c=n.template;null!==c&&op(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uE(n,r),n.staticViewQueries&&o_(2,n.viewQuery,o);const d=n.components;null!==d&&function z0(n,r){for(let o=0;o<r.length;o++)hE(n,r[o])}(r,d)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[Ut]&=-5,Ls()}}let fp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,u,c){const d=typeof Zone>"u"?null:Zone.current,p=function Lo(n,r,o){const u=Object.create(ao);o&&(u.consumerAllowSignalWrites=!0),u.fn=n,u.schedule=r;const c=p=>{u.cleanupFn=p};return u.ref={notify:()=>xs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!rf(u))return;u.hasRun=!0;const p=Aa(u);try{u.cleanupFn(),u.cleanupFn=cr,u.fn(c)}finally{Ns(u,p)}},cleanup:()=>u.cleanupFn()},u.ref}(o,R=>{this.all.has(R)&&this.queue.set(R,d)},c);let y;this.all.add(p),p.notify();const T=()=>{p.cleanup(),y?.(),this.all.delete(p),this.queue.delete(p)};return y=u?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pn({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ah(n,r,o){let u=o?n.styles:null,c=o?n.classes:null,d=0;if(null!==r)for(let p=0;p<r.length;p++){const y=r[p];"number"==typeof y?d=y:1==d?c=ct(c,y):2==d&&(u=ct(u,y+": "+r[++p]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function $u(n,r,o,u,c=!1){for(;null!==o;){const d=r[o.index];null!==d&&u.push(ln(d)),gr(d)&&pp(d,u);const p=o.type;if(8&p)$u(n,r,o.child,u);else if(32&p){const y=Sf(o,r);let T;for(;T=y();)u.push(T)}else if(16&p){const y=bt(r,o);if(Array.isArray(y))u.push(...y);else{const T=Us(r[Hn]);$u(T[dt],T,y,u,!0)}}o=c?o.projectionNext:o.next}return u}function pp(n,r){for(let o=Or;o<n.length;o++){const u=n[o],c=u[dt].firstChild;null!==c&&$u(u[dt],u,c,r)}n[pr]!==n[Vn]&&r.push(n[pr])}function uh(n,r,o,u=!0){const c=r[ji],d=c.rendererFactory,p=c.afterRenderEventManager;d.begin?.(),p?.begin();try{gp(n,r,n.template,o)}catch(T){throw u&&Dl(r,T),T}finally{d.end?.(),c.effectManager?.flush(),p?.end()}}function gp(n,r,o,u){const c=r[Ut];if(256!=(256&c)){r[ji].effectManager?.flush(),jt(r);try{vd(r),function Mv(n){return zt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&op(n,r,o,2,u);const p=3==(3&c);if(p){const R=n.preOrderCheckHooks;null!==R&&Xg(r,R,null)}else{const R=n.preOrderHooks;null!==R&&ls(r,R,0,null),Dd(r,0)}if(function W0(n){for(let r=Pf(n);null!==r;r=gm(r)){if(!r[wc])continue;const o=r[zi];for(let u=0;u<o.length;u++){Fc(o[u])}}}(r),ch(r,2),null!==n.contentQueries&&uE(n,r),p){const R=n.contentCheckHooks;null!==R&&Xg(r,R)}else{const R=n.contentHooks;null!==R&&ls(r,R,1),Dd(r,1)}!function XI(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const u=KI(r,os);try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)Eu(~d);else{const p=d,y=o[++c],T=o[++c];m(y,p),u.dirty=!1;const R=Aa(u);try{T(2,r[p])}finally{Ns(u,R)}}}}finally{null===r[os]&&QI(r,os),Eu(-1)}}(n,r);const y=n.components;null!==y&&Al(r,y,0);const T=n.viewQuery;if(null!==T&&o_(2,T,u),p){const R=n.viewCheckHooks;null!==R&&Xg(r,R)}else{const R=n.viewHooks;null!==R&&ls(r,R,2),Dd(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Ut]&=-73,jo(r)}finally{Ls()}}}function ch(n,r){for(let o=Pf(n);null!==o;o=gm(o))for(let u=Or;u<o.length;u++)Hu(o[u],r)}function pE(n,r,o){Hu(Wi(r,n),o)}function Hu(n,r){if(!function Dv(n){return 128==(128&n[Ut])}(n))return;const o=n[dt],u=n[Ut];if(80&u&&0===r||1024&u||2===r)gp(o,n,o.template,n[Xn]);else if(n[Io]>0){ch(n,1);const c=o.components;null!==c&&Al(n,c,1)}}function Al(n,r,o){for(let u=0;u<r.length;u++)pE(n,r[u],o)}class _s{get rootNodes(){const r=this._lView,o=r[dt];return $u(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(r){this._lView[Xn]=r}get destroyed(){return 256==(256&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Un];if(gr(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(vt(r,u),vf(o,u))}this._attachedToViewContainer=!1}uI(this._lView[dt],this._lView)}onDestroy(r){!function Av(n,r){if(256==(256&n[Ut]))throw new Ze(911,!1);null===n[Oo]&&(n[Oo]=[]),n[Oo].push(r)}(this._lView,r)}markForCheck(){$a(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-129}reattach(){this._lView[Ut]|=128}detectChanges(){uh(this._lView[dt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ke(n,r){ot(n,r,r[Bt],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=r}}class gE extends _s{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;uh(r[dt],r,r[Xn],!1)}checkNoChanges(){}get context(){return null}}class u_ extends Xd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=rn(r);return new Ga(o,this.ngModule)}}function si(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class mp{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=Vi(u);const c=this.injector.get(r,qf,u);return c!==qf||o===qf?c:this.parentInjector.get(r,o,u)}}class Ga extends Fm{get inputs(){const r=this.componentDef,o=r.inputTransforms,u=si(r.inputs);if(null!==o)for(const c of u)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return u}get outputs(){return si(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ad(n){return n.map(Ic).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,c){let d=(c=c||this.ngModule)instanceof qi?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new mp(r,d):r,y=p.get(LI,null);if(null===y)throw new Ze(407,!1);const H={rendererFactory:y,sanitizer:p.get(Ki,null),effectManager:p.get(fp,null),afterRenderEventManager:p.get(ep,null)},ne=y.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",Re=u?function Jm(n,r,o,u){const d=u.get(qm,!1)||o===yn.ShadowDom,p=n.selectRootElement(r,d);return function V0(n){Zm(n)}(p),p}(ne,u,this.componentDef.encapsulation,p):Go(ne,ae,function mE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ae)),Tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ce=null;null!==Re&&(Ce=qs(Re,p,!0));const Kt=Xm(0,null,null,1,0,null,null,null,null,null,null),un=za(null,Kt,null,Tt,null,null,H,ne,p,null,Ce);let kn,Oi;jt(un);try{const Es=this.componentDef;let fa,kg=null;Es.findHostDirectiveDefs?(fa=[],kg=new Map,Es.findHostDirectiveDefs(Es,fa,kg),fa.push(Es)):fa=[Es];const pa=function Wa(n,r){const o=n[dt],u=Ht;return n[u]=r,Pi(o,u,2,"#host",null)}(un,Re),vw=function Cl(n,r,o,u,c,d,p){const y=c[dt];!function yE(n,r,o,u){for(const c of n)r.mergedAttrs=vo(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(ah(r,r.mergedAttrs,!0),null!==o&&Pu(u,o,r))}(u,n,r,p);let T=null;null!==r&&(T=qs(r,c[Ei]));const R=d.rendererFactory.createRenderer(r,o);let k=16;o.signals?k=4096:o.onPush&&(k=64);const H=za(c,JI(o),null,k,c[n.index],n,d,R,null,null,T);return y.firstCreatePass&&ea(y,n,u.length-1),ms(c,H),c[n.index]=H}(pa,Re,Es,fa,un,H,ne);Oi=kc(Kt,Ht),Re&&function q0(n,r,o,u){if(u)As(n,o,["ng-version",ml.full]);else{const{attrs:c,classes:d}=function Cs(n){const r=[],o=[];let u=1,c=2;for(;u<n.length;){let d=n[u];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++u]):8===c&&o.push(d);else{if(!Nr(c))break;c=d}u++}return{attrs:r,classes:o}}(r.selectors[0]);c&&As(n,o,c),d&&d.length>0&&fI(n,o,d.join(" "))}}(ne,Es,Re,u),void 0!==o&&function bl(n,r,o){const u=n.projection=[];for(let c=0;c<r.length;c++){const d=o[c];u.push(null!=d?Array.from(d):null)}}(Oi,this.ngContentSelectors,o),kn=function zu(n,r,o,u,c,d){const p=$r(),y=c[dt],T=Ar(p,c);gs(y,c,p,o,null,u);for(let k=0;k<o.length;k++)bi(xa(c,y,p.directiveStart+k,p),c);oh(y,c,p),T&&bi(T,c);const R=xa(c,y,p.directiveStart+p.componentOffset,p);if(n[Xn]=c[Xn]=R,null!==d)for(const k of d)k(R,r);return sp(y,p,n),R}(vw,Es,fa,kg,un,[vE]),hp(Kt,un,null)}finally{Ls()}return new _E(this.componentType,kn,fs(Oi,un),un,Oi)}}class _E extends hi{constructor(r,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gE(c),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;ta(d[dt],d,c,r,o),this.previousInputValues.set(r,o),$a(Wi(this._tNode.index,d))}}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function vE(){const n=$r();Bc(je()[dt],n)}function _p(n){let r=function na(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let c;if(ri(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ze(903,!1);c=r.\u0275dir}if(c){if(o){u.push(c);const p=n;p.inputs=lh(n.inputs),p.inputTransforms=lh(n.inputTransforms),p.declaredInputs=lh(n.declaredInputs),p.outputs=lh(n.outputs);const y=c.hostBindings;y&&Y0(n,y);const T=c.viewQuery,R=c.contentQueries;if(T&&Q0(n,T),R&&IE(n,R),qe(n.inputs,c.inputs),qe(n.declaredInputs,c.declaredInputs),qe(n.outputs,c.outputs),null!==c.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),qe(p.inputTransforms,c.inputTransforms)),ri(c)&&c.data.animation){const k=n.data;k.animation=(k.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let p=0;p<d.length;p++){const y=d[p];y&&y.ngInherit&&y(n),y===_p&&(o=!1)}}r=Object.getPrototypeOf(r)}!function K0(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=r+=c.hostVars,c.hostAttrs=vo(c.hostAttrs,o=vo(o,c.hostAttrs))}}(u)}function lh(n){return n===cn?{}:n===Ft?[]:n}function Q0(n,r){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{r(u,c),o(u,c)}:r}function IE(n,r){const o=n.contentQueries;n.contentQueries=o?(u,c,d)=>{r(u,c,d),o(u,c,d)}:r}function Y0(n,r){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{r(u,c),o(u,c)}:r}function d_(n){const r=n.inputConfig,o={};for(const u in r)if(r.hasOwnProperty(u)){const c=r[u];Array.isArray(c)&&c[2]&&(o[u]=c[2])}n.inputTransforms=o}function dh(n){return!!h_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function h_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qn(n,r,o){return n[r]=o}function pi(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Wu(n,r,o,u){const c=pi(n,r,o);return pi(n,r+1,u)||c}function p_(n,r,o,u){const c=je();return pi(c,Lc(),r)&&(Tn(),Qo(rr(),c,n,r,o,u)),p_}function Sl(n,r,o,u,c,d){const y=Wu(n,function Do(){return zt.lFrame.bindingIndex}(),o,c);return Fs(2),y?r+rt(o)+u+rt(c)+d:Xt}function S_(n,r,o,u,c,d,p,y){const T=je(),R=Tn(),k=n+Ht,H=R.firstCreatePass?function b_(n,r,o,u,c,d,p,y,T){const R=r.consts,k=Pi(r,n,4,p||null,Bo(R,y));lp(r,o,k,Bo(R,T)),Bc(r,k);const H=k.tView=Xm(2,k,u,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,R,null);return null!==r.queries&&(r.queries.template(r,k),H.queries=r.queries.embeddedTView(k)),k}(k,R,T,r,o,u,c,d,p):R.data[k];Di(H,!1);const ne=xE(R,T,H,n);Uc()&&Fd(R,T,ne,H),bi(ne,T),ms(T,T[k]=wl(ne,T,ne,H)),Dn(H)&&ap(R,T,H),null!=p&&up(T,H,y)}let xE=function NE(n,r,o,u){return cs(!0),r[Bt].createComment("")};function xl(n){return ba(function hf(){return zt.lFrame.contextLView}(),Ht+n)}function _h(n,r,o){const u=je();return pi(u,Lc(),r)&&function Vr(n,r,o,u,c,d,p,y){const T=Ar(r,o);let k,R=r.inputs;!y&&null!=R&&(k=R[u])?(ta(n,o,k,u,c),Dr(r)&&function Tl(n,r){const o=Wi(r,n);16&o[Ut]||(o[Ut]|=64)}(o,r.index)):3&r.type&&(u=function j0(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=p?p(c,r.value||"",u):c,d.setProperty(T,u,c))}(Tn(),rr(),u,n,r,u[Bt],o,!1),_h}function Xa(n,r,o,u,c){const p=c?"class":"style";ta(n,o,r.inputs[p],p,u)}function Xu(n,r,o,u){const c=je(),d=Tn(),p=Ht+n,y=c[Bt],T=d.firstCreatePass?function R_(n,r,o,u,c,d){const p=r.consts,T=Pi(r,n,2,u,Bo(p,c));return lp(r,o,T,Bo(p,d)),null!==T.attrs&&ah(T,T.attrs,!1),null!==T.mergedAttrs&&ah(T,T.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,T),T}(p,d,c,r,o,u):d.data[p],R=P_(d,c,T,y,r,n);c[p]=R;const k=Dn(T);return Di(T,!0),Pu(y,R,T),32!=(32&T.flags)&&Uc()&&Fd(d,c,R,T),0===function lf(){return zt.lFrame.elementDepthCount}()&&bi(R,c),function df(){zt.lFrame.elementDepthCount++}(),k&&(ap(d,c,T),sp(d,T,c)),null!==u&&up(c,T),Xu}function sa(){let n=$r();Iu()?Td():(n=n.parent,Di(n,!1));const r=n;(function Sv(n){return zt.skipHydrationRootTNode===n})(r)&&function Pv(){zt.skipHydrationRootTNode=null}(),function Cv(){zt.lFrame.elementDepthCount--}();const o=Tn();return o.firstCreatePass&&(Bc(o,n),Ea(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Jg(n){return 0!=(8&n.flags)}(r)&&Xa(o,r,je(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function YA(n){return 0!=(16&n.flags)}(r)&&Xa(o,r,je(),r.stylesWithoutHost,!1),sa}function yh(n,r,o,u){return Xu(n,r,o,u),sa(),yh}let P_=(n,r,o,u,c,d)=>(cs(!0),Go(u,c,function bw(){return zt.lFrame.currentNamespace}()));function vh(n,r,o){const u=je(),c=Tn(),d=n+Ht,p=c.firstCreatePass?function Ja(n,r,o,u,c){const d=r.consts,p=Bo(d,u),y=Pi(r,n,8,"ng-container",p);return null!==p&&ah(y,p,!0),lp(r,o,y,Bo(d,c)),null!==r.queries&&r.queries.elementStart(r,y),y}(d,c,u,r,o):c.data[d];Di(p,!0);const y=OE(c,u,p,n);return u[d]=y,Uc()&&Fd(c,u,y,p),bi(y,u),Dn(p)&&(ap(c,u,p),sp(c,p,u)),null!=o&&up(u,p),vh}function bp(){let n=$r();const r=Tn();return Iu()?Td():(n=n.parent,Di(n,!1)),r.firstCreatePass&&(Bc(r,n),Ea(n)&&r.queries.elementEnd(n)),bp}let OE=(n,r,o,u)=>(cs(!0),Oa(r[Bt],""));function Rp(){return je()}function O_(n){return!!n&&"function"==typeof n.then}function Pp(n){return!!n&&"function"==typeof n.subscribe}function Nl(n,r,o,u){const c=je(),d=Tn(),p=$r();return function Ju(n,r,o,u,c,d,p){const y=Dn(u),R=n.firstCreatePass&&lE(n),k=r[Xn],H=cE(r);let ne=!0;if(3&u.type||p){const He=Ar(u,r),at=p?p(He):He,Tt=H.length,Ce=p?un=>p(ln(un[u.index])):u.index;let Kt=null;if(!p&&y&&(Kt=function kE(n,r,o,u){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const p=c[d];if(p===o&&c[d+1]===u){const y=r[Ii],T=c[d+2];return y.length>T?y[T]:null}"string"==typeof p&&(d+=2)}return null}(n,r,c,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=d,Kt.__ngLastListenerFn__=d,ne=!1;else{d=FE(u,r,k,d,!1);const un=o.listen(at,c,d);H.push(d,un),R&&R.push(c,Ce,Tt,Tt+1)}}else d=FE(u,r,k,d,!1);const ae=u.outputs;let Re;if(ne&&null!==ae&&(Re=ae[c])){const He=Re.length;if(He)for(let at=0;at<He;at+=2){const kn=r[Re[at]][Re[at+1]].subscribe(d),Oi=H.length;H.push(d,kn),R&&R.push(c,u.index,Oi,-(Oi+1))}}}(d,c,c[Bt],p,n,r,u),Nl}function xp(n,r,o,u){try{return Uo(6,r,o),!1!==o(u)}catch(c){return Dl(n,c),!1}finally{Uo(7,r,o)}}function FE(n,r,o,u,c){return function d(p){if(p===Function)return u;$a(n.componentOffset>-1?Wi(n.index,r):r);let T=xp(r,o,u,p),R=d.__ngNextListenerFn__;for(;R;)T=xp(r,o,R,p)&&T,R=R.__ngNextListenerFn__;return c&&!1===T&&p.preventDefault(),T}}function LE(n=1){return function Vc(n){return(zt.lFrame.contextLView=function Pa(n,r){for(;n>0;)r=r[No],n--;return r}(n,zt.lFrame.contextLView))[Xn]}(n)}function VE(n,r){let o=null;const u=function id(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===u?_a(n,d,!0):yc(u,d))return c}else o=c}return o}function k_(n){const r=je()[Hn][$n];if(!r.projection){const u=r.projection=Xc(n?n.length:1,null),c=u.slice();let d=r.child;for(;null!==d;){const p=n?VE(d,n):0;null!==p&&(c[p]?c[p].projectionNext=d:u[p]=d,c[p]=d),d=d.next}}}function UE(n,r=0,o){const u=je(),c=Tn(),d=Pi(c,Ht+n,16,null,o||null);null===d.projection&&(d.projection=r),Td(),(!u[Hi]||$o())&&32!=(32&d.flags)&&function tl(n,r,o){Mf(r[Bt],0,r,o,kr(n,o,r),a0(o.parent||r[$n],o,r))}(c,u,d)}function Ol(n,r){return n<<17|r<<2}function fo(n){return n>>17&32767}function eu(n){return 2|n}function Po(n){return(131068&n)>>2}function Up(n,r){return-131069&n|r<<2}function U_(n){return 1|n}function Bp(n,r,o,u,c){const d=n[o+1],p=null===r;let y=u?fo(d):Po(d),T=!1;for(;0!==y&&(!1===T||p);){const k=n[y+1];$_(n[y],r)&&(T=!0,n[y+1]=u?U_(k):eu(k)),y=u?fo(k):Po(k)}T&&(n[o+1]=u?eu(d):U_(d))}function $_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&wu(n,r)>=0}function Q_(n,r,o){return po(n,r,o,!1),Q_}function Y_(n,r){return po(n,r,null,!0),Y_}function po(n,r,o,u){const c=je(),d=Tn(),p=Fs(2);d.firstUpdatePass&&function KE(n,r,o,u){const c=n.data;if(null===c[o+1]){const d=c[di()],p=function jp(n,r){return r>=n.expandoStartIndex}(n,o);(function YE(n,r){return 0!=(n.flags&(r?8:16))})(d,u)&&null===r&&!p&&(r=!1),r=function J_(n,r,o,u){const c=function L(n){const r=zt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(o=Ll(o=Ih(null,n,r,o,u),r.attrs,u),d=null);else{const p=r.directiveStylingLast;if(-1===p||n[p]!==c)if(o=Ih(c,n,r,o,u),null===d){let T=function lD(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Po(u))return n[fo(u)]}(n,r,u);void 0!==T&&Array.isArray(T)&&(T=Ih(null,n,r,T[1],u),T=Ll(T,r.attrs,u),function Z_(n,r,o,u){n[fo(o?r.classBindings:r.styleBindings)]=u}(n,r,u,T))}else d=function dD(n,r,o){let u;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)u=Ll(u,n[d].hostAttrs,o);return Ll(u,r.attrs,o)}(n,r,u)}return void 0!==d&&(u?r.residualClasses=d:r.residualStyles=d),o}(c,d,r,u),function B_(n,r,o,u,c,d){let p=d?r.classBindings:r.styleBindings,y=fo(p),T=Po(p);n[u]=o;let k,R=!1;if(Array.isArray(o)?(k=o[1],(null===k||wu(o,k)>0)&&(R=!0)):k=o,c)if(0!==T){const ne=fo(n[y+1]);n[u+1]=Ol(ne,y),0!==ne&&(n[ne+1]=Up(n[ne+1],u)),n[y+1]=function V_(n,r){return 131071&n|r<<17}(n[y+1],u)}else n[u+1]=Ol(y,0),0!==y&&(n[y+1]=Up(n[y+1],u)),y=u;else n[u+1]=Ol(T,0),0===y?y=u:n[T+1]=Up(n[T+1],u),T=u;R&&(n[u+1]=eu(n[u+1])),Bp(n,k,u,!0),Bp(n,k,u,!1),function j_(n,r,o,u,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&wu(d,r)>=0&&(o[u+1]=U_(o[u+1]))}(r,k,n,u,d),p=Ol(y,T),d?r.classBindings=p:r.styleBindings=p}(c,d,r,o,p,u)}}(d,n,p,u),r!==Xt&&pi(c,p,r)&&function QE(n,r,o,u,c,d,p,y){if(!(3&r.type))return;const T=n.data,R=T[y+1],k=function kl(n){return 1==(1&n)}(R)?$p(T,r,o,c,Po(R),p):void 0;Hp(k)||(Hp(d)||function Za(n){return 2==(2&n)}(R)&&(d=$p(T,null,o,c,y,p)),function u0(n,r,o,u,c){if(r)c?n.addClass(o,u):n.removeClass(o,u);else{let d=-1===u.indexOf("-")?void 0:fm.DashCase;null==c?n.removeStyle(o,u,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=fm.Important),n.setStyle(o,u,c,d))}}(u,p,Oc(di(),o),c,d))}(d,d.data[di()],c,c[Bt],n,c[p+1]=function ry(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Fe(Fr(n)))),n}(r,o),u,p)}function Ih(n,r,o,u,c){let d=null;const p=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<p&&(d=r[y],u=Ll(u,d.hostAttrs,c),d!==n);)y++;return null!==n&&(o.directiveStylingLast=y),u}function Ll(n,r,o){const u=o?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?c=p:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),uo(n,p,!!o||r[++d]))}return void 0===n?null:n}function $p(n,r,o,u,c,d){const p=null===r;let y;for(;c>0;){const T=n[c],R=Array.isArray(T),k=R?T[1]:T,H=null===k;let ne=o[c+1];ne===Xt&&(ne=H?Ft:void 0);let ae=H?If(ne,u):k===u?ne:void 0;if(R&&!Hp(ae)&&(ae=If(T,u)),Hp(ae)&&(y=ae,p))return y;const Re=n[c+1];c=p?fo(Re):Po(Re)}if(null!==r){let T=d?r.residualClasses:r.residualStyles;null!=T&&(y=If(T,u))}return y}function Hp(n){return void 0!==n}function zp(n,r=""){const o=je(),u=Tn(),c=n+Ht,d=u.firstCreatePass?Pi(u,c,1,r,null):u.data[c],p=Gp(u,o,d,r,n);o[c]=p,Uc()&&Fd(u,o,p,d),Di(d,!1)}let Gp=(n,r,o,u,c)=>(cs(!0),function Od(n,r){return n.createText(r)}(r[Bt],u));function Wp(n){return Ul("",n,""),Wp}function Ul(n,r,o){const u=je(),c=function ia(n,r,o,u){return pi(n,Lc(),o)?r+rt(o)+u:Xt}(u,n,r,o);return c!==Xt&&fi(u,di(),c),Ul}function oy(n,r,o,u,c){const d=je(),p=Sl(d,n,r,o,u,c);return p!==Xt&&fi(d,di(),p),oy}const aa=void 0;var aT=["en",[["a","p"],["AM","PM"],aa],[["AM","PM"],aa,aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",aa,"{1} 'at' {0}",aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function my(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let tu={};function Th(n){const r=function vy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=yy(r);if(o)return o;const u=r.split("-")[0];if(o=yy(u),o)return o;if("en"===u)return aT;throw new Ze(701,!1)}function Jp(n){return Th(n)[tc.PluralCase]}function yy(n){return n in tu||(tu[n]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[n]),tu[n]}var tc=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(tc||{});const nu="en-US";let Iy=nu;function dg(n,r,o,u,c){if(n=Ye(n),Array.isArray(n))for(let d=0;d<n.length;d++)dg(n[d],r,o,u,c);else{const d=Tn(),p=je(),y=$r();let T=La(n)?n:Ye(n.provide);const R=cl(n),k=1048575&y.providerIndexes,H=y.directiveStart,ne=y.providerIndexes>>20;if(La(n)||!n.multi){const ae=new Ad(R,c,Ha),Re=bT(T,r,c?k:k+ne,H);-1===Re?(Pd(pf(y,p),d,T),xh(d,n,r.length),r.push(T),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(ae),p.push(ae)):(o[Re]=ae,p[Re]=ae)}else{const ae=bT(T,r,k+ne,H),Re=bT(T,r,k,k+ne),at=Re>=0&&o[Re];if(c&&!at||!c&&!(ae>=0&&o[ae])){Pd(pf(y,p),d,T);const Tt=function JC(n,r,o,u,c){const d=new Ad(n,o,Ha);return d.multi=[],d.index=r,d.componentProviders=0,zl(d,c,u&&!o),d}(c?XC:Nh,o.length,c,u,R);!c&&at&&(o[Re].providerFactory=Tt),xh(d,n,r.length,0),r.push(T),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(Tt),p.push(Tt)}else xh(d,n,ae>-1?ae:Re,zl(o[c?Re:ae],R,!c&&u));!c&&u&&at&&o[Re].componentProviders++}}}function xh(n,r,o,u){const c=La(r),d=function PI(n){return!!n.useClass}(r);if(c||d){const T=(d?Ye(r.useClass):r).prototype.ngOnDestroy;if(T){const R=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const k=R.indexOf(o);-1===k?R.push(o,[u,T]):R[k+1].push(u,T)}else R.push(o,T)}}}function zl(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function bT(n,r,o,u){for(let c=o;c<u;c++)if(r[c]===n)return c;return-1}function Nh(n,r,o,u){return ru(this.multi,[])}function XC(n,r,o,u){const c=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,y=xa(o,o[dt],this.providerFactory.index,u);d=y.slice(0,p),ru(c,d);for(let T=p;T<y.length;T++)d.push(y[T])}else d=[],ru(c,d);return d}function ru(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function OD(n,r=[]){return o=>{o.providersResolver=(u,c)=>function lg(n,r,o){const u=Tn();if(u.firstCreatePass){const c=ri(n);dg(o,u.data,u.blueprint,c,!0),dg(r,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,r)}}class ua{}class kD{}function hg(n,r){return new ST(n,r??null,[])}class ST extends ua{constructor(r,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u_(this);const c=jr(r);this._bootstrapComponents=Ko(c.bootstrap),this._r3Injector=UI(r,o,[{provide:ua,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver},...u],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Gl extends kD{constructor(r){super(),this.moduleType=r}create(r){return new ST(this.moduleType,r,[])}}class FD extends ua{constructor(r){super(),this.componentFactoryResolver=new u_(this),this.instance=null;const o=new Nu([...r.providers,{provide:ua,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],r.parent||ul(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Oh(n,r,o=null){return new FD({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let eb=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=il(0,o.type),c=u.length>0?Oh([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pn({token:n,providedIn:"environment",factory:()=>new n(fr(qi))})}}return n})();function LD(n){n.getStandaloneInjector=r=>r.get(eb).getOrCreateStandaloneInjector(n)}function $D(n,r,o,u){return PT(je(),Ai(),n,r,o,u)}function HD(n,r,o,u,c){return function MT(n,r,o,u,c,d,p){const y=r+o;return Wu(n,y,c,d)?Qn(n,y+2,p?u.call(p,c,d):u(c,d)):mg(n,y+2)}(je(),Ai(),n,r,o,u,c)}function mg(n,r){const o=n[r];return o===Xt?void 0:o}function PT(n,r,o,u,c,d){const p=r+o;return pi(n,p,c)?Qn(n,p+1,d?u.call(d,c):u(c)):mg(n,p+1)}function _g(n,r){const o=Tn();let u;const c=n+Ht;o.firstCreatePass?(u=function cb(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks??=[]).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=To(u.type)),y=nr(Ha);try{const T=jc(!1),R=d();return jc(T),function sD(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,je(),c,R),R}finally{nr(y)}}function NT(n,r,o){const u=n+Ht,c=je(),d=ba(c,u);return function yg(n,r){return n[dt].data[r].pure}(c,u)?PT(c,Ai(),r,d.transform,o,d):d.transform(o)}function pb(){return this._results[Symbol.iterator]()}class ky{get changes(){return this._changes||(this._changes=new Qi)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ky.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=pb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const c=function Co(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Uw(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],d=r[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function mb(n,r,o,u=!0){const c=r[dt];if(function bo(n,r,o,u){const c=Or+u,d=o.length;u>0&&(o[c-1][Kr]=r),u<d-Or?(r[Kr]=o[c],qv(o,Or+u,r)):(o.push(r),r[Kr]=null),r[Un]=o;const p=r[Rs];null!==p&&o!==p&&function _m(n,r){const o=n[zi];r[Hn]!==r[Un][Un][Hn]&&(n[wc]=!0),null===o?n[zi]=[r]:o.push(r)}(p,r);const y=r[ni];null!==y&&y.insertView(n),r[Ut]|=128}(c,r,n,o),u){const d=bu(o,n),p=r[Bt],y=kd(p,n[pr]);null!==y&&function bC(n,r,o,u,c,d){u[Vn]=c,u[$n]=r,ot(n,u,o,1,c,d)}(c,n[$n],p,r,y,d)}}let Fh=(()=>{class n{static{this.__NG_ELEMENT_ID__=yb}}return n})();const ou=Fh,QD=class extends ou{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,u){const c=function KD(n,r,o,u){const c=r.tView,y=za(n,c,o,4096&n[Ut]?4096:16,null,r,null,null,null,u?.injector??null,u?.hydrationInfo??null);y[Rs]=n[r.index];const R=n[ni];return null!==R&&(y[ni]=R.createEmbeddedView(c)),hp(c,y,o),y}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:u});return new _s(c)}};function yb(){return Fy($r(),je())}function Fy(n,r){return 4&n.type?new QD(r,n,fs(n,r)):null}let Vy=(()=>{class n{static{this.__NG_ELEMENT_ID__=Tb}}return n})();function Tb(){return tA($r(),je())}const wb=Vy,Uy=class extends wb{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){const r=gf(this._hostTNode,this._hostLView);if(Zg(r)){const o=bd(r,this._hostLView),u=Vs(r);return new Ci(o[dt].data[u+8],o)}return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=By(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(r,o,u){let c,d;"number"==typeof u?c=u:null!=u&&(c=u.index,d=u.injector);const y=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(y,c,false),y}createComponent(r,o,u,c,d){const p=r&&!function Qc(n){return"function"==typeof n}(r);let y;if(p)y=o;else{const He=o||{};y=He.index,u=He.injector,c=He.projectableNodes,d=He.environmentInjector||He.ngModuleRef}const T=p?r:new Ga(rn(r)),R=u||this.parentInjector;if(!d&&null==T.ngModule){const at=(p?R:this.parentInjector).get(qi,null);at&&(d=at)}rn(T.componentType??{});const ae=T.create(R,c,null,d);return this.insertImpl(ae.hostView,y,false),ae}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,u){const c=r._lView;if(function yd(n){return gr(n[Un])}(c)){const T=this.indexOf(r);if(-1!==T)this.detach(T);else{const R=c[Un],k=new Uy(R,R[$n],R[Un]);k.detach(k.indexOf(r))}}const p=this._adjustIndex(o),y=this._lContainer;return mb(y,c,p,!u),r.attachToViewContainerRef(),qv(kT(y),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=By(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=vt(this._lContainer,o);u&&(vf(kT(this._lContainer),o),uI(u[dt],u))}detach(r){const o=this._adjustIndex(r,-1),u=vt(this._lContainer,o);return u&&null!=vf(kT(this._lContainer),o)?new _s(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function By(n){return n[8]}function kT(n){return n[8]||(n[8]=[])}function tA(n,r){let o;const u=r[n.index];return gr(u)?o=u:(o=wl(u,r,null,n),r[n.index]=o,ms(r,o)),vg(o,r,n,u),new Uy(o,n,r)}let vg=function Lh(n,r,o,u){if(n[pr])return;let c;c=8&o.type?ln(u):function Db(n,r){const o=n[Bt],u=o.createComment(""),c=Ar(r,n);return Au(o,kd(o,c),u,function s0(n,r){return n.nextSibling(r)}(o,c),!1),u}(r,o),n[pr]=c};class Kl{constructor(r){this.queryList=r,this.matches=null}clone(){return new Kl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vh{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const p=o.getByIndex(d);c.push(this.queries[p.indexInDeclarationView].clone())}return new Vh(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==zT(r,o).matches&&this.queries[o].setDirty()}}class LT{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class Uh{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(r,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Uh(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class jy{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new jy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(r,o,Ab(o,d)),this.matchTNodeWithReadOption(r,o,$c(o,r,d,!1,!1))}else u===Fh?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,$c(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===gl||c===Vy||c===Fh&&4&o.type)this.addMatch(o.index,-2);else{const d=$c(o,r,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Ab(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function UT(n,r,o,u){return-1===o?function VT(n,r){return 11&n.type?fs(n,r):4&n.type?Fy(n,r):null}(r,n):-2===o?function rA(n,r,o){return o===gl?fs(r,n):o===Fh?Fy(r,n):o===Vy?tA(r,n):void 0}(n,r,u):xa(n,n[dt],o,r)}function Ig(n,r,o,u){const c=r[ni].queries[u];if(null===c.matches){const d=n.data,p=o.matches,y=[];for(let T=0;T<p.length;T+=2){const R=p[T];y.push(R<0?null:UT(r,d[R],p[T+1],o.metadata.read))}c.matches=y}return c.matches}function $y(n,r,o,u){const c=n.queries.getByIndex(o),d=c.matches;if(null!==d){const p=Ig(n,r,c,o);for(let y=0;y<d.length;y+=2){const T=d[y];if(T>0)u.push(p[y/2]);else{const R=d[y+1],k=r[-T];for(let H=Or;H<k.length;H++){const ne=k[H];ne[Rs]===ne[Un]&&$y(ne[dt],ne,R,u)}if(null!==k[zi]){const H=k[zi];for(let ne=0;ne<H.length;ne++){const ae=H[ne];$y(ae[dt],ae,R,u)}}}}}return u}function BT(n){const r=je(),o=Tn(),u=z();ye(u+1);const c=zT(o,u);if(n.dirty&&function wv(n){return 4==(4&n[Ut])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?$y(o,r,u,[]):Ig(o,r,c,u);n.reset(d,FI),n.notifyOnChanges()}return!0}return!1}function Hy(n,r,o){const u=Tn();u.firstCreatePass&&(iA(u,new LT(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),HT(u,je(),r)}function Eg(n,r,o,u){const c=Tn();if(c.firstCreatePass){const d=$r();iA(c,new LT(r,o,u),d.index),function Cb(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}HT(c,je(),o)}function jT(){return function $T(n,r){return n[ni].queries[r].queryList}(je(),z())}function HT(n,r,o){const u=new ky(4==(4&o));(function eE(n,r,o,u){const c=cE(r);c.push(o),n.firstCreatePass&&lE(n).push(u,c.length-1)})(n,r,u,u.destroy),null===r[ni]&&(r[ni]=new Vh),r[ni].queries.push(new Kl(u))}function iA(n,r,o){null===n.queries&&(n.queries=new Uh),n.queries.track(new jy(r,o))}function zT(n,r){return n.queries.getByIndex(r)}function GT(n,r){return Fy(n,r)}function zy(n){return!!jr(n)}const DA=new Mt("Application Initializer");let XT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=gn(DA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const d=c();if(O_(d))o.push(d);else if(Pp(d)){const p=new Promise((y,T)=>{d.subscribe({complete:y,error:T})});o.push(p)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AA=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ky=new Mt("LocaleId",{providedIn:"root",factory:()=>gn(Ky,ft.Optional|ft.SkipSelf)||function Wb(){return typeof $localize<"u"&&$localize.locale||nu}()}),qb=new Mt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let CA=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Qb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Yb=(()=>{class n{compileModuleSync(o){return new Gl(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=Ko(jr(o).declarations).reduce((p,y)=>{const T=rn(y);return T&&p.push(new Ga(T)),p},[]);return new Qb(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $e=new Mt(""),yt=new Mt("");let vn,St=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vn||(function Gt(n){vn=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}static{this.\u0275fac=function(u){return new(u||n)(fr(Rr),fr(Et),fr(yt))}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac})}}return n})(),Et=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return vn?.findTestabilityInTree(this,o,u)??null}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Lt=null;const ie=new Mt("AllowMultipleToken"),W=new Mt("PlatformDestroyListeners"),ee=new Mt("appBootstrapListener");class la{constructor(r,o){this.name=r,this.token=o}}function wg(n,r,o=[]){const u=`Platform: ${r}`,c=new Mt(u);return(d=[])=>{let p=Jr();if(!p||p.injector.get(ie,!1)){const y=[...o,...d,{provide:c,useValue:!0}];n?n(y):function Hh(n){if(Lt&&!Lt.get(ie,!1))throw new Ze(400,!1);(function Ie(){!function ke(n){G=n}(()=>{throw new Ze(600,!1)})})(),Lt=n;const r=n.get(tw);(function Ql(n){n.get(Pm,null)?.forEach(o=>o())})(n)}(function ew(n=[],r){return qo.create({name:r,providers:[{provide:Va,useValue:"platform"},{provide:W,useValue:new Set([()=>Lt=null])},...n]})}(y,u))}return function ZT(n){const r=Jr();if(!r)throw new Ze(401,!1);return r}()}}function Jr(){return Lt?.get(tw)??null}let tw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function SA(n="zone.js",r){return"noop"===n?new Zs:"zone.js"===n?new Rr(r):n}(u?.ngZone,function Yl(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return c.run(()=>{const d=function ZC(n,r,o){return new ST(n,r,o)}(o.moduleType,this.injector,function Jy(n){return[{provide:Rr,useFactory:n},{provide:$d,multi:!0,useFactory:()=>{const r=gn(Xy,{optional:!0});return()=>r.initialize()}},{provide:Dg,useFactory:Yy},{provide:Hm,useFactory:zm}]}(()=>c)),p=d.injector.get(Js,null);return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:T=>{p.handleError(T)}});d.onDestroy(()=>{cc(this._modules,d),y.unsubscribe()})}),function Xl(n,r,o){try{const u=o();return O_(u)?u.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(p,c,()=>{const y=d.injector.get(XT);return y.runInitializers(),y.donePromise.then(()=>(function lT(n){Sn(n,"Expected localeId to be defined"),"string"==typeof n&&(Iy=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Ky,nu)||nu),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,u=[]){const c=nw({},u);return function se(n,r,o){const u=new Gl(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Jl);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ze(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(W,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||n)(fr(qo))}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function nw(n,r){return Array.isArray(r)?r.reduce(nw,n):{...n,...r}}let Jl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gn(Dg),this.zoneIsStable=gn(Hm),this.componentTypes=[],this.components=[],this.isStable=gn(CA).hasPendingTasks.pipe((0,Jt.n)(o=>o?(0,Y.of)(!1):this.zoneIsStable),function Zt(n,r=wt.D){return n=n??In,(0,Xe.N)((o,u)=>{let c,d=!0;o.subscribe((0,mt._)(u,p=>{const y=r(p);(d||!n(c,y))&&(d=!1,c=y,u.next(p))}))})}(),We()),this._injector=gn(qi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const c=o instanceof Fm;if(!this._injector.get(XT).done)throw!c&&io(o),new Ze(405,!1);let p;p=c?o:this._injector.get(Xd).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const y=function te(n){return n.isBoundToModule}(p)?void 0:this._injector.get(ua),R=p.create(qo.NULL,[],u||p.selector,y),k=R.location.nativeElement,H=R.injector.get($e,null);return H?.registerApplication(k),R.onDestroy(()=>{this.detachView(R.hostView),cc(this.components,R),H?.unregisterApplication(k)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;cc(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(ee,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>cc(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ze(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cc(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const Dg=new Mt("",{providedIn:"root",factory:()=>gn(Js).handleError.bind(void 0)});function Yy(){const n=gn(Rr),r=gn(Js);return o=>n.runOutsideAngular(()=>r.handleError(o))}let Xy=(()=>{class n{constructor(){this.zone=gn(Rr),this.applicationRef=gn(Jl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let MA=(()=>{class n{static{this.__NG_ELEMENT_ID__=ev}}return n})();function ev(n){return function tv(n,r,o){if(Dr(n)&&!o){const u=Wi(n.index,r);return new _s(u,u)}return 47&n.type?new _s(r[Hn],r):null}($r(),je(),16==(16&n))}class qh{constructor(){}supports(r){return dh(r)}create(r){return new Kh(r)}}const dw=(n,r)=>r;class Kh{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||dw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const p=!u||o&&o.currentIndex<td(u,c,d)?o:u,y=td(p,c,d),T=p.currentIndex;if(p===u)c--,u=u._nextRemoved;else if(o=o._next,null==p.previousIndex)c++;else{d||(d=[]);const R=y-c,k=T-c;if(R!=k){for(let ne=0;ne<R;ne++){const ae=ne<d.length?d[ne]:d[ne]=0,Re=ae+ne;k<=Re&&Re<R&&(d[ne]=ae+1)}d[p.previousIndex]=k-R}}y!==T&&r(p,y,T)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!dh(r))throw new Ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,p,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)d=r[y],p=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,d,p,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,y),u=!0),o=o._next}else c=0,function Z0(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,y=>{p=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,y,p,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,p,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,c)):r=this._addAfter(new hw(o,u),d,c),r}_verifyReinsertion(r,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new sv),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sv),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class hw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ni{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class sv{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new Ni,this.map.set(o,u)),u.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function td(n,r,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+r+c}class nd{constructor(){}supports(r){return r instanceof Map||h_(r)}create(){return new OA}}class OA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||h_(r)))throw new Ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const d=c._prev,p=c._next;return d&&(d._next=p),p&&(p._prev=d),c._next=null,c._prev=null,c}const u=new kA(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class kA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dc(){return new av([new qh])}let av=(()=>{class n{static{this.\u0275prov=pn({token:n,providedIn:"root",factory:dc})}constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||dc()),deps:[[n,new Df,new wf]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Ze(901,!1)}}return n})();function Qh(){return new bg([new nd])}let bg=(()=>{class n{static{this.\u0275prov=pn({token:n,providedIn:"root",factory:Qh})}constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Qh()),deps:[[n,new Df,new wf]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Ze(901,!1)}}return n})();const fw=wg(null,"core",[]);let cv=(()=>{class n{constructor(o){}static{this.\u0275fac=function(u){return new(u||n)(fr(Jl))}}static{this.\u0275mod=Ec({type:n})}static{this.\u0275inj=Yt({})}}return n})();function xg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function jA(n){const r=rn(n);if(!r)return null;const o=new Ga(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7440:(Rt,Ue,$)=>{$.d(Ue,{MW:()=>Xe,Wp:()=>wt,XU:()=>De,gL:()=>U});var A=$(2214),K=$(540),Se=$(3586);class De{constructor(qe){return qe}}class U{constructor(){return(0,A.Dk)()}}const et=new K.nKC("angularfire2._apps"),Ve={provide:De,useFactory:function me(xe){return xe&&1===xe.length?xe[0]:new De((0,A.Sx)())},deps:[[new K.Xx1,et]]},J={provide:U,deps:[[new K.Xx1,et]]};function Y(xe){return(qe,Fe)=>{const ct=qe.runOutsideAngular(()=>xe(Fe));return new De(ct)}}let Ee=(()=>{class xe{constructor(Fe){(0,A.KO)("angularfire",Se.xv.full,"core"),(0,A.KO)("angularfire",Se.xv.full,"app"),(0,A.KO)("angular",K.xvI.full,Fe.toString())}static \u0275fac=function(ct){return new(ct||xe)(K.KVO(K.Agw))};static \u0275mod=K.$C({type:xe});static \u0275inj=K.G2t({providers:[Ve,J]})}return xe})();function Xe(xe,...qe){return{ngModule:Ee,providers:[{provide:et,useFactory:Y(xe),multi:!0,deps:[K.SKi,K.zZn,Se.u0,...qe]}]}}const wt=(0,Se.S3)(A.Wp,!0)},5132:(Rt,Ue,$)=>{$.d(Ue,{_7:()=>ca,gS:()=>Wy,rJ:()=>qy,xs:()=>aA,kd:()=>hA,H9:()=>gA,aU:()=>Gb,hV:()=>Bh,BN:()=>$h});var A=$(3586),K=$(540),Se=$(7440),De=$(2214),U=$(467),pe=$(7852),me=$(1076),et=$(8041),Ve=$(1635),J=$(1362);const Zt=function wt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},In=new me.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new et.Vy("@firebase/auth");function ct(s,...e){qe.logLevel<=et.$b.ERROR&&qe.error(`Auth (${pe.MF}): ${s}`,...e)}function ht(s,...e){throw Ur(s,...e)}function tt(s,...e){return Ur(s,...e)}function Ye(s,e,t){const i=Object.assign(Object.assign({},Zt()),{[e]:t});return new me.FA("auth","Firebase",i).create(e,{appName:s.name})}function At(s){return Ye(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ur(s,...e){if("string"!=typeof s){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return In.create(s,...e)}function Ge(s,e,...t){if(!s)throw Ur(e,...t)}function Ze(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ct(e),new Error(e)}function Wt(s,e){s||Ze(e)}function Br(){var s;return typeof self<"u"&&(null===(s=self.location)||void 0===s?void 0:s.protocol)||null}class de{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wt(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,me.jZ)()||(0,me.lV)()}get(){return function ai(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Nt(){return"http:"===Br()||"https:"===Br()}()||(0,me.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Z{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new de(3e4,6e4);function Le(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}function Je(s,e,t,i){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,U.A)(function*(s,e,t,i,a={}){return Pt(s,a,(0,U.A)(function*(){let l={},h={};i&&("GET"===e?h=i:l={body:JSON.stringify(i)});const g=(0,me.Am)(Object.assign({key:s.config.apiKey},h)).slice(1),I=yield s._getAdditionalHeaders();I["Content-Type"]="application/json",s.languageCode&&(I["X-Firebase-Locale"]=s.languageCode);const b=Object.assign({method:e,headers:I},l);return(0,me.c1)()||(b.referrerPolicy="no-referrer"),Z.fetch()(qt(s,s.config.apiHost,t,g),b)}))})).apply(this,arguments)}function Pt(s,e,t){return _n.apply(this,arguments)}function _n(){return(_n=(0,U.A)(function*(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},ue),e);try{const a=new Sn(s),l=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw pt(s,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const g=l.ok?h.errorMessage:h.error.message,[I,b]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===I)throw pt(s,"credential-already-in-use",h);if("EMAIL_EXISTS"===I)throw pt(s,"email-already-in-use",h);if("USER_DISABLED"===I)throw pt(s,"user-disabled",h);const N=i[I]||I.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Ye(s,N,b);ht(s,N)}}catch(a){if(a instanceof me.g)throw a;ht(s,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function qt(s,e,t,i){const a=`${e}${t}?${i}`;return s.config.emulator?function re(s,e){Wt(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(s.config,a):`${s.config.apiScheme}://${a}`}class Sn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(tt(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pt(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=tt(s,e,i);return a.customData._tokenResponse=t,a}function yr(){return(yr=(0,U.A)(function*(s,e){return Je(s,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tr(s,e){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,U.A)(function*(s,e){return Je(s,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function on(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function to(){return(to=(0,U.A)(function*(s,e=!1){const t=(0,me.Ku)(s),i=yield t.getIdToken(e),a=nr(i);Ge(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l="object"==typeof a.firebase?a.firebase:void 0,h=l?.sign_in_provider;return{claims:a,token:i,authTime:on(ui(a.auth_time)),issuedAtTime:on(ui(a.iat)),expirationTime:on(ui(a.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(s){return 1e3*Number(s)}function nr(s){const[e,t,i]=s.split(".");if(void 0===e||void 0===t||void 0===i)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,me.u)(t);return a?JSON.parse(a):(ct("Failed to decode base64 JWT payload"),null)}catch(a){return ct("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ei(s){const e=nr(s);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rn(s,e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,U.A)(function*(s,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof me.g&&function mi({code:s}){return"auth/user-disabled"===s||"auth/user-token-expired"===s}(i)&&s.auth.currentUser===s&&(yield s.auth.signOut()),i}})).apply(this,arguments)}class mo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,U.A)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,U.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Mt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _i(s){return qr.apply(this,arguments)}function qr(){return(qr=(0,U.A)(function*(s){var e;const t=s.auth,i=yield s.getIdToken(),a=yield Rn(s,tr(t,{idToken:i}));Ge(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?F(l.providerUserInfo):[],g=function Pe(s,e){return[...s.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(s.providerData,h),N=!!s.isAnonymous&&!(s.email&&l.passwordHash||g?.length),B={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new Mt(l.createdAt,l.lastLoginAt),isAnonymous:N};Object.assign(s,B)})).apply(this,arguments)}function Li(){return(Li=(0,U.A)(function*(s){const e=(0,me.Ku)(s);yield _i(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function F(s){return s.map(e=>{var{providerId:t}=e,i=(0,Ve.Tt)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function V(){return(V=(0,U.A)(function*(s,e){const t=yield Pt(s,{},(0,U.A)(function*(){const i=(0,me.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=s.config,h=qt(s,a,"/v1/token",`key=${l}`),g=yield s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(h,{method:"POST",headers:g,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function X(){return(X=(0,U.A)(function*(s,e){return Je(s,"POST","/v2/accounts:revokeToken",Le(s,e))})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ei(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(0!==e.length,"internal-error");const t=ei(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var i=this;return(0,U.A)(function*(){return t||!i.accessToken||i.isExpired?(Ge(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,U.A)(function*(){const{accessToken:a,refreshToken:l,expiresIn:h}=yield function M(s,e){return V.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,l,Number(h))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,h=new Me;return i&&(Ge("string"==typeof i,"internal-error",{appName:e}),h.refreshToken=i),a&&(Ge("string"==typeof a,"internal-error",{appName:e}),h.accessToken=a),l&&(Ge("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function nt(s,e){Ge("string"==typeof s||typeof s>"u","internal-error",{appName:e})}class _t{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=(0,Ve.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Mt(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,U.A)(function*(){const i=yield Rn(t,t.stsTokenManager.getToken(t.auth,e));return Ge(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function ft(s){return to.apply(this,arguments)}(this,e)}reload(){return function _o(s){return Li.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,U.A)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield _i(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,U.A)(function*(){if((0,pe.xZ)(e.auth.app))return Promise.reject(At(e.auth));const t=yield e.getIdToken();return yield Rn(e,function xr(s,e){return yr.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,h,g,I,b,N;const B=null!==(i=t.displayName)&&void 0!==i?i:void 0,q=null!==(a=t.email)&&void 0!==a?a:void 0,ce=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,Ne=null!==(h=t.photoURL)&&void 0!==h?h:void 0,Be=null!==(g=t.tenantId)&&void 0!==g?g:void 0,$e=null!==(I=t._redirectEventId)&&void 0!==I?I:void 0,yt=null!==(b=t.createdAt)&&void 0!==b?b:void 0,St=null!==(N=t.lastLoginAt)&&void 0!==N?N:void 0,{uid:Et,emailVerified:Gt,isAnonymous:vn,providerData:Lt,stsTokenManager:ie}=t;Ge(Et&&ie,e,"internal-error");const W=Me.fromJSON(this.name,ie);Ge("string"==typeof Et,e,"internal-error"),nt(B,e.name),nt(q,e.name),Ge("boolean"==typeof Gt,e,"internal-error"),Ge("boolean"==typeof vn,e,"internal-error"),nt(ce,e.name),nt(Ne,e.name),nt(Be,e.name),nt($e,e.name),nt(yt,e.name),nt(St,e.name);const ee=new _t({uid:Et,auth:e,email:q,emailVerified:Gt,displayName:B,isAnonymous:vn,photoURL:Ne,phoneNumber:ce,tenantId:Be,stsTokenManager:W,createdAt:yt,lastLoginAt:St});return Lt&&Array.isArray(Lt)&&(ee.providerData=Lt.map(se=>Object.assign({},se))),$e&&(ee._redirectEventId=$e),ee}static _fromIdTokenResponse(e,t,i=!1){return(0,U.A)(function*(){const a=new Me;a.updateFromServerResponse(t);const l=new _t({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield _i(l),l})()}static _fromGetAccountInfoResponse(e,t,i){return(0,U.A)(function*(){const a=t.users[0];Ge(void 0!==a.localId,"internal-error");const l=void 0!==a.providerUserInfo?F(a.providerUserInfo):[],h=!(a.email&&a.passwordHash||l?.length),g=new Me;g.updateFromIdToken(i);const I=new _t({uid:a.localId,auth:e,stsTokenManager:g,isAnonymous:h}),b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Mt(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash||l?.length)};return Object.assign(I,b),I})()}}const sn=new Map;function an(s){Wt(s instanceof Function,"Expected a class definition");let e=sn.get(s);return e?(Wt(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,sn.set(s,e),e)}const en=(()=>{class s{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,U.A)(function*(){return!0})()}_set(t,i){var a=this;return(0,U.A)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,U.A)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,U.A)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return s.type="NONE",s})();function vr(s,e,t){return`firebase:${s}:${e}:${t}`}class Ir{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=vr(this.userKey,a.apiKey,l),this.fullPersistenceKey=vr("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,U.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_t._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,U.A)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,U.A)(function*(){if(!t.length)return new Ir(an(en),e,i);const a=(yield Promise.all(t.map(function(){var b=(0,U.A)(function*(N){if(yield N._isAvailable())return N});return function(N){return b.apply(this,arguments)}}()))).filter(b=>b);let l=a[0]||an(en);const h=vr(i,e.config.apiKey,e.name);let g=null;for(const b of t)try{const N=yield b._get(h);if(N){const B=_t._fromJSON(e,N);b!==l&&(g=B),l=b;break}}catch{}const I=a.filter(b=>b._shouldAllowMigration);return l._shouldAllowMigration&&I.length?(l=I[0],g&&(yield l._set(h,g.toJSON())),yield Promise.all(t.map(function(){var b=(0,U.A)(function*(N){if(N!==l)try{yield N._remove(h)}catch{}});return function(N){return b.apply(this,arguments)}}())),new Ir(l,e,i)):new Ir(l,e,i)})()}}function Zo(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Ds(s=(0,me.ZQ)()){return/iemobile/i.test(s)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ti(s=(0,me.ZQ)()){return/firefox\//i.test(s)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Vi(s=(0,me.ZQ)()){return/blackberry/i.test(s)}(e))return"Blackberry";if(function we(s=(0,me.ZQ)()){return/webos/i.test(s)}(e))return"Webos";if(function ws(s=(0,me.ZQ)()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function fr(s=(0,me.ZQ)()){return/crios\//i.test(s)}(e))&&!e.includes("edge/"))return"Chrome";if(function gn(s=(0,me.ZQ)()){return/android/i.test(s)}(e))return"Android";{const i=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function kt(s,e=[]){let t;switch(s){case"Browser":t=Zo((0,me.ZQ)());break;case"Worker":t=`${Zo((0,me.ZQ)())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pe.MF}/${i}`}class yn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,g)=>{try{h(e(l))}catch(I){g(I)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,U.A)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}function Ft(){return(Ft=(0,U.A)(function*(s,e={}){return Je(s,"GET","/v2/passwordPolicy",Le(s,e))})).apply(this,arguments)}class no{constructor(e){var t,i,a,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=h.minPasswordLength)&&void 0!==t?t:6,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),void 0!==h.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),void 0!==h.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),void 0!==h.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),void 0!==h.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(a=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==a?a:"",this.forceUpgradeOnSignin=null!==(l=e.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,h,g;const I={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,I),this.validatePasswordCharacterOptions(e,I),I.isValid&&(I.isValid=null===(t=I.meetsMinPasswordLength)||void 0===t||t),I.isValid&&(I.isValid=null===(i=I.meetsMaxPasswordLength)||void 0===i||i),I.isValid&&(I.isValid=null===(a=I.containsLowercaseLetter)||void 0===a||a),I.isValid&&(I.isValid=null===(l=I.containsUppercaseLetter)||void 0===l||l),I.isValid&&(I.isValid=null===(h=I.containsNumericCharacter)||void 0===h||h),I.isValid&&(I.isValid=null===(g=I.containsNonAlphanumericCharacter)||void 0===g||g),I}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class pc{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=In,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=an(t)),this._initializationPromise=this.queue((0,U.A)(function*(){var a,l;if(!i._deleted&&(i.persistenceManager=yield Ir.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(l=i.currentUser)||void 0===l?void 0:l.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,U.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,U.A)(function*(){try{const i=yield tr(t,{idToken:e}),a=yield _t._fromGetAccountInfoResponse(t,i,e);yield t.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,U.A)(function*(){var i;if((0,pe.xZ)(t.app)){const g=t.app.settings.authIdToken;return g?new Promise(I=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(g).then(I,I))}):t.directlySetCurrentUser(null)}const a=yield t.assertedPersistence.getCurrentUser();let l=a,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const g=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,I=l?._redirectEventId,b=yield t.tryRedirectSignIn(e);(!g||g===I)&&b?.user&&(l=b.user,h=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(l)}catch(g){l=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(g))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return Ge(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,U.A)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,U.A)(function*(){try{yield _i(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function he(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}()}_delete(){var e=this;return(0,U.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,U.A)(function*(){if((0,pe.xZ)(t.app))return Promise.reject(At(t));const i=e?(0,me.Ku)(e):null;return i&&Ge(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,U.A)(function*(){if(!i._deleted)return e&&Ge(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,U.A)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,U.A)(function*(){return(0,pe.xZ)(e.app)?Promise.reject(At(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return(0,pe.xZ)(this.app)?Promise.reject(At(this)):this.queue((0,U.A)(function*(){yield t.assertedPersistence.setPersistence(an(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,U.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const i=t._getPasswordPolicyInternal();return i.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,U.A)(function*(){const t=yield function cn(s){return Ft.apply(this,arguments)}(e),i=new no(t);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new me.FA("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,U.A)(function*(){if(t.currentUser){const i=yield t.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=t.tenantId&&(a.tenantId=t.tenantId),yield function Q(s,e){return X.apply(this,arguments)}(t,a)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,U.A)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,U.A)(function*(){if(!t.redirectPersistenceManager){const i=e&&an(e)||t._popupRedirectResolver;Ge(i,t,"argument-error"),t.redirectPersistenceManager=yield Ir.create(t,[an(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,U.A)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,U.A)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,U.A)(function*(){if(e===t.currentUser)return t.queue((0,U.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(g,this,"internal-error"),g.then(()=>{h||l(this.currentUser)}),"function"==typeof t){const I=e.addObserver(t,i,a);return()=>{h=!0,I()}}{const I=e.addObserver(t);return()=>{h=!0,I()}}}directlySetCurrentUser(e){var t=this;return(0,U.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,U.A)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const l=yield e._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i})()}_getAppCheckToken(){var e=this;return(0,U.A)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function Fe(s,...e){qe.logLevel<=et.$b.WARN&&qe.warn(`Auth (${pe.MF}): ${s}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class Ui{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,me.tD)(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vi={loadJS:()=>(0,U.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function vo(s){return`__${s}${Math.floor(1e6*Math.random())}`})("rcb"),new de(3e4,6e4),new de(2e3,1e4),new de(3e4,6e4),new de(5e3,15e3),encodeURIComponent("fac");var Qv="@firebase/auth";class jw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,U.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,me.XA)("authIdTokenMaxAge"),function yo(s){vi=s}({loadJS:s=>new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=a=>{const l=tt("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",function Jv(){var s,e;return null!==(e=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Tf(s){(0,pe.om)(new J.uA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=i.options;Ge(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const I={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(s)},b=new pc(i,a,l,I);return function od(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(an);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}(b,t),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,pe.om)(new J.uA("auth-internal",e=>{const t=function Wn(s){return(0,me.Ku)(s)}(e.getProvider("auth").getImmediate());return new jw(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.KO)(Qv,"1.7.9",function om(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(s)),(0,pe.KO)(Qv,"1.7.9","esm2017")}("Browser");class sm{constructor(){return(0,A.CA)("auth")}}var Na,sI,pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oI={};(function(){var s;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function a(ie,W,ee){ee||(ee=0);var se=Array(16);if("string"==typeof W)for(var le=0;16>le;++le)se[le]=W.charCodeAt(ee++)|W.charCodeAt(ee++)<<8|W.charCodeAt(ee++)<<16|W.charCodeAt(ee++)<<24;else for(le=0;16>le;++le)se[le]=W[ee++]|W[ee++]<<8|W[ee++]<<16|W[ee++]<<24;var Ie=ie.g[3],te=(W=ie.g[0])+(Ie^(ee=ie.g[1])&((le=ie.g[2])^Ie))+se[0]+3614090360&4294967295;te=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=(ee=(le=(Ie=(W=ee+(te<<7&4294967295|te>>>25))+((te=Ie+(le^W&(ee^le))+se[1]+3905402710&4294967295)<<12&4294967295|te>>>20))+((te=le+(ee^Ie&(W^ee))+se[2]+606105819&4294967295)<<17&4294967295|te>>>15))+((te=ee+(W^le&(Ie^W))+se[3]+3250441966&4294967295)<<22&4294967295|te>>>10))+((te=W+(Ie^ee&(le^Ie))+se[4]+4118548399&4294967295)<<7&4294967295|te>>>25))+((te=Ie+(le^W&(ee^le))+se[5]+1200080426&4294967295)<<12&4294967295|te>>>20))+((te=le+(ee^Ie&(W^ee))+se[6]+2821735955&4294967295)<<17&4294967295|te>>>15))+((te=ee+(W^le&(Ie^W))+se[7]+4249261313&4294967295)<<22&4294967295|te>>>10))+((te=W+(Ie^ee&(le^Ie))+se[8]+1770035416&4294967295)<<7&4294967295|te>>>25))+((te=Ie+(le^W&(ee^le))+se[9]+2336552879&4294967295)<<12&4294967295|te>>>20))+((te=le+(ee^Ie&(W^ee))+se[10]+4294925233&4294967295)<<17&4294967295|te>>>15))+((te=ee+(W^le&(Ie^W))+se[11]+2304563134&4294967295)<<22&4294967295|te>>>10))+((te=W+(Ie^ee&(le^Ie))+se[12]+1804603682&4294967295)<<7&4294967295|te>>>25))+((te=Ie+(le^W&(ee^le))+se[13]+4254626195&4294967295)<<12&4294967295|te>>>20))+((te=le+(ee^Ie&(W^ee))+se[14]+2792965006&4294967295)<<17&4294967295|te>>>15))+((te=ee+(W^le&(Ie^W))+se[15]+1236535329&4294967295)<<22&4294967295|te>>>10))+((te=W+(le^Ie&(ee^le))+se[1]+4129170786&4294967295)<<5&4294967295|te>>>27))+((te=Ie+(ee^le&(W^ee))+se[6]+3225465664&4294967295)<<9&4294967295|te>>>23))+((te=le+(W^ee&(Ie^W))+se[11]+643717713&4294967295)<<14&4294967295|te>>>18))+((te=ee+(Ie^W&(le^Ie))+se[0]+3921069994&4294967295)<<20&4294967295|te>>>12))+((te=W+(le^Ie&(ee^le))+se[5]+3593408605&4294967295)<<5&4294967295|te>>>27))+((te=Ie+(ee^le&(W^ee))+se[10]+38016083&4294967295)<<9&4294967295|te>>>23))+((te=le+(W^ee&(Ie^W))+se[15]+3634488961&4294967295)<<14&4294967295|te>>>18))+((te=ee+(Ie^W&(le^Ie))+se[4]+3889429448&4294967295)<<20&4294967295|te>>>12))+((te=W+(le^Ie&(ee^le))+se[9]+568446438&4294967295)<<5&4294967295|te>>>27))+((te=Ie+(ee^le&(W^ee))+se[14]+3275163606&4294967295)<<9&4294967295|te>>>23))+((te=le+(W^ee&(Ie^W))+se[3]+4107603335&4294967295)<<14&4294967295|te>>>18))+((te=ee+(Ie^W&(le^Ie))+se[8]+1163531501&4294967295)<<20&4294967295|te>>>12))+((te=W+(le^Ie&(ee^le))+se[13]+2850285829&4294967295)<<5&4294967295|te>>>27))+((te=Ie+(ee^le&(W^ee))+se[2]+4243563512&4294967295)<<9&4294967295|te>>>23))+((te=le+(W^ee&(Ie^W))+se[7]+1735328473&4294967295)<<14&4294967295|te>>>18))+((te=ee+(Ie^W&(le^Ie))+se[12]+2368359562&4294967295)<<20&4294967295|te>>>12))+((te=W+(ee^le^Ie)+se[5]+4294588738&4294967295)<<4&4294967295|te>>>28))+((te=Ie+(W^ee^le)+se[8]+2272392833&4294967295)<<11&4294967295|te>>>21))+((te=le+(Ie^W^ee)+se[11]+1839030562&4294967295)<<16&4294967295|te>>>16))+((te=ee+(le^Ie^W)+se[14]+4259657740&4294967295)<<23&4294967295|te>>>9))+((te=W+(ee^le^Ie)+se[1]+2763975236&4294967295)<<4&4294967295|te>>>28))+((te=Ie+(W^ee^le)+se[4]+1272893353&4294967295)<<11&4294967295|te>>>21))+((te=le+(Ie^W^ee)+se[7]+4139469664&4294967295)<<16&4294967295|te>>>16))+((te=ee+(le^Ie^W)+se[10]+3200236656&4294967295)<<23&4294967295|te>>>9))+((te=W+(ee^le^Ie)+se[13]+681279174&4294967295)<<4&4294967295|te>>>28))+((te=Ie+(W^ee^le)+se[0]+3936430074&4294967295)<<11&4294967295|te>>>21))+((te=le+(Ie^W^ee)+se[3]+3572445317&4294967295)<<16&4294967295|te>>>16))+((te=ee+(le^Ie^W)+se[6]+76029189&4294967295)<<23&4294967295|te>>>9))+((te=W+(ee^le^Ie)+se[9]+3654602809&4294967295)<<4&4294967295|te>>>28))+((te=Ie+(W^ee^le)+se[12]+3873151461&4294967295)<<11&4294967295|te>>>21))+((te=le+(Ie^W^ee)+se[15]+530742520&4294967295)<<16&4294967295|te>>>16))+((te=ee+(le^Ie^W)+se[2]+3299628645&4294967295)<<23&4294967295|te>>>9))+((te=W+(le^(ee|~Ie))+se[0]+4096336452&4294967295)<<6&4294967295|te>>>26))+((te=Ie+(ee^(W|~le))+se[7]+1126891415&4294967295)<<10&4294967295|te>>>22))+((te=le+(W^(Ie|~ee))+se[14]+2878612391&4294967295)<<15&4294967295|te>>>17))+((te=ee+(Ie^(le|~W))+se[5]+4237533241&4294967295)<<21&4294967295|te>>>11))+((te=W+(le^(ee|~Ie))+se[12]+1700485571&4294967295)<<6&4294967295|te>>>26))+((te=Ie+(ee^(W|~le))+se[3]+2399980690&4294967295)<<10&4294967295|te>>>22))+((te=le+(W^(Ie|~ee))+se[10]+4293915773&4294967295)<<15&4294967295|te>>>17))+((te=ee+(Ie^(le|~W))+se[1]+2240044497&4294967295)<<21&4294967295|te>>>11))+((te=W+(le^(ee|~Ie))+se[8]+1873313359&4294967295)<<6&4294967295|te>>>26))+((te=Ie+(ee^(W|~le))+se[15]+4264355552&4294967295)<<10&4294967295|te>>>22))+((te=le+(W^(Ie|~ee))+se[6]+2734768916&4294967295)<<15&4294967295|te>>>17))+((te=ee+(Ie^(le|~W))+se[13]+1309151649&4294967295)<<21&4294967295|te>>>11))+((Ie=(W=ee+((te=W+(le^(ee|~Ie))+se[4]+4149444226&4294967295)<<6&4294967295|te>>>26))+((te=Ie+(ee^(W|~le))+se[11]+3174756917&4294967295)<<10&4294967295|te>>>22))^((le=Ie+((te=le+(W^(Ie|~ee))+se[2]+718787259&4294967295)<<15&4294967295|te>>>17))|~W))+se[9]+3951481745&4294967295,ie.g[0]=ie.g[0]+W&4294967295,ie.g[1]=ie.g[1]+(le+(te<<21&4294967295|te>>>11))&4294967295,ie.g[2]=ie.g[2]+le&4294967295,ie.g[3]=ie.g[3]+Ie&4294967295}function h(ie,W){this.h=W;for(var ee=[],se=!0,le=ie.length-1;0<=le;le--){var Ie=0|ie[le];se&&Ie==W||(ee[le]=Ie,se=!1)}this.g=ee}(function e(ie,W){function ee(){}ee.prototype=W.prototype,ie.D=W.prototype,ie.prototype=new ee,ie.prototype.constructor=ie,ie.C=function(se,le,Ie){for(var te=Array(arguments.length-2),la=2;la<arguments.length;la++)te[la-2]=arguments[la];return W.prototype[le].apply(se,te)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(ie,W){void 0===W&&(W=ie.length);for(var ee=W-this.blockSize,se=this.B,le=this.h,Ie=0;Ie<W;){if(0==le)for(;Ie<=ee;)a(this,ie,Ie),Ie+=this.blockSize;if("string"==typeof ie){for(;Ie<W;)if(se[le++]=ie.charCodeAt(Ie++),le==this.blockSize){a(this,se),le=0;break}}else for(;Ie<W;)if(se[le++]=ie[Ie++],le==this.blockSize){a(this,se),le=0;break}}this.h=le,this.o+=W},i.prototype.v=function(){var ie=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ie[0]=128;for(var W=1;W<ie.length-8;++W)ie[W]=0;var ee=8*this.o;for(W=ie.length-8;W<ie.length;++W)ie[W]=255&ee,ee/=256;for(this.u(ie),ie=Array(16),W=ee=0;4>W;++W)for(var se=0;32>se;se+=8)ie[ee++]=this.g[W]>>>se&255;return ie};var g={};function I(ie){return-128<=ie&&128>ie?function l(ie,W){var ee=g;return Object.prototype.hasOwnProperty.call(ee,ie)?ee[ie]:ee[ie]=W(ie)}(ie,function(W){return new h([0|W],0>W?-1:0)}):new h([0|ie],0>ie?-1:0)}function b(ie){if(isNaN(ie)||!isFinite(ie))return B;if(0>ie)return $e(b(-ie));for(var W=[],ee=1,se=0;ie>=ee;se++)W[se]=ie/ee|0,ee*=4294967296;return new h(W,0)}var B=I(0),q=I(1),ce=I(16777216);function Ne(ie){if(0!=ie.h)return!1;for(var W=0;W<ie.g.length;W++)if(0!=ie.g[W])return!1;return!0}function Be(ie){return-1==ie.h}function $e(ie){for(var W=ie.g.length,ee=[],se=0;se<W;se++)ee[se]=~ie.g[se];return new h(ee,~ie.h).add(q)}function yt(ie,W){return ie.add($e(W))}function St(ie,W){for(;(65535&ie[W])!=ie[W];)ie[W+1]+=ie[W]>>>16,ie[W]&=65535,W++}function Et(ie,W){this.g=ie,this.h=W}function Gt(ie,W){if(Ne(W))throw Error("division by zero");if(Ne(ie))return new Et(B,B);if(Be(ie))return W=Gt($e(ie),W),new Et($e(W.g),$e(W.h));if(Be(W))return W=Gt(ie,$e(W)),new Et($e(W.g),W.h);if(30<ie.g.length){if(Be(ie)||Be(W))throw Error("slowDivide_ only works with positive integers.");for(var ee=q,se=W;0>=se.l(ie);)ee=vn(ee),se=vn(se);var le=Lt(ee,1),Ie=Lt(se,1);for(se=Lt(se,2),ee=Lt(ee,2);!Ne(se);){var te=Ie.add(se);0>=te.l(ie)&&(le=le.add(ee),Ie=te),se=Lt(se,1),ee=Lt(ee,1)}return W=yt(ie,le.j(W)),new Et(le,W)}for(le=B;0<=ie.l(W);){for(ee=Math.max(1,Math.floor(ie.m()/W.m())),se=48>=(se=Math.ceil(Math.log(ee)/Math.LN2))?1:Math.pow(2,se-48),te=(Ie=b(ee)).j(W);Be(te)||0<te.l(ie);)te=(Ie=b(ee-=se)).j(W);Ne(Ie)&&(Ie=q),le=le.add(Ie),ie=yt(ie,te)}return new Et(le,ie)}function vn(ie){for(var W=ie.g.length+1,ee=[],se=0;se<W;se++)ee[se]=ie.i(se)<<1|ie.i(se-1)>>>31;return new h(ee,ie.h)}function Lt(ie,W){var ee=W>>5;W%=32;for(var se=ie.g.length-ee,le=[],Ie=0;Ie<se;Ie++)le[Ie]=0<W?ie.i(Ie+ee)>>>W|ie.i(Ie+ee+1)<<32-W:ie.i(Ie+ee);return new h(le,ie.h)}(s=h.prototype).m=function(){if(Be(this))return-$e(this).m();for(var ie=0,W=1,ee=0;ee<this.g.length;ee++){var se=this.i(ee);ie+=(0<=se?se:4294967296+se)*W,W*=4294967296}return ie},s.toString=function(ie){if(2>(ie=ie||10)||36<ie)throw Error("radix out of range: "+ie);if(Ne(this))return"0";if(Be(this))return"-"+$e(this).toString(ie);for(var W=b(Math.pow(ie,6)),ee=this,se="";;){var le=Gt(ee,W).g,Ie=((0<(ee=yt(ee,le.j(W))).g.length?ee.g[0]:ee.h)>>>0).toString(ie);if(Ne(ee=le))return Ie+se;for(;6>Ie.length;)Ie="0"+Ie;se=Ie+se}},s.i=function(ie){return 0>ie?0:ie<this.g.length?this.g[ie]:this.h},s.l=function(ie){return Be(ie=yt(this,ie))?-1:Ne(ie)?0:1},s.abs=function(){return Be(this)?$e(this):this},s.add=function(ie){for(var W=Math.max(this.g.length,ie.g.length),ee=[],se=0,le=0;le<=W;le++){var Ie=se+(65535&this.i(le))+(65535&ie.i(le)),te=(Ie>>>16)+(this.i(le)>>>16)+(ie.i(le)>>>16);se=te>>>16,ee[le]=(te&=65535)<<16|(Ie&=65535)}return new h(ee,-2147483648&ee[ee.length-1]?-1:0)},s.j=function(ie){if(Ne(this)||Ne(ie))return B;if(Be(this))return Be(ie)?$e(this).j($e(ie)):$e($e(this).j(ie));if(Be(ie))return $e(this.j($e(ie)));if(0>this.l(ce)&&0>ie.l(ce))return b(this.m()*ie.m());for(var W=this.g.length+ie.g.length,ee=[],se=0;se<2*W;se++)ee[se]=0;for(se=0;se<this.g.length;se++)for(var le=0;le<ie.g.length;le++){var Ie=this.i(se)>>>16,te=65535&this.i(se),la=ie.i(le)>>>16,Hh=65535&ie.i(le);ee[2*se+2*le]+=te*Hh,St(ee,2*se+2*le),ee[2*se+2*le+1]+=Ie*Hh,St(ee,2*se+2*le+1),ee[2*se+2*le+1]+=te*la,St(ee,2*se+2*le+1),ee[2*se+2*le+2]+=Ie*la,St(ee,2*se+2*le+2)}for(se=0;se<W;se++)ee[se]=ee[2*se+1]<<16|ee[2*se];for(se=W;se<2*W;se++)ee[se]=0;return new h(ee,0)},s.A=function(ie){return Gt(this,ie).h},s.and=function(ie){for(var W=Math.max(this.g.length,ie.g.length),ee=[],se=0;se<W;se++)ee[se]=this.i(se)&ie.i(se);return new h(ee,this.h&ie.h)},s.or=function(ie){for(var W=Math.max(this.g.length,ie.g.length),ee=[],se=0;se<W;se++)ee[se]=this.i(se)|ie.i(se);return new h(ee,this.h|ie.h)},s.xor=function(ie){for(var W=Math.max(this.g.length,ie.g.length),ee=[],se=0;se<W;se++)ee[se]=this.i(se)^ie.i(se);return new h(ee,this.h^ie.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sI=oI.Md5=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=b,h.fromString=function N(ie,W){if(0==ie.length)throw Error("number format error: empty string");if(2>(W=W||10)||36<W)throw Error("radix out of range: "+W);if("-"==ie.charAt(0))return $e(N(ie.substring(1),W));if(0<=ie.indexOf("-"))throw Error('number format error: interior "-" character');for(var ee=b(Math.pow(W,8)),se=B,le=0;le<ie.length;le+=8){var Ie=Math.min(8,ie.length-le),te=parseInt(ie.substring(le,le+Ie),W);8>Ie?(Ie=b(Math.pow(W,Ie)),se=se.j(Ie).add(b(te))):se=(se=se.j(ee)).add(b(te))}return se},Na=oI.Integer=h}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});var Sf,Us,aI,Rf,Pf,gm,mm,Du,bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zo={};(function(){var s,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,D,P){return f==Array.prototype||f==Object.prototype||(f[D]=P.value),f},i=function t(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof bf&&bf];for(var D=0;D<f.length;++D){var P=f[D];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}(this);!function a(f,D){if(D)e:{var P=i;f=f.split(".");for(var j=0;j<f.length-1;j++){var ge=f[j];if(!(ge in P))break e;P=P[ge]}(D=D(j=P[f=f[f.length-1]]))!=j&&null!=D&&e(P,f,{configurable:!0,writable:!0,value:D})}}("Array.prototype.values",function(f){return f||function(){return function l(f,D){f instanceof String&&(f+="");var P=0,j=!1,ge={next:function(){if(!j&&P<f.length){var be=P++;return{value:D(be,f[be]),done:!1}}return j=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}(this,function(D,P){return P})}});var h=h||{},g=this||self;function I(f){var D=typeof f;return"array"==(D="object"!=D?D:f?Array.isArray(f)?"array":D:"null")||"object"==D&&"number"==typeof f.length}function b(f){var D=typeof f;return"object"==D&&null!=f||"function"==D}function N(f,D,P){return f.call.apply(f.bind,arguments)}function B(f,D,P){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,j),f.apply(D,ge)}}return function(){return f.apply(D,arguments)}}function q(f,D,P){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:B).apply(null,arguments)}function ce(f,D){var P=Array.prototype.slice.call(arguments,1);return function(){var j=P.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function Ne(f,D){function P(){}P.prototype=D.prototype,f.aa=D.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(j,ge,be){for(var lt=Array(arguments.length-2),or=2;or<arguments.length;or++)lt[or-2]=arguments[or];return D.prototype[ge].apply(j,lt)}}function Be(f){const D=f.length;if(0<D){const P=Array(D);for(let j=0;j<D;j++)P[j]=f[j];return P}return[]}function $e(f,D){for(let P=1;P<arguments.length;P++){const j=arguments[P];if(I(j)){const ge=f.length||0,be=j.length||0;f.length=ge+be;for(let lt=0;lt<be;lt++)f[ge+lt]=j[lt]}else f.push(j)}}function St(f){return/^[\s\xa0]*$/.test(f)}function Et(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function Gt(f){return Gt[" "](f),f}Gt[" "]=function(){};var vn=!(-1==Et().indexOf("Gecko")||-1!=Et().toLowerCase().indexOf("webkit")&&-1==Et().indexOf("Edge")||-1!=Et().indexOf("Trident")||-1!=Et().indexOf("MSIE")||-1!=Et().indexOf("Edge"));function Lt(f,D,P){for(const j in f)D.call(P,f[j],j,f)}function W(f){const D={};for(const P in f)D[P]=f[P];return D}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,D){let P,j;for(let ge=1;ge<arguments.length;ge++){for(P in j=arguments[ge],j)f[P]=j[P];for(let be=0;be<ee.length;be++)P=ee[be],Object.prototype.hasOwnProperty.call(j,P)&&(f[P]=j[P])}}function le(f){var D=1;f=f.split(":");const P=[];for(;0<D&&f.length;)P.push(f.shift()),D--;return f.length&&P.push(f.join(":")),P}function Ie(f){g.setTimeout(()=>{throw f},0)}function te(){var f=wg;let D=null;return f.g&&(D=f.g,f.g=f.g.next,f.g||(f.h=null),D.next=null),D}var Hh=new class yt{constructor(D,P){this.i=D,this.j=P,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}(()=>new bA,f=>f.reset());class bA{constructor(){this.next=this.g=this.h=null}set(D,P){this.h=D,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Ql,Tg=!1,wg=new class la{constructor(){this.h=this.g=null}add(D,P){const j=Hh.get();j.set(D,P),this.h?this.h.next=j:this.g=j,this.h=j}},ZT=()=>{const f=g.Promise.resolve(void 0);Ql=()=>{f.then(ew)}};var ew=()=>{for(var f;f=te();){try{f.h.call(f.g)}catch(P){Ie(P)}var D=Hh;D.j(f),100>D.h&&(D.h++,f.next=D.g,D.g=f)}Tg=!1};function uc(){this.s=this.s,this.C=this.C}function Jr(f,D){this.type=f,this.g=this.target=D,this.defaultPrevented=!1}uc.prototype.s=!1,uc.prototype.ma=function(){this.s||(this.s=!0,this.N())},uc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jr.prototype.h=function(){this.defaultPrevented=!0};var tw=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,D=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};g.addEventListener("test",P,D),g.removeEventListener("test",P,D)}catch{}return f}();function Yl(f,D){if(Jr.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=D,D=f.relatedTarget){if(vn){e:{try{Gt(D.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(D=null)}}else"mouseover"==P?D=f.fromElement:"mouseout"==P&&(D=f.toElement);this.relatedTarget=D,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:SA[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Yl.aa.h.call(this)}}Ne(Yl,Jr);var SA={2:"touch",3:"pen",4:"mouse"};Yl.prototype.h=function(){Yl.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xl="closure_listenable_"+(1e6*Math.random()|0),nw=0;function Jl(f,D,P,j,ge){this.listener=f,this.proxy=null,this.src=D,this.type=P,this.capture=!!j,this.ha=ge,this.key=++nw,this.da=this.fa=!1}function cc(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function zh(f){this.src=f,this.g={},this.h=0}function Dg(f,D){var P=D.type;if(P in f.g){var be,j=f.g[P],ge=Array.prototype.indexOf.call(j,D,void 0);(be=0<=ge)&&Array.prototype.splice.call(j,ge,1),be&&(cc(D),0==f.g[P].length&&(delete f.g[P],f.h--))}}function Yy(f,D,P,j){for(var ge=0;ge<f.length;++ge){var be=f[ge];if(!be.da&&be.listener==D&&be.capture==!!P&&be.ha==j)return ge}return-1}zh.prototype.add=function(f,D,P,j,ge){var be=f.toString();(f=this.g[be])||(f=this.g[be]=[],this.h++);var lt=Yy(f,D,j,ge);return-1<lt?(D=f[lt],P||(D.fa=!1)):((D=new Jl(D,this.src,be,!!j,ge)).fa=P,f.push(D)),D};var Xy="closure_lm_"+(1e6*Math.random()|0),rw={};function Jy(f,D,P,j,ge){if(j&&j.once)return RA(f,D,P,j,ge);if(Array.isArray(D)){for(var be=0;be<D.length;be++)Jy(f,D[be],P,j,ge);return null}return P=sw(P),f&&f[Xl]?f.K(D,P,b(j)?!!j.capture:!!j,ge):iw(f,D,P,!1,j,ge)}function iw(f,D,P,j,ge,be){if(!D)throw Error("Invalid event type");var lt=b(ge)?!!ge.capture:!!ge,or=ev(f);if(or||(f[Xy]=or=new zh(f)),(P=or.add(D,P,j,lt,be)).proxy)return P;if(j=function uS(){const D=MA;return function f(P){return D.call(f.src,f.listener,P)}}(),P.proxy=j,j.src=f,j.listener=P,f.addEventListener)tw||(ge=lt),void 0===ge&&(ge=!1),f.addEventListener(D.toString(),j,ge);else if(f.attachEvent)f.attachEvent(Zy(D.toString()),j);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(j)}return P}function RA(f,D,P,j,ge){if(Array.isArray(D)){for(var be=0;be<D.length;be++)RA(f,D[be],P,j,ge);return null}return P=sw(P),f&&f[Xl]?f.L(D,P,b(j)?!!j.capture:!!j,ge):iw(f,D,P,!0,j,ge)}function PA(f,D,P,j,ge){if(Array.isArray(D))for(var be=0;be<D.length;be++)PA(f,D[be],P,j,ge);else j=b(j)?!!j.capture:!!j,P=sw(P),f&&f[Xl]?(f=f.i,(D=String(D).toString())in f.g&&-1<(P=Yy(be=f.g[D],P,j,ge))&&(cc(be[P]),Array.prototype.splice.call(be,P,1),0==be.length&&(delete f.g[D],f.h--))):f&&(f=ev(f))&&(D=f.g[D.toString()],f=-1,D&&(f=Yy(D,P,j,ge)),(P=-1<f?D[f]:null)&&ow(P))}function ow(f){if("number"!=typeof f&&f&&!f.da){var D=f.src;if(D&&D[Xl])Dg(D.i,f);else{var P=f.type,j=f.proxy;D.removeEventListener?D.removeEventListener(P,j,f.capture):D.detachEvent?D.detachEvent(Zy(P),j):D.addListener&&D.removeListener&&D.removeListener(j),(P=ev(D))?(Dg(P,f),0==P.h&&(P.src=null,D[Xy]=null)):cc(f)}}}function Zy(f){return f in rw?rw[f]:rw[f]="on"+f}function MA(f,D){if(f.da)f=!0;else{D=new Yl(D,this);var P=f.listener,j=f.ha||f.src;f.fa&&ow(f),f=P.call(j,D)}return f}function ev(f){return(f=f[Xy])instanceof zh?f:null}var tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function sw(f){return"function"==typeof f?f:(f[tv]||(f[tv]=function(D){return f.handleEvent(D)}),f[tv])}function xi(){uc.call(this),this.i=new zh(this),this.M=this,this.F=null}function Ji(f,D){var P,j=f.F;if(j)for(P=[];j;j=j.F)P.push(j);if(f=f.M,j=D.type||D,"string"==typeof D)D=new Jr(D,f);else if(D instanceof Jr)D.target=D.target||f;else{var ge=D;se(D=new Jr(j,f),ge)}if(ge=!0,P)for(var be=P.length-1;0<=be;be--){var lt=D.g=P[be];ge=nv(lt,j,!0,D)&&ge}if(ge=nv(lt=D.g=f,j,!0,D)&&ge,ge=nv(lt,j,!1,D)&&ge,P)for(be=0;be<P.length;be++)ge=nv(lt=D.g=P[be],j,!1,D)&&ge}function nv(f,D,P,j){if(!(D=f.i.g[String(D)]))return!0;D=D.concat();for(var ge=!0,be=0;be<D.length;++be){var lt=D[be];if(lt&&!lt.da&&lt.capture==P){var or=lt.listener,ki=lt.ha||lt.src;lt.fa&&Dg(f.i,lt),ge=!1!==or.call(ki,j)&&ge}}return ge&&!j.defaultPrevented}function xA(f,D,P){if("function"==typeof f)P&&(f=q(f,P));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=q(f.handleEvent,f)}return 2147483647<Number(D)?-1:g.setTimeout(f,D||0)}function rv(f){f.g=xA(()=>{f.g=null,f.i&&(f.i=!1,rv(f))},f.l);const D=f.h;f.h=null,f.m.apply(null,D)}Ne(xi,uc),xi.prototype[Xl]=!0,xi.prototype.removeEventListener=function(f,D,P,j){PA(this,f,D,P,j)},xi.prototype.N=function(){if(xi.aa.N.call(this),this.i){var D,f=this.i;for(D in f.g){for(var P=f.g[D],j=0;j<P.length;j++)cc(P[j]);delete f.g[D],f.h--}}this.F=null},xi.prototype.K=function(f,D,P,j){return this.i.add(String(f),D,!1,P,j)},xi.prototype.L=function(f,D,P,j){return this.i.add(String(f),D,!0,P,j)};class Ag extends uc{constructor(D,P){super(),this.m=D,this.l=P,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:rv(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gh(f){uc.call(this),this.h=f,this.g={}}Ne(Gh,uc);var aw=[];function iv(f){Lt(f.g,function(D,P){this.g.hasOwnProperty(P)&&ow(D)},f),f.g={}}Gh.prototype.N=function(){Gh.aa.N.call(this),iv(this)},Gh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=g.JSON.stringify,uw=g.JSON.parse,ov=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function Wh(){}function Cg(){}Wh.prototype.h=null;var lc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zl(){Jr.call(this,"d")}function lw(){Jr.call(this,"c")}Ne(Zl,Jr),Ne(lw,Jr);var ed={},NA=null;function qh(){return NA=NA||new xi}function dw(f){Jr.call(this,ed.La,f)}function Kh(f){const D=qh();Ji(D,new dw(D))}function hw(f,D){Jr.call(this,ed.STAT_EVENT,f),this.stat=D}function Ni(f){const D=qh();Ji(D,new hw(D,f))}function sv(f,D){Jr.call(this,ed.Ma,f),this.size=D}function td(f,D){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},D)}function nd(){this.g=!0}function dc(f,D,P,j){f.info(function(){return"XMLHTTP TEXT ("+D+"): "+function cS(f,D){if(!f.g)return D;if(!D)return null;try{var P=JSON.parse(D);if(P)for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var j=P[f];if(!(2>j.length)){var ge=j[1];if(Array.isArray(ge)&&!(1>ge.length)){var be=ge[0];if("noop"!=be&&"stop"!=be&&"close"!=be)for(var lt=1;lt<ge.length;lt++)ge[lt]=""}}}return da(P)}catch{return D}}(f,P)+(j?" "+j:"")})}ed.La="serverreachability",Ne(dw,Jr),ed.STAT_EVENT="statevent",Ne(hw,Jr),ed.Ma="timingevent",Ne(sv,Jr),nd.prototype.xa=function(){this.g=!1},nd.prototype.info=function(){};var uv,Qh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Sg(){}function hc(f,D,P,j){this.j=f,this.i=D,this.l=P,this.R=j||1,this.U=new Gh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FA}function FA(){this.i=null,this.g="",this.h=!1}Ne(Sg,Wh),Sg.prototype.g=function(){return new XMLHttpRequest},Sg.prototype.i=function(){return{}},uv=new Sg;var fw={},cv={};function lv(f,D,P){f.L=1,f.v=vv(ha(D)),f.m=P,f.P=!0,pw(f,null)}function pw(f,D){f.F=Date.now(),Rg(f),f.A=ha(f.v);var P=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),u(P.i,"t",j),f.C=0,P=f.j.J,f.h=new FA,f.g=CS(f.j,P?D:null,!f.m),0<f.O&&(f.M=new Ag(q(f.Y,f,f.g),f.O)),D=f.U,P=f.g,j=f.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(aw[0]=ge.toString()),ge=aw);for(var be=0;be<ge.length;be++){var lt=Jy(P,ge[be],j||D.handleEvent,!1,D.h||D);if(!lt)break;D.g[lt.key]=lt}D=f.H?W(f.H):{},f.m?(f.u||(f.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,D)):(f.u="GET",f.g.ea(f.A,f.u,null,D)),Kh(),function OA(f,D,P,j,ge,be){f.info(function(){if(f.g)if(be)for(var lt="",or=be.split("&"),ki=0;ki<or.length;ki++){var Fn=or[ki].split("=");if(1<Fn.length){var Zi=Fn[0];Fn=Fn[1];var eo=Zi.split("_");lt=2<=eo.length&&"type"==eo[1]?lt+(Zi+"=")+Fn+"&":lt+(Zi+"=redacted&")}}else lt=null;else lt=be;return"XMLHTTP REQ ("+j+") [attempt "+ge+"]: "+D+"\n"+P+"\n"+lt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function dv(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function gw(f,D){var P=f.C,j=D.indexOf("\n",P);return-1==j?cv:(P=Number(D.substring(P,j)),isNaN(P)?fw:(j+=1)+P>D.length?cv:(D=D.slice(j,j+P),f.C=j+P,D))}function Rg(f){f.S=Date.now()+f.I,hv(f,f.I)}function hv(f,D){if(null!=f.B)throw Error("WatchDog timer not null");f.B=td(q(f.ba,f),D)}function Pg(f){f.B&&(g.clearTimeout(f.B),f.B=null)}function Mg(f){0==f.j.G||f.J||TS(f.j,f)}function fc(f){Pg(f);var D=f.M;D&&"function"==typeof D.ma&&D.ma(),f.M=null,iv(f.U),f.g&&(D=f.g,f.g=null,D.abort(),D.ma())}function Yh(f,D){try{var P=f.j;if(0!=P.G&&(P.g==f||pv(P.h,f)))if(!f.K&&pv(P.h,f)&&3==P.G){try{var j=P.Da.g.parse(D)}catch{j=null}if(Array.isArray(j)&&3==j.length){var ge=j;if(0==ge[0]){e:if(!P.u){if(P.g){if(!(P.g.F+3e3<f.F))break e;Tw(P),Iw(P)}HA(P),Ni(18)}}else P.za=ge[1],0<P.za-P.T&&37500>ge[2]&&P.F&&0==P.v&&!P.C&&(P.C=td(q(P.Za,P),6e3));if(1>=Xh(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Zh(P,11)}else if((f.K||P.g==f)&&Tw(P),!St(D))for(ge=P.Da.g.parse(D),D=0;D<ge.length;D++){let Fn=ge[D];if(P.T=Fn[0],Fn=Fn[1],2==P.G)if("c"==Fn[0]){P.K=Fn[1],P.ia=Fn[2];const Zi=Fn[3];null!=Zi&&(P.la=Zi,P.j.info("VER="+P.la));const eo=Fn[4];null!=eo&&(P.Aa=eo,P.j.info("SVER="+P.Aa));const Lg=Fn[5];null!=Lg&&"number"==typeof Lg&&0<Lg&&(P.L=j=1.5*Lg,P.j.info("backChannelRequestTimeoutMs_="+j)),j=P;const ga=f.g;if(ga){const Dw=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dw){var be=j.h;be.g||-1==Dw.indexOf("spdy")&&-1==Dw.indexOf("quic")&&-1==Dw.indexOf("h2")||(be.j=be.l,be.g=new Set,be.h&&(gv(be,be.h),be.h=null))}if(j.D){const GA=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;GA&&(j.ya=GA,dr(j.I,j.D,GA))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms"));var lt=f;if((j=P).qa=AS(j,j.J?j.ia:null,j.W),lt.K){mv(j.h,lt);var or=lt,ki=j.L;ki&&(or.I=ki),or.B&&(Pg(or),Rg(or)),j.g=lt}else IS(j);0<P.i.length&&Ew(P)}else"stop"!=Fn[0]&&"close"!=Fn[0]||Zh(P,7);else 3==P.G&&("stop"==Fn[0]||"close"==Fn[0]?"stop"==Fn[0]?Zh(P,7):$A(P):"noop"!=Fn[0]&&P.l&&P.l.ta(Fn),P.v=0)}Kh()}catch{}}function fv(f){this.l=f||10,f=g.PerformanceNavigationTiming?0<(f=g.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _w(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Xh(f){return f.h?1:f.g?f.g.size:0}function pv(f,D){return f.h?f.h==D:!!f.g&&f.g.has(D)}function gv(f,D){f.g?f.g.add(D):f.h=D}function mv(f,D){f.h&&f.h==D?f.h=null:f.g&&f.g.has(D)&&f.g.delete(D)}function _v(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let D=f.i;for(const P of f.g.values())D=D.concat(P.D);return D}return Be(f.i)}function VA(f,D){if(f.forEach&&"function"==typeof f.forEach)f.forEach(D,void 0);else if(I(f)||"string"==typeof f)Array.prototype.forEach.call(f,D,void 0);else for(var P=function LA(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(I(f)||"string"==typeof f){var D=[];f=f.length;for(var P=0;P<f;P++)D.push(P);return D}D=[],P=0;for(const j in f)D[P++]=j;return D}}}(f),j=function lS(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(I(f)){for(var D=[],P=f.length,j=0;j<P;j++)D.push(f[j]);return D}for(j in D=[],P=0,f)D[P++]=f[j];return D}(f),ge=j.length,be=0;be<ge;be++)D.call(void 0,j[be],P&&P[be],f)}hc.prototype.ca=function(f){f=f.target;const D=this.M;D&&3==pa(f)?D.j():this.Y(f)},hc.prototype.Y=function(f){try{if(f==this.g)e:{const eo=pa(this.g);var D=this.g.Ba();if(this.g.Z(),!(3>eo)&&(3!=eo||this.g&&(this.h.h||this.g.oa()||vw(this.g)))){this.J||4!=eo||7==D||Kh(),Pg(this);var P=this.g.Z();this.X=P;t:if(dv(this)){var j=vw(this.g);f="";var ge=j.length,be=4==pa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fc(this),Mg(this);var lt="";break t}this.h.i=new g.TextDecoder}for(D=0;D<ge;D++)this.h.h=!0,f+=this.h.i.decode(j[D],{stream:!(be&&D==ge-1)});j.length=0,this.h.g+=f,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=200==P,function kA(f,D,P,j,ge,be,lt){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ge+"]: "+D+"\n"+P+"\n"+be+" "+lt})}(this.i,this.u,this.A,this.l,this.R,eo,P),this.o){if(this.T&&!this.K){t:{if(this.g){var or,ki=this.g;if((or=ki.g?ki.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!St(or)){var Fn=or;break t}}Fn=null}if(!(P=Fn)){this.o=!1,this.s=3,Ni(12),fc(this),Mg(this);break e}dc(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,P)}if(this.P){let ga;for(P=!0;!this.J&&this.C<lt.length;){if(ga=gw(this,lt),ga==cv){4==eo&&(this.s=4,Ni(14),P=!1),dc(this.i,this.l,null,"[Incomplete Response]");break}if(ga==fw){this.s=4,Ni(15),dc(this.i,this.l,lt,"[Invalid Chunk]"),P=!1;break}dc(this.i,this.l,ga,null),Yh(this,ga)}if(dv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=eo||0!=lt.length||this.h.h||(this.s=1,Ni(16),P=!1),this.o=this.o&&P,P){if(0<lt.length&&!this.W){this.W=!0;var Zi=this.j;Zi.g==this&&Zi.ba&&!Zi.M&&(Zi.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),zA(Zi),Zi.M=!0,Ni(11))}}else dc(this.i,this.l,lt,"[Invalid Chunked Response]"),fc(this),Mg(this)}else dc(this.i,this.l,lt,null),Yh(this,lt);4==eo&&fc(this),this.o&&!this.J&&(4==eo?TS(this.j,this):(this.o=!1,Rg(this)))}else(function hR(f){const D={};f=(f.g&&2<=pa(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<f.length;j++){if(St(f[j]))continue;var P=le(f[j]);const ge=P[0];if("string"!=typeof(P=P[1]))continue;P=P.trim();const be=D[ge]||[];D[ge]=be,be.push(P)}!function ie(f,D){for(const P in f)D.call(void 0,f[P],P,f)}(D,function(j){return j.join(", ")})})(this.g),400==P&&0<lt.indexOf("Unknown SID")?(this.s=3,Ni(12)):(this.s=0,Ni(13)),fc(this),Mg(this)}}}catch{}},hc.prototype.cancel=function(){this.J=!0,fc(this)},hc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function av(f,D){f.info(function(){return"TIMEOUT: "+D})}(this.i,this.A),2!=this.L&&(Kh(),Ni(17)),fc(this),this.s=2,Mg(this)):hv(this,this.S-f)},fv.prototype.cancel=function(){if(this.i=_v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var yw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rd(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof rd){this.h=f.h,xg(this,f.j),this.o=f.o,this.g=f.g,yv(this,f.s),this.l=f.l;var D=f.i,P=new Og;P.i=D.i,D.g&&(P.g=new Map(D.g),P.h=D.h),UA(this,P),this.m=f.m}else f&&(D=String(f).match(yw))?(this.h=!1,xg(this,D[1]||"",!0),this.o=Ng(D[2]||""),this.g=Ng(D[3]||"",!0),yv(this,D[4]),this.l=Ng(D[5]||"",!0),UA(this,D[6]||"",!0),this.m=Ng(D[7]||"")):(this.h=!1,this.i=new Og(null,this.h))}function ha(f){return new rd(f)}function xg(f,D,P){f.j=P?Ng(D,!0):D,f.j&&(f.j=f.j.replace(/:$/,""))}function yv(f,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);f.s=D}else f.s=null}function UA(f,D,P){D instanceof Og?(f.i=D,function d(f,D){D&&!f.j&&(n(f),f.i=null,f.g.forEach(function(P,j){var ge=j.toLowerCase();j!=ge&&(r(this,j),u(this,ge,P))},f)),f.j=D}(f.i,f.h)):(P||(D=Jh(D,gS)),f.i=new Og(D,f.h))}function dr(f,D,P){f.i.set(D,P)}function vv(f){return dr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ng(f,D){return f?D?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Jh(f,D,P){return"string"==typeof f?(f=encodeURI(f).replace(D,hS),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hS(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}rd.prototype.toString=function(){var f=[],D=this.j;D&&f.push(Jh(D,BA,!0),":");var P=this.g;return(P||"file"==D)&&(f.push("//"),(D=this.o)&&f.push(Jh(D,BA,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(P=this.s)&&f.push(":",String(P))),(P=this.l)&&(this.g&&"/"!=P.charAt(0)&&f.push("/"),f.push(Jh(P,"/"==P.charAt(0)?pS:fS,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Jh(P,jA)),f.join("")};var f,BA=/[#\/\?@]/g,fS=/[#\?:]/g,pS=/[#\?]/g,gS=/[#\?@]/g,jA=/#/g;function Og(f,D){this.h=this.g=null,this.i=f||null,this.j=!!D}function n(f){f.g||(f.g=new Map,f.h=0,f.i&&function dS(f,D){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var j=f[P].indexOf("="),ge=null;if(0<=j){var be=f[P].substring(0,j);ge=f[P].substring(j+1)}else be=f[P];D(be,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}(f.i,function(D,P){f.add(decodeURIComponent(D.replace(/\+/g," ")),P)}))}function r(f,D){n(f),D=c(f,D),f.g.has(D)&&(f.i=null,f.h-=f.g.get(D).length,f.g.delete(D))}function o(f,D){return n(f),D=c(f,D),f.g.has(D)}function u(f,D,P){r(f,D),0<P.length&&(f.i=null,f.g.set(c(f,D),Be(P)),f.h+=P.length)}function c(f,D){return D=String(D),f.j&&(D=D.toLowerCase()),D}function T(f,D,P,j,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),j(P)}catch{}}function R(){this.g=new ov}function k(f,D,P){const j=P||"";try{VA(f,function(ge,be){let lt=ge;b(ge)&&(lt=da(ge)),D.push(j+be+"="+encodeURIComponent(lt))})}catch(ge){throw D.push(j+"type="+encodeURIComponent("_badmap")),ge}}function H(f){this.l=f.Ub||null,this.j=f.eb||!1}function ne(f,D){xi.call(this),this.D=f,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ae(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Re(f){f.readyState=4,f.l=null,f.j=null,f.v=null,He(f)}function He(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function at(f){let D="";return Lt(f,function(P,j){D+=j,D+=":",D+=P,D+="\r\n"}),D}function Tt(f,D,P){e:{for(j in P){var j=!1;break e}j=!0}j||(P=at(P),"string"==typeof f?null!=P&&encodeURIComponent(String(P)):dr(f,D,P))}function Ce(f){xi.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(s=Og.prototype).add=function(f,D){n(this),this.i=null,f=c(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(D),this.h+=1,this},s.forEach=function(f,D){n(this),this.g.forEach(function(P,j){P.forEach(function(ge){f.call(D,ge,j,this)},this)},this)},s.na=function(){n(this);const f=Array.from(this.g.values()),D=Array.from(this.g.keys()),P=[];for(let j=0;j<D.length;j++){const ge=f[j];for(let be=0;be<ge.length;be++)P.push(D[j])}return P},s.V=function(f){n(this);let D=[];if("string"==typeof f)o(this,f)&&(D=D.concat(this.g.get(c(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)D=D.concat(f[P])}return D},s.set=function(f,D){return n(this),this.i=null,o(this,f=c(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[D]),this.h+=1,this},s.get=function(f,D){return f&&0<(f=this.V(f)).length?String(f[0]):D},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],D=Array.from(this.g.keys());for(var P=0;P<D.length;P++){var j=D[P];const be=encodeURIComponent(String(j)),lt=this.V(j);for(j=0;j<lt.length;j++){var ge=be;""!==lt[j]&&(ge+="="+encodeURIComponent(String(lt[j]))),f.push(ge)}}return this.i=f.join("&")},Ne(H,Wh),H.prototype.g=function(){return new ne(this.l,this.j)},H.prototype.i=(f={},function(){return f}),Ne(ne,xi),(s=ne.prototype).open=function(f,D){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=D,this.readyState=1,He(this)},s.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(D.body=f),(this.D||g).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Re(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,He(this)),this.g&&(this.readyState=3,He(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ae(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var D=f.value?f.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!f.done}))&&(this.response=this.responseText+=D)}f.done?Re(this):He(this),3==this.readyState&&ae(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Re(this))},s.Qa=function(f){this.g&&(this.response=f,Re(this))},s.ga=function(){this.g&&Re(this)},s.setRequestHeader=function(f,D){this.u.append(f,D)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],D=this.h.entries();for(var P=D.next();!P.done;)f.push((P=P.value)[0]+": "+P[1]),P=D.next();return f.join("\r\n")},Object.defineProperty(ne.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),Ne(Ce,xi);var Kt=/^https?$/i,un=["POST","PUT"];function kn(f,D){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=D,f.m=5,Oi(f),fa(f)}function Oi(f){f.A||(f.A=!0,Ji(f,"complete"),Ji(f,"error"))}function Es(f){if(f.h&&typeof h<"u"&&(!f.v[1]||4!=pa(f)||2!=f.Z()))if(f.u&&4==pa(f))xA(f.Ea,0,f);else if(Ji(f,"readystatechange"),4==pa(f)){f.h=!1;try{const lt=f.Z();e:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var P;if(!(P=D)){var j;if(j=0===lt){var ge=String(f.D).match(yw)[1]||null;!ge&&g.self&&g.self.location&&(ge=g.self.location.protocol.slice(0,-1)),j=!Kt.test(ge?ge.toLowerCase():"")}P=j}if(P)Ji(f,"complete"),Ji(f,"success");else{f.m=6;try{var be=2<pa(f)?f.g.statusText:""}catch{be=""}f.l=be+" ["+f.Z()+"]",Oi(f)}}finally{fa(f)}}}function fa(f,D){if(f.g){kg(f);const P=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,D||Ji(f,"ready");try{P.onreadystatechange=j}catch{}}}function kg(f){f.I&&(g.clearTimeout(f.I),f.I=null)}function pa(f){return f.g?f.g.readyState:0}function vw(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Iv(f,D,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||D}function mS(f){this.Aa=0,this.i=[],this.j=new nd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Iv("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Iv("baseRetryDelayMs",5e3,f),this.cb=Iv("retryDelaySeedMs",1e4,f),this.Wa=Iv("forwardChannelMaxRetries",2,f),this.wa=Iv("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new fv(f&&f.concurrentRequestLimit),this.Da=new R,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $A(f){if(_S(f),3==f.G){var D=f.U++,P=ha(f.I);if(dr(P,"SID",f.K),dr(P,"RID",D),dr(P,"TYPE","terminate"),Ev(f,P),(D=new hc(f,f.j,D)).L=2,D.v=vv(ha(P)),P=!1,g.navigator&&g.navigator.sendBeacon)try{P=g.navigator.sendBeacon(D.v.toString(),"")}catch{}!P&&g.Image&&((new Image).src=D.v,P=!0),P||(D.g=CS(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Rg(D)}DS(f)}function Iw(f){f.g&&(zA(f),f.g.cancel(),f.g=null)}function _S(f){Iw(f),f.u&&(g.clearTimeout(f.u),f.u=null),Tw(f),f.h.cancel(),f.s&&("number"==typeof f.s&&g.clearTimeout(f.s),f.s=null)}function Ew(f){if(!_w(f.h)&&!f.s){f.s=!0;var D=f.Ga;Ql||ZT(),Tg||(Ql(),Tg=!0),wg.add(D,f),f.B=0}}function yS(f,D){var P;P=D?D.l:f.U++;const j=ha(f.I);dr(j,"SID",f.K),dr(j,"RID",P),dr(j,"AID",f.T),Ev(f,j),f.m&&f.o&&Tt(j,f.m,f.o),P=new hc(f,f.j,P,f.B+1),null===f.m&&(P.H=f.o),D&&(f.i=D.D.concat(f.i)),D=vS(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),gv(f.h,P),lv(P,j,D)}function Ev(f,D){f.H&&Lt(f.H,function(P,j){dr(D,j,P)}),f.l&&VA({},function(P,j){dr(D,j,P)})}function vS(f,D,P){P=Math.min(f.i.length,P);var j=f.l?q(f.l.Na,f.l,f):null;e:{var ge=f.i;let be=-1;for(;;){const lt=["count="+P];-1==be?0<P?(be=ge[0].g,lt.push("ofs="+be)):be=0:lt.push("ofs="+be);let or=!0;for(let ki=0;ki<P;ki++){let Fn=ge[ki].g;const Zi=ge[ki].map;if(Fn-=be,0>Fn)be=Math.max(0,ge[ki].g-100),or=!1;else try{k(Zi,lt,"req"+Fn+"_")}catch{j&&j(Zi)}}if(or){j=lt.join("&");break e}}}return f=f.i.splice(0,P),D.D=f,j}function IS(f){if(!f.g&&!f.u){f.Y=1;var D=f.Fa;Ql||ZT(),Tg||(Ql(),Tg=!0),wg.add(D,f),f.v=0}}function HA(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=td(q(f.Fa,f),wS(f,f.v)),f.v++,0))}function zA(f){null!=f.A&&(g.clearTimeout(f.A),f.A=null)}function ES(f){f.g=new hc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var D=ha(f.qa);dr(D,"RID","rpc"),dr(D,"SID",f.K),dr(D,"AID",f.T),dr(D,"CI",f.F?"0":"1"),!f.F&&f.ja&&dr(D,"TO",f.ja),dr(D,"TYPE","xmlhttp"),Ev(f,D),f.m&&f.o&&Tt(D,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=vv(ha(D)),P.m=null,P.P=!0,pw(P,f)}function Tw(f){null!=f.C&&(g.clearTimeout(f.C),f.C=null)}function TS(f,D){var P=null;if(f.g==D){Tw(f),zA(f),f.g=null;var j=2}else{if(!pv(f.h,D))return;P=D.D,mv(f.h,D),j=1}if(0!=f.G)if(D.o)if(1==j){P=D.m?D.m.length:0,D=Date.now()-D.F;var ge=f.B;Ji(j=qh(),new sv(j,P)),Ew(f)}else IS(f);else if(3==(ge=D.s)||0==ge&&0<D.X||!(1==j&&function fR(f,D){return!(Xh(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=D.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=td(q(f.Ga,f,D),wS(f,f.B)),f.B++,0)))}(f,D)||2==j&&HA(f)))switch(P&&0<P.length&&(D=f.h,D.i=D.i.concat(P)),ge){case 1:Zh(f,5);break;case 4:Zh(f,10);break;case 3:Zh(f,6);break;default:Zh(f,2)}}function wS(f,D){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*D}function Zh(f,D){if(f.j.info("Error code "+D),2==D){var P=q(f.fb,f),j=f.Xa;const ge=!j;j=new rd(j||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||xg(j,"https"),vv(j),ge?function p(f,D){const P=new nd;if(g.Image){const j=new Image;j.onload=ce(T,P,"TestLoadImage: loaded",!0,D,j),j.onerror=ce(T,P,"TestLoadImage: error",!1,D,j),j.onabort=ce(T,P,"TestLoadImage: abort",!1,D,j),j.ontimeout=ce(T,P,"TestLoadImage: timeout",!1,D,j),g.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else D(!1)}(j.toString(),P):function y(f,D){new nd;const j=new AbortController,ge=setTimeout(()=>{j.abort(),T(0,0,!1,D)},1e4);fetch(f,{signal:j.signal}).then(be=>{clearTimeout(ge),T(0,0,!!be.ok,D)}).catch(()=>{clearTimeout(ge),T(0,0,!1,D)})}(j.toString(),P)}else Ni(2);f.G=0,f.l&&f.l.sa(D),DS(f),_S(f)}function DS(f){if(f.G=0,f.ka=[],f.l){const D=_v(f.h);(0!=D.length||0!=f.i.length)&&($e(f.ka,D),$e(f.ka,f.i),f.h.i.length=0,Be(f.i),f.i.length=0),f.l.ra()}}function AS(f,D,P){var j=P instanceof rd?ha(P):new rd(P);if(""!=j.g)D&&(j.g=D+"."+j.g),yv(j,j.s);else{var ge=g.location;j=ge.protocol,D=D?D+"."+ge.hostname:ge.hostname,ge=+ge.port;var be=new rd(null);j&&xg(be,j),D&&(be.g=D),ge&&yv(be,ge),P&&(be.l=P),j=be}return D=f.ya,(P=f.D)&&D&&dr(j,P,D),dr(j,"VER",f.la),Ev(f,j),j}function CS(f,D,P){if(D&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(D=new Ce(f.Ca&&!f.pa?new H({eb:P}):f.pa)).Ha(f.J),D}function bS(){}function ww(){}function Jo(f,D){xi.call(this),this.g=new mS(D),this.l=f,this.h=D&&D.messageUrlParams||null,f=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(f?f["X-WebChannel-Content-Type"]=D.messageContentType:f={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(f?f["X-WebChannel-Client-Profile"]=D.va:f={"X-WebChannel-Client-Profile":D.va}),this.g.S=f,(f=D&&D.Sb)&&!St(f)&&(this.g.m=f),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!St(D)&&(this.g.D=D,null!==(f=this.h)&&D in f&&D in(f=this.h)&&delete f[D]),this.j=new Fg(this)}function SS(f){Zl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var D=f.__sm__;if(D){e:{for(const P in D){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,D=null!==D&&f in D?D[f]:void 0),this.data=D}else this.data=f}function RS(){lw.call(this),this.status=1}function Fg(f){this.g=f}(s=Ce.prototype).Ha=function(f){this.J=f},s.ea=function(f,D,P,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);D=D?D.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uv.g(),this.v=function cw(f){return f.h||(f.h=f.i())}(this.o?this.o:uv),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(D,String(f),!0),this.B=!1}catch(be){return void kn(this,be)}if(f=P||"",P=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ge in j)P.set(ge,j[ge]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const be of j.keys())P.set(be,j.get(be))}j=Array.from(P.keys()).find(be=>"content-type"==be.toLowerCase()),ge=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(un,D,void 0))||j||ge||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,lt]of P)this.g.setRequestHeader(be,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kg(this),this.u=!0,this.g.send(f),this.u=!1}catch(be){kn(this,be)}},s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ji(this,"complete"),Ji(this,"abort"),fa(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),Ce.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Es(this):this.bb())},s.bb=function(){Es(this)},s.isActive=function(){return!!this.g},s.Z=function(){try{return 2<pa(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var D=this.g.responseText;return f&&0==D.indexOf(f)&&(D=D.substring(f.length)),uw(D)}},s.Ba=function(){return this.m},s.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(s=mS.prototype).la=8,s.G=1,s.connect=function(f,D,P,j){Ni(0),this.W=f,this.H=D||{},P&&void 0!==j&&(this.H.OSID=P,this.H.OAID=j),this.F=this.X,this.I=AS(this,null,this.W),Ew(this)},s.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ge=new hc(this,this.j,f);let be=this.o;if(this.S&&(be?(be=W(be),se(be,this.S)):be=this.S),null!==this.m||this.O||(ge.H=be,be=null),this.P)e:{for(var D=0,P=0;P<this.i.length;P++){var j=this.i[P];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(D+=j)){D=P;break e}if(4096===D||P===this.i.length-1){D=P+1;break e}}D=1e3}else D=1e3;D=vS(this,ge,D),dr(P=ha(this.I),"RID",f),dr(P,"CVER",22),this.D&&dr(P,"X-HTTP-Session-Id",this.D),Ev(this,P),be&&(this.O?D="headers="+encodeURIComponent(String(at(be)))+"&"+D:this.m&&Tt(P,this.m,be)),gv(this.h,ge),this.Ua&&dr(P,"TYPE","init"),this.P?(dr(P,"$req",D),dr(P,"SID","null"),ge.T=!0,lv(ge,P,null)):lv(ge,P,D),this.G=2}}else 3==this.G&&(f?yS(this,f):0==this.i.length||_w(this.h)||yS(this))},s.Fa=function(){if(this.u=null,ES(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=td(q(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ni(10),Iw(this),ES(this))},s.Za=function(){null!=this.C&&(this.C=null,Iw(this),HA(this),Ni(19))},s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ni(2)):(this.j.info("Failed to ping google.com"),Ni(1))},s.isActive=function(){return!!this.l&&this.l.isActive(this)},(s=bS.prototype).ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){},ww.prototype.g=function(f,D){return new Jo(f,D)},Ne(Jo,xi),Jo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jo.prototype.close=function(){$A(this.g)},Jo.prototype.o=function(f){var D=this.g;if("string"==typeof f){var P={};P.__data__=f,f=P}else this.u&&((P={}).__data__=da(f),f=P);D.i.push(new class{constructor(f,D){this.g=f,this.map=D}}(D.Ya++,f)),3==D.G&&Ew(D)},Jo.prototype.N=function(){this.g.l=null,delete this.j,$A(this.g),delete this.g,Jo.aa.N.call(this)},Ne(SS,Zl),Ne(RS,lw),Ne(Fg,bS),Fg.prototype.ua=function(){Ji(this.g,"a")},Fg.prototype.ta=function(f){Ji(this.g,new SS(f))},Fg.prototype.sa=function(f){Ji(this.g,new RS)},Fg.prototype.ra=function(){Ji(this.g,"b")},ww.prototype.createWebChannel=ww.prototype.g,Jo.prototype.send=Jo.prototype.o,Jo.prototype.open=Jo.prototype.m,Jo.prototype.close=Jo.prototype.close,Du=zo.createWebChannelTransport=function(){return new ww},mm=zo.getStatEventTarget=function(){return qh()},gm=zo.Event=ed,Pf=zo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,Rf=zo.ErrorCode=Qh,bg.COMPLETE="complete",aI=zo.EventType=bg,Cg.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",xi.prototype.listen=xi.prototype.K,Us=zo.WebChannel=Cg,zo.FetchXmlHttpFactory=H,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,Sf=zo.XhrIo=Ce}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const Od="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Oa="10.14.0";const Go=new et.Vy("@firebase/firestore");function el(){return Go.logLevel}function Ke(s,...e){if(Go.logLevel<=et.$b.DEBUG){const t=e.map(_m);Go.debug(`Firestore (${Oa}): ${s}`,...t)}}function br(s,...e){if(Go.logLevel<=et.$b.ERROR){const t=e.map(_m);Go.error(`Firestore (${Oa}): ${s}`,...t)}}function bo(s,...e){if(Go.logLevel<=et.$b.WARN){const t=e.map(_m);Go.warn(`Firestore (${Oa}): ${s}`,...t)}}function _m(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function gt(s="Unexpected state"){const e=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: `+s;throw br(e),new Error(e)}function vt(s,e){s||gt()}function it(s,e){return s}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends me.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ym{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Au{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class cI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lI{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;vt(void 0===this.o);let a=this.i;const l=b=>this.i!==a?(a=this.i,t(b)):Promise.resolve();let h=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new kr,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const b=h;e.enqueueRetryable((0,U.A)(function*(){yield b.promise,yield l(i.currentUser)}))},I=b=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(b=>I(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?I(b):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new kr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt("string"==typeof i.accessToken),new ym(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new zr(e)}}class o0{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new o0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){vt(void 0===this.o);const i=l=>{null!=l.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,Ke("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.R=t.token,new kd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}class vm{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=dI(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[l]%62))}return i}}function $t(s,e){return s<e?-1:s>e?1:0}function Cu(s,e,t){return s.length===e.length&&s.every((i,a)=>t(i,e[a]))}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new qn(0,0))}static max(){return new bt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bu{constructor(e,t,i){void 0===t?t=0:t>e.length&&gt(),void 0===i?i=e.length-t:i>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===bu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends bu{construct(e,t,i){return new dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Qe(Ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends bu{construct(e,t,i){return new Jn(e,t,i)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(0===i.length)throw new Qe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const g=e[a];if("\\"===g){if(a+1===e.length)throw new Qe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Qe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=I,a+=2}else"`"===g?(h=!h,a++):"."!==g||h?(i+=g,a++):(l(),a++)}if(l(),h)throw new Qe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(dn.fromString(e))}static fromName(e){return new ot(dn.fromString(e).popFirst(5))}static empty(){return new ot(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new dn(e.slice()))}}class Xr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xr(bt.min(),ot.empty(),-1)}static max(){return new Xr(bt.max(),ot.empty(),-1)}}function Im(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(s.documentKey,e.documentKey),0!==t?t:$t(s.largestBatchId,e.largestBatchId))}const pI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ka(s){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,U.A)(function*(s){if(s.code!==Ae.FAILED_PRECONDITION||s.message!==pI)throw s;Ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,h=!1;e.forEach(g=>{++a,g.next(()=>{++l,h&&l===a&&t()},I=>i(I))}),h=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,h=new Array(l);let g=0;for(let I=0;I<l;I++){const b=I;t(e[b]).next(N=>{h[b]=N,++g,g===l&&i(h)},N=>a(N))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):i()};l()})}}function js(s){return"IndexedDbTransactionError"===s.name}let Fr=(()=>{class s{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return s.oe=-1,s})();function $s(s){return null==s}function Ud(s){return 0===s&&1/s==-1/0}function AI(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ho(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function bI(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class zn{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??ii.RED,this.left=a??ii.EMPTY,this.right=l??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new ii(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ii.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,t,i,a,l){return this}insert(e,t,i){return new ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SI(this.data.getIterator())}getIteratorFrom(e){return new SI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class SI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Gn(Jn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class _0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _0("Invalid base64 string: "+l):l}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const $d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(s){if(vt(!!s),"string"==typeof s){let e=0;const t=$d.exec(s);if(vt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ir(s.seconds),nanos:ir(s.nanos)}}function ir(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Wo(s){return"string"==typeof s?Zn.fromBase64String(s):Zn.fromUint8Array(s)}function Hd(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zd(s){const e=s.mapValue.fields.__previous_value__;return Hd(e)?zd(e):e}function il(s){const e=ds(s.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class RI{constructor(e,t,i,a,l,h,g,I,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=I,this.useFetchStreams=b}}class hs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hs&&e.projectId===this.projectId&&e.database===this.database}}const xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hd(s)?4:Ou(s)?9007199254740991:Uf(s)?10:11:gt()}function So(s,e){if(s===e)return!0;const t=Fa(s);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return il(s).isEqual(il(e));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=ds(a.timestampValue),g=ds(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,Wo(s.bytesValue).isEqual(Wo(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,l){return ir(a.geoPointValue.latitude)===ir(l.geoPointValue.latitude)&&ir(a.geoPointValue.longitude)===ir(l.geoPointValue.longitude)}(s,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return ir(a.integerValue)===ir(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=ir(a.doubleValue),g=ir(l.doubleValue);return h===g?Ud(h)===Ud(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return Cu(s.arrayValue.values||[],e.arrayValue.values||[],So);case 10:case 11:return function(a,l){const h=a.mapValue.fields||{},g=l.mapValue.fields||{};if(AI(h)!==AI(g))return!1;for(const I in h)if(h.hasOwnProperty(I)&&(void 0===g[I]||!So(h[I],g[I])))return!1;return!0}(s,e);default:return gt()}var l}function sl(s,e){return void 0!==(s.values||[]).find(t=>So(t,e))}function Gs(s,e){if(s===e)return 0;const t=Fa(s),i=Fa(e);if(t!==i)return $t(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(s.booleanValue,e.booleanValue);case 2:return function(l,h){const g=ir(l.integerValue||l.doubleValue),I=ir(h.integerValue||h.doubleValue);return g<I?-1:g>I?1:g===I?0:isNaN(g)?isNaN(I)?0:-1:1}(s,e);case 3:return La(s.timestampValue,e.timestampValue);case 4:return La(il(s),il(e));case 5:return $t(s.stringValue,e.stringValue);case 6:return function(l,h){const g=Wo(l),I=Wo(h);return g.compareTo(I)}(s.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),I=h.split("/");for(let b=0;b<g.length&&b<I.length;b++){const N=$t(g[b],I[b]);if(0!==N)return N}return $t(g.length,I.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,h){const g=$t(ir(l.latitude),ir(h.latitude));return 0!==g?g:$t(ir(l.longitude),ir(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return PI(s.arrayValue,e.arrayValue);case 10:return function(l,h){var g,I,b,N;const ce=null===(g=(l.fields||{}).value)||void 0===g?void 0:g.arrayValue,Ne=null===(I=(h.fields||{}).value)||void 0===I?void 0:I.arrayValue,Be=$t((null===(b=ce?.values)||void 0===b?void 0:b.length)||0,(null===(N=Ne?.values)||void 0===N?void 0:N.length)||0);return 0!==Be?Be:PI(ce,Ne)}(s.mapValue,e.mapValue);case 11:return function(l,h){if(l===xu.mapValue&&h===xu.mapValue)return 0;if(l===xu.mapValue)return 1;if(h===xu.mapValue)return-1;const g=l.fields||{},I=Object.keys(g),b=h.fields||{},N=Object.keys(b);I.sort(),N.sort();for(let B=0;B<I.length&&B<N.length;++B){const q=$t(I[B],N[B]);if(0!==q)return q;const ce=Gs(g[I[B]],b[N[B]]);if(0!==ce)return ce}return $t(I.length,N.length)}(s.mapValue,e.mapValue);default:throw gt()}}function La(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return $t(s,e);const t=ds(s),i=ds(e),a=$t(t.seconds,i.seconds);return 0!==a?a:$t(t.nanos,i.nanos)}function PI(s,e){const t=s.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Gs(t[a],i[a]);if(l)return l}return $t(t.length,i.length)}function Va(s){return al(s)}function al(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=ds(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Wo(s.bytesValue).toBase64():"referenceValue"in s?ot.fromName(s.referenceValue).toString():"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=al(l);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${al(t.fields[h])}`;return a+"}"}(s.mapValue):gt()}function ul(s){return!!s&&"integerValue"in s}function qi(s){return!!s&&"arrayValue"in s}function Nu(s){return!!s&&"nullValue"in s}function Lf(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vf(s){return!!s&&"mapValue"in s}function Uf(s){var e,t;return"__vector__"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ho(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cl(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cl(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Ou(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(t)}setAll(e){let t=Jn.emptyPath(),i={},a=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const I=this.getFieldsMap(t);this.applyChanges(I,i,a),i={},a=[],t=g.popLast()}h?i[g.lastSegment()]=cl(h):a.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ho(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new oi(cl(this.value))}}function Pm(s){const e=[];return ho(s.fields,(t,i)=>{const a=new Jn([t]);if(Vf(i)){const l=Pm(i.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Ri(e)}class Kn{constructor(e,t,i,a,l,h,g){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Kn(e,0,bt.min(),bt.min(),bt.min(),oi.empty(),0)}static newFoundDocument(e,t,i,a){return new Kn(e,1,t,bt.min(),i,a,0)}static newNoDocument(e,t){return new Kn(e,2,t,bt.min(),bt.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,bt.min(),bt.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ku{constructor(e,t){this.position=e,this.inclusive=t}}function I0(s,e,t){let i=0;for(let a=0;a<s.position.length;a++){const l=e[a],h=s.position[a];if(i=l.field.isKeyField()?ot.comparator(ot.fromName(h.referenceValue),t.key):Gs(h,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function xI(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!So(s.position[t],e.position[t]))return!1;return!0}class Gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function kC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class E0{}class hn extends E0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Mm(e,t,i):"array-contains"===t?new Nm(e,i):"in"===t?new dl(e,i):"not-in"===t?new w0(e,i):"array-contains-any"===t?new NI(e,i):new hn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new xm(e,i):new $f(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gs(t,this.value)):null!==t&&Fa(this.value)===Fa(t)&&this.matchesComparison(Gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends E0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Bn(e,t)}matches(e){return Ua(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ua(s){return"and"===s.op}function Ba(s){return function jf(s){for(const e of s.filters)if(e instanceof Bn)return!1;return!0}(s)&&Ua(s)}function qd(s){if(s instanceof hn)return s.field.canonicalString()+s.op.toString()+Va(s.value);if(Ba(s))return s.filters.map(e=>qd(e)).join(",");{const e=s.filters.map(t=>qd(t)).join(",");return`${s.op}(${e})`}}function ll(s,e){return s instanceof hn?(i=s,(a=e)instanceof hn&&i.op===a.op&&i.field.isEqual(a.field)&&So(i.value,a.value)):s instanceof Bn?function(i,a){return a instanceof Bn&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((l,h,g)=>l&&ll(h,a.filters[g]),!0)}(s,e):void gt();var i,a}function Fu(s){return s instanceof hn?`${(t=s).field.canonicalString()} ${t.op} ${Va(t.value)}`:s instanceof Bn?function(t){return t.op.toString()+" {"+t.getFilters().map(Fu).join(" ,")+"}"}(s):"Filter";var t}class Mm extends hn{constructor(e,t,i){super(e,t,i),this.key=ot.fromName(i.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class xm extends hn{constructor(e,t){super(e,"in",t),this.keys=T0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $f extends hn{constructor(e,t){super(e,"not-in",t),this.keys=T0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T0(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ot.fromName(i.referenceValue))}class Nm extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qi(t)&&sl(t.arrayValue,this.value)}}class dl extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sl(this.value.arrayValue,t)}}class w0 extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sl(this.value.arrayValue,t)}}class NI extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sl(this.value.arrayValue,i))}}class D0{constructor(e,t=null,i=[],a=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=h,this.endAt=g,this.ue=null}}function Om(s,e=null,t=[],i=[],a=null,l=null,h=null){return new D0(s,e,t,i,a,l,h)}function qs(s){const e=it(s);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>qd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),$s(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Va(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Va(i)).join(",")),e.ue=t}return e.ue}function hl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!kC(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!ll(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!xI(s.startAt,e.startAt)&&xI(s.endAt,e.endAt)}function Hf(s){return ot.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Ro{constructor(e,t=null,i=[],a=[],l=null,h="F",g=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=I,this.ce=null,this.le=null,this.he=null}}function fl(s){return new Ro(s)}function km(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Ks(s){const e=it(s);if(null===e.ce){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Gn(Jn.comparator);return h.filters.forEach(I=>{I.getFlattenedFilters().forEach(b=>{b.isInequality()&&(g=g.add(b.field))})}),g})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Gd(l,i))}),t.has(Jn.keyField().canonicalString())||e.ce.push(new Gd(Jn.keyField(),i))}return e.ce}function hi(s){const e=it(s);return e.le||(e.le=function kI(s,e){if("F"===s.limitType)return Om(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(a=>new Gd(a.field,"desc"===a.dir?"asc":"desc"));const t=s.endAt?new ku(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new ku(s.startAt.position,s.startAt.inclusive):null;return Om(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}(e,Ks(s))),e.le}function Lm(s,e,t){return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Yd(s,e){return hl(hi(s),hi(e))&&s.limitType===e.limitType}function Xd(s){return`${qs(hi(s))}|lt:${s.limitType}`}function pl(s){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Fu(a)).join(", ")}]`),$s(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Va(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Va(a)).join(",")),`Target(${i})`}(hi(s))}; limitType=${s.limitType})`}function fs(s,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ot.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,e)&&function(i,a){for(const l of Ks(i))if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(s,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!function(h,g,I){const b=I0(h,g,I);return h.inclusive?b<=0:b<0}(i.startAt,Ks(i),a)||i.endAt&&!function(h,g,I){const b=I0(h,g,I);return h.inclusive?b>=0:b>0}(i.endAt,Ks(i),a)));var i,a}function FI(s){return(e,t)=>{let i=!1;for(const a of Ks(s)){const l=LI(a,e,t);if(0!==l)return l;i=i||a.field.isKeyField()}return 0}}function LI(s,e,t){const i=s.field.isKeyField()?ot.comparator(e.key,t.key):function(l,h,g){const I=h.data.field(l),b=g.data.field(l);return null!==I&&null!==b?Gs(I,b):gt()}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return gt()}}class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,l]of i)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return bI(this.inner)}size(){return this.innerSize}}const C0=new zn(ot.comparator);function Ki(){return C0}const Vm=new zn(ot.comparator);function ml(...s){let e=Vm;for(const t of s)e=e.insert(t.key,t);return e}function qf(s){let e=Vm;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ys(){return _l()}function Kf(){return _l()}function _l(){return new Qs(s=>s.toString(),(s,e)=>s.isEqual(e))}const b0=new zn(ot.comparator),S0=new Gn(ot.comparator);function nn(...s){let e=S0;for(const t of s)e=e.add(t);return e}const R0=new Gn($t);function Um(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function VI(s){return{integerValue:""+s}}function P0(s,e){return function h0(s){return"number"==typeof s&&Number.isInteger(s)&&!Ud(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?VI(e):Um(s,e)}class Jd{constructor(){this._=void 0}}function UI(s,e,t){return s instanceof Zd?function(a,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Hd(l)&&(l=zd(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):s instanceof Xs?Js(s,e):s instanceof ps?BI(s,e):function(a,l){const h=Bm(a,l),g=jI(h)+jI(a.Pe);return ul(h)&&ul(a.Pe)?VI(g):Um(a.serializer,g)}(s,e)}function qo(s,e,t){return s instanceof Xs?Js(s,e):s instanceof ps?BI(s,e):t}function Bm(s,e){return s instanceof yl?ul(i=e)||(l=i)&&"doubleValue"in l?e:{integerValue:0}:null;var i,l}class Zd extends Jd{}class Xs extends Jd{constructor(e){super(),this.elements=e}}function Js(s,e){const t=Yf(e);for(const i of s.elements)t.some(a=>So(a,i))||t.push(i);return{arrayValue:{values:t}}}class ps extends Jd{constructor(e){super(),this.elements=e}}function BI(s,e){let t=Yf(e);for(const i of s.elements)t=t.filter(a=>!So(a,i));return{arrayValue:{values:t}}}class yl extends Jd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jI(s){return ir(s.integerValue||s.doubleValue)}function Yf(s){return qi(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class M0{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rr(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Xf{}function Jf(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new vl(s.key,_r.none()):new Lu(s.key,s.data,_r.none());{const t=s.data,i=oi.empty();let a=new Gn(Jn.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?i.delete(l):i.set(l,h),a=a.add(l)}return new Zs(s.key,i,new Ri(a.toArray()),_r.none())}}function x0(s,e,t){s instanceof Lu?function(a,l,h){const g=a.value.clone(),I=zm(a.fieldTransforms,l,h.transformResults);g.setAll(I),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,t):s instanceof Zs?function(a,l,h){if(!Rr(a.precondition,l))return void l.convertToUnknownDocument(h.version);const g=zm(a.fieldTransforms,l,h.transformResults),I=l.data;I.setAll(Hm(a)),I.setAll(g),l.convertToFoundDocument(h.version,I).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function eh(s,e,t,i){return s instanceof Lu?function(l,h,g,I){if(!Rr(l.precondition,h))return g;const b=l.value.clone(),N=HI(l.fieldTransforms,I,h);return b.setAll(N),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),null}(s,e,t,i):s instanceof Zs?function(l,h,g,I){if(!Rr(l.precondition,h))return g;const b=HI(l.fieldTransforms,I,h),N=h.data;return N.setAll(Hm(l)),N.setAll(b),h.convertToFoundDocument(h.version,N).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(B=>B.field))}(s,e,t,i):(g=t,Rr(s.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function jm(s,e){let t=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),l=Bm(i.transform,a||null);null!=l&&(null===t&&(t=oi.empty()),t.set(i.field,l))}return t||null}function $m(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&Cu(i,a,(l,h)=>function $I(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof Xs&&a instanceof Xs||i instanceof ps&&a instanceof ps?Cu(i.elements,a.elements,So):i instanceof yl&&a instanceof yl?So(i.Pe,a.Pe):i instanceof Zd&&a instanceof Zd);var i,a}(l,h))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}class Lu extends Xf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zs extends Xf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Hm(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function zm(s,e,t){const i=new Map;vt(s.length===t.length);for(let a=0;a<t.length;a++){const l=s[a],h=l.transform,g=e.data.field(l.field);i.set(l.field,qo(h,g,t[a]))}return i}function HI(s,e,t){const i=new Map;for(const a of s){const l=a.transform,h=t.data.field(a.field);i.set(a.field,UI(l,h,e))}return i}class vl extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gm extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zf{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&x0(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=eh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=eh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Kf();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let g=this.applyToLocalView(h,l.mutatedFields);g=t.has(a.key)?null:g;const I=Jf(h,g);null!==I&&i.set(a.key,I),h.isValidDocument()||h.convertToNoDocument(bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Cu(this.mutations,e.mutations,(t,i)=>$m(t,i))&&Cu(this.baseMutations,e.baseMutations,(t,i)=>$m(t,i))}}class ja{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){vt(e.mutations.length===i.length);let a=b0;const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,i[h].version);return new ja(e,t,i,a)}}class Ko{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class N0{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lr,An;function ep(s){if(void 0===s)return br("GRPC error has no .code"),Ae.UNKNOWN;switch(s){case Lr.OK:return Ae.OK;case Lr.CANCELLED:return Ae.CANCELLED;case Lr.UNKNOWN:return Ae.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return Ae.INTERNAL;case Lr.UNAVAILABLE:return Ae.UNAVAILABLE;case Lr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Lr.NOT_FOUND:return Ae.NOT_FOUND;case Lr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Lr.ABORTED:return Ae.ABORTED;case Lr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Lr.DATA_LOSS:return Ae.DATA_LOSS;default:return gt()}}(An=Lr||(Lr={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";const zI=new Na([4294967295,4294967295],0);function qm(s){const e=function th(){return new TextEncoder}().encode(s),t=new sI;return t.update(e),new Uint8Array(t.digest())}function GI(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Na([t,i],0),new Na([a,l],0)]}class Km{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nh(`Invalid padding: ${t}`);if(i<0)throw new nh(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new nh(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new nh(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Na.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(Na.fromNumber(i)));return 1===a.compare(zI)&&(a=new Na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=qm(e),[i,a]=GI(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,a,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Km(l,a,t);return i.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ie)return;const t=qm(e),[i,a]=GI(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,a,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rh(bt.min(),a,new zn($t),Ki(),nn())}}class Il{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Il(i,t,nn(),nn(),nn())}}class Qm{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class WI{constructor(e,t){this.targetId=e,this.me=t}}class O0{constructor(e,t,i=Zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class k0{constructor(){this.fe=0,this.ge=F0(),this.pe=Zn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nn(),t=nn(),i=nn();return this.ge.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:gt()}}),new Il(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=F0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=Ym(),this.Qe=new zn($t)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const l=a.target;if(Hf(l))if(0===i){const h=new ot(l.path);this.Ue(t,h,Kn.newNoDocument(h,bt.min()))}else vt(1===i);else{const h=this.Ye(t);if(h!==i){const g=this.Ze(e),I=g?this.Xe(g,e,h):1;0!==I&&(this.je(t),this.Qe=this.Qe.insert(t,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let h,g;try{h=Wo(i).toUint8Array()}catch(I){if(I instanceof _0)return bo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw I}try{g=new Km(h,a,l)}catch(I){return bo(I instanceof nh?"BloomFilter error: ":"Applying bloom filter failed: ",I),null}return 0===g.Ie?null:g}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const h=this.Le.tt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.Ue(t,l,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((l,h)=>{const g=this.Je(h);if(g){if(l.current&&Hf(g.target)){const I=new ot(g.target.path);null!==this.ke.get(I)||this.it(h,I)||this.Ue(h,I,Kn.newNoDocument(I,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=nn();this.qe.forEach((l,h)=>{let g=!0;h.forEachWhile(I=>{const b=this.Je(I);return!b||"TargetPurposeLimboResolution"===b.purpose||(g=!1,!1)}),g&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const a=new rh(e,t,this.Qe,this.ke,i);return this.ke=Ki(),this.qe=Ym(),this.Qe=new zn($t),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new k0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gn($t),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ym(){return new zn(ot.comparator)}function F0(){return new zn(ot.comparator)}const tp={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI={and:"AND",or:"OR"};class L0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(s,e){return s.useProto3Json||$s(e)?e:{value:e}}function Uu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xt(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function YI(s,e){return Uu(s,e.toTimestamp())}function Er(s){return vt(!!s),bt.fromTimestamp(function(t){const i=ds(t);return new qn(i.seconds,i.nanos)}(s))}function Ha(s,e){return rp(s,e).canonicalString()}function rp(s,e){const t=(a=s,new dn(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function XI(s){const e=dn.fromString(s);return vt(lp(e)),e}function za(s,e){return Ha(s.databaseId,e.path)}function Pi(s,e){const t=XI(e);if(t.get(1)!==s.databaseId.projectId)throw new Qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new ot(sp(t))}function ip(s,e){return Ha(s.databaseId,e)}function op(s){return new dn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sp(s){return vt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function ap(s,e,t){return{name:za(s,e),fields:t.value.mapValue.fields}}function Zm(s,e){return{documents:[ip(s,e.path)]}}function cp(s,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ip(s,a);const l=function(b){if(0!==b.length)return nE(Bn.create(b,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(b){if(0!==b.length)return b.map(N=>{return{field:Vr((q=N).field),direction:tE(q.dir)};var q})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=np(s,e.limit);return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),{_t:t,parent:a};var b}function eE(s){let e=function El(s){const e=XI(s);return 4===e.length?dn.emptyPath():sp(e)}(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){vt(1===i);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=function(B){const q=e_(B);return q instanceof Bn&&Ba(q)?q.getFilters():[q]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(q=>{return new Gd(Tl((Ne=q).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let g=null;t.limit&&(g=function(B){let q;return q="object"==typeof B?B.value:B,$s(q)?null:q}(t.limit));let I=null;var B;t.startAt&&(I=new ku((B=t.startAt).values||[],!!B.before));let b=null;return t.endAt&&(b=function(B){return new ku(B.values||[],!B.before)}(t.endAt)),function Gf(s,e,t,i,a,l,h,g){return new Ro(s,e,t,i,a,l,h,g)}(e,a,h,l,g,"F",I,b)}function e_(s){return void 0!==s.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Tl(t.unaryFilter.field);return hn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Tl(t.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Tl(t.unaryFilter.field);return hn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Tl(t.unaryFilter.field);return hn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):void 0!==s.fieldFilter?hn.create(Tl((t=s).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==s.compositeFilter?function(t){return Bn.create(t.compositeFilter.filters.map(i=>e_(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(s):gt();var t}function tE(s){return tp[s]}function B0(s){return KI[s]}function j0(s){return QI[s]}function Vr(s){return{fieldPath:s.canonicalString()}}function Tl(s){return Jn.fromServerFormat(s.fieldPath)}function nE(s){return s instanceof hn?function(t){if("=="===t.op){if(Lf(t.value))return{unaryFilter:{field:Vr(t.field),op:"IS_NAN"}};if(Nu(t.value))return{unaryFilter:{field:Vr(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Lf(t.value))return{unaryFilter:{field:Vr(t.field),op:"IS_NOT_NAN"}};if(Nu(t.value))return{unaryFilter:{field:Vr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(t.field),op:B0(t.op),value:t.value}}}(s):s instanceof Bn?function(t){const i=t.getFilters().map(a=>nE(a));return 1===i.length?i[0]:{compositeFilter:{op:j0(t.op),filters:i}}}(s):gt()}function FC(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class gs{constructor(e,t,i,a,l=bt.min(),h=bt.min(),g=Zn.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=I}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rE{constructor(e){this.ct=e}}function t_(s){const e=eE({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Lm(e,e.limit,"L"):e}class ms{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ir(e.integerValue));else if("doubleValue"in e){const i=ir(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Ud(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=ds(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Wo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Ou(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Uf(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):gt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const a of Object.keys(i))this.Vt(a,t),this.Tt(i[a],t)}wt(e,t){var i,a;const l=e.fields||{};this.dt(t,53);const h="value",g=(null===(a=null===(i=l[h].arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.length)||0;this.dt(t,15),t.At(ir(g)),this.Vt(h,t),this.Tt(l[h],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const a of i)this.Tt(a,t)}yt(e,t){this.dt(t,37),ot.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}ms.vt=new ms;class G0{constructor(){this.un=new gp}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Xr.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class gp{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Gn(dn.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Gn(dn.comparator)).toArray()}}new Uint8Array(0);class si{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new si(e,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(41943040,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);class zu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zu(0)}static kn(){return new zu(-1)}}class EE{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dh{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&eh(i.mutation,a,Ri.empty(),qn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nn()){const a=Ys();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let h=ml();return l.forEach((g,I)=>{h=h.insert(g,I.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ys();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nn()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,i,a){let l=Ki();const h=_l(),g=_l();return t.forEach((I,b)=>{const N=i.get(b.key);a.has(b.key)&&(void 0===N||N.mutation instanceof Zs)?l=l.insert(b.key,b):void 0!==N?(h.set(b.key,N.mutation.getFieldMask()),eh(N.mutation,b,N.mutation.getFieldMask(),qn.now())):h.set(b.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,l).next(I=>(I.forEach((b,N)=>h.set(b,N)),t.forEach((b,N)=>{var B;return g.set(b,new LC(N,null!==(B=h.get(b))&&void 0!==B?B:null))}),g))}recalculateAndSaveOverlays(e,t){const i=_l();let a=new zn((h,g)=>h-g),l=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(I=>{const b=t.get(I);if(null===b)return;let N=i.get(I)||Ri.empty();N=g.applyToLocalView(b,N),i.set(I,N);const B=(a.get(g.batchId)||nn()).add(I);a=a.insert(g.batchId,B)})}).next(()=>{const h=[],g=a.getReverseIterator();for(;g.hasNext();){const I=g.getNext(),b=I.key,N=I.value,B=Kf();N.forEach(q=>{if(!l.has(q)){const ce=Jf(t.get(q),i.get(q));null!==ce&&B.set(q,ce),l=l.add(q)}}),h.push(this.documentOverlayCache.saveOverlays(e,b,B))}return fe.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return ot.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Qd(s){return null!==s.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var h}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Ys());let g=-1,I=l;return h.next(b=>fe.forEach(b,(N,B)=>(g<B.largestBatchId&&(g=B.largestBatchId),l.get(N)?fe.resolve():this.remoteDocumentCache.getEntry(e,N).next(q=>{I=I.insert(N,q)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,I,b,nn())).next(N=>({batchId:g,changes:qf(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(i=>{let a=ml();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let h=ml();return this.indexManager.getCollectionParents(e,l).next(g=>fe.forEach(g,I=>{const b=(B=t,q=I.child(l),new Ro(q,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt));var B,q;return this.getDocumentsMatchingCollectionQuery(e,b,i,a).next(N=>{N.forEach((B,q)=>{h=h.insert(B,q)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(h=>{l.forEach((I,b)=>{const N=b.getKey();null===h.get(N)&&(h=h.insert(N,Kn.newInvalidDocument(N)))});let g=ml();return h.forEach((I,b)=>{const N=l.get(I);void 0!==N&&eh(N.mutation,b,Ri.empty(),qn.now()),fs(t,b)&&(g=g.insert(I,b))}),g})}}class J0{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(a=t).id,version:a.version,createTime:Er(a.createTime)}),fe.resolve();var a}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(a=t).name,query:t_(a.bundledQuery),readTime:Er(a.readTime)}),fe.resolve();var a}}class Z0{constructor(){this.overlays=new zn(ot.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ys();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.ht(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Ir.get(i);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Ys(),l=t.length+1,h=new ot(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const I=g.getNext().value,b=I.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&I.largestBatchId>i&&a.set(I.getKey(),I)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new zn((b,N)=>b-N);const h=this.overlays.getIterator();for(;h.hasNext();){const b=h.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let N=l.get(b.largestBatchId);null===N&&(N=Ys(),l=l.insert(b.largestBatchId,N)),N.set(b.getKey(),b)}}const g=Ys(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((b,N)=>g.set(b,N)),!(g.size()>=a)););return fe.resolve(g)}ht(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const h=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Ko(t,i));let l=this.Ir.get(t);void 0===l&&(l=nn(),this.Ir.set(t,l)),this.Ir.set(t,l.add(i.key))}}class h_{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class f_{constructor(){this.Tr=new Gn(Qn.Er),this.dr=new Gn(Qn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Qn(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Qn(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new ot(new dn([])),i=new Qn(t,e),a=new Qn(t,e+1),l=[];return this.dr.forEachInRange([i,a],h=>{this.Vr(h),l.push(h.key)}),l}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ot(new dn([])),i=new Qn(t,e),a=new Qn(t,e+1);let l=nn();return this.dr.forEachInRange([i,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Qn(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Qn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ot.comparator(e.key,t.key)||$t(e.wr,t.wr)}static Ar(e,t){return $t(e.wr,t.wr)||ot.comparator(e.key,t.key)}}class hh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Gn(Qn.Er)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const l=this.Sr;this.Sr++;const h=new Zf(l,t,i,a);this.mutationQueue.push(h);for(const g of a)this.br=this.br.add(new Qn(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return fe.resolve(h)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.vr(t+1),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qn(t,0),a=new Qn(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,a],h=>{const g=this.Dr(h.wr);l.push(g)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gn($t);return t.forEach(a=>{const l=new Qn(a,0),h=new Qn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,h],g=>{i=i.add(g.wr)})}),fe.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ot.isDocumentKey(l)||(l=l.child(""));const h=new Qn(new ot(l),0);let g=new Gn($t);return this.br.forEachWhile(I=>{const b=I.key.path;return!!i.isPrefixOf(b)&&(b.length===a&&(g=g.add(I.wr)),!0)},h),fe.resolve(this.Cr(g))}Cr(e){const t=[];return e.forEach(i=>{const a=this.Dr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){vt(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return fe.forEach(t.mutations,a=>{const l=new Qn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new Qn(t,0),a=this.br.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pi{constructor(e){this.Mr=e,this.docs=new zn(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,h=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let i=Ki();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Kn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ki();const h=t.path,g=new ot(h.child("")),I=this.docs.getIteratorFrom(g);for(;I.hasNext();){const{key:b,value:{document:N}}=I.getNext();if(!h.isPrefixOf(b.path))break;b.path.length>h.length+1||Im(new Xr((s=N).readTime,s.key,-1),i)<=0||(a.has(N.key)||fs(t,N))&&(l=l.insert(N.key,N.mutableCopy()))}var s;return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){gt()}Or(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Wu(this)}getSize(e){return fe.resolve(this.size)}}class Wu extends EE{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ip{constructor(e){this.persistence=e,this.Nr=new Qs(t=>qs(t),hl),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new f_,this.targetCount=0,this.kr=zu.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new zu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Nr.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Nr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}class Yi{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Fr(0),this.Kr=!1,this.Kr=!0,this.$r=new h_,this.referenceDelegate=e(this),this.Ur=new Ip(this),this.indexManager=new G0,this.remoteDocumentCache=new pi(i=>this.referenceDelegate.Wr(i)),this.serializer=new rE(t),this.Gr=new J0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new hh(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const a=new p_(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(l=>this.referenceDelegate.jr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Hr(e,t){return fe.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class p_ extends c0{constructor(e){super(),this.currentSequenceNumber=e}}class ra{constructor(e){this.persistence=e,this.Jr=new f_,this.Yr=null}static Zr(e){return new ra(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Xr.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,i=>{const a=ot.fromPath(i);return this.ei(e,a).next(l=>{l||t.removeEntry(a,bt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ep{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=a}static Wi(e,t){let i=nn(),a=nn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ep(e,t.fromCache,i,a)}}class DE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class g_{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,me.nr)()?8:function Nf(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}((0,me.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Yi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.Zi(e,t,a,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new DE;return this.Xi(e,t,h).next(g=>{if(l.result=g,this.zi)return this.es(e,t,h,g.size)})}).next(()=>l.result)}es(e,t,i,a){return i.documentReadCount<this.ji?(el()<=et.$b.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(el()<=et.$b.DEBUG&&Ke("QueryEngine","Query:",pl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(el()<=et.$b.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(t))):fe.resolve())}Yi(e,t){if(km(t))return fe.resolve(null);let i=hi(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Lm(t,null,"F"),i=hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=nn(...l);return this.Ji.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,i).next(I=>{const b=this.ts(t,g);return this.ns(t,b,h,I.readTime)?this.Yi(e,Lm(t,null,"F")):this.rs(e,b,t,I)}))})))}Zi(e,t,i,a){return km(t)||a.isEqual(bt.min())?fe.resolve(null):this.Ji.getDocuments(e,i).next(l=>{const h=this.ts(t,l);return this.ns(t,h,i,a)?fe.resolve(null):(el()<=et.$b.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pl(t)),this.rs(e,h,t,function Ld(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(1e9===i?new qn(t+1,0):new qn(t,i));return new Xr(a,ot.empty(),e)}(a,-1)).next(g=>g))})}ts(e,t){let i=new Gn(FI(e));return t.forEach((a,l)=>{fs(e,l)&&(i=i.add(l))}),i}ns(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(e,t,i){return el()<=et.$b.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",pl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xr.min(),i)}rs(e,t,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class AE{constructor(e,t,i,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new zn($t),this._s=new Qs(l=>qs(l),hl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function __(s,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,U.A)(function*(s,e){const t=it(s);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],g=[];let I=nn();for(const b of a){h.push(b.batchId);for(const N of b.mutations)I=I.add(N.key)}for(const b of l){g.push(b.batchId);for(const N of b.mutations)I=I.add(N.key)}return t.localDocuments.getDocuments(i,I).next(b=>({hs:b,removedBatchIds:h,addedBatchIds:g}))})})})).apply(this,arguments)}function y_(s){const e=it(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function VC(s,e){const t=it(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Rl(s,e,t){return I_.apply(this,arguments)}function I_(){return(I_=(0,U.A)(function*(s,e,t){const i=it(s),a=i.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!js(h))throw h;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(a.target)})).apply(this,arguments)}function E_(s,e,t){const i=it(s);let a=bt.min(),l=nn();return i.persistence.runTransaction("Execute query","readwrite",h=>function(I,b,N){const B=it(I),q=B._s.get(N);return void 0!==q?fe.resolve(B.os.get(q)):B.Ur.getTargetData(b,N)}(i,h,hi(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,g.targetId).next(I=>{l=I})}).next(()=>i.ss.getDocumentsMatchingQuery(h,e,t?a:bt.min(),t?l:nn())).next(g=>(function RE(s,e,t){let i=s.us.get(e)||bt.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),s.us.set(e,i)}(i,function gl(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(e),g),{documents:g,Ts:l})))}class D_{constructor(){this.activeTargetIds=function Qf(){return R0}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PE{constructor(){this.so=new D_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new D_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nD{_o(e){}shutdown(){}}class Cp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yu=null;function Ml(){return null===Yu?Yu=268435456+Math.round(2147483648*Math.random()):Yu++,"0x"+Yu.toString(16)}const UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const gi="WebChannelConnection";class C_ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${a}/databases/${l}`,this.Co="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(t,i,a,l,h){const g=Ml(),I=this.xo(t,i.toUriEncodedString());Ke("RestConnection",`Sending RPC '${t}' ${g}:`,I,a);const b={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(b,l,h),this.No(t,I,b,a).then(N=>(Ke("RestConnection",`Received RPC '${t}' ${g}: `,N),N),N=>{throw bo("RestConnection",`RPC '${t}' ${g} failed with error: `,N,"url: ",I,"request:",a),N})}Lo(t,i,a,l,h,g){return this.Mo(t,i,a,l,h)}Oo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}xo(t,i){return`${this.Do}/v1/${i}:${UC[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,a){const l=Ml();return new Promise((h,g)=>{const I=new Sf;I.setWithCredentials(!0),I.listenOnce(aI.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Rf.NO_ERROR:const N=I.getResponseJson();Ke(gi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(N)),h(N);break;case Rf.TIMEOUT:Ke(gi,`RPC '${e}' ${l} timed out`),g(new Qe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const B=I.getStatus();if(Ke(gi,`RPC '${e}' ${l} failed with status:`,B,"response text:",I.getResponseText()),B>0){let q=I.getResponseJson();Array.isArray(q)&&(q=q[0]);const ce=q?.error;if(ce&&ce.status&&ce.message){const Ne=function($e){const yt=$e.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(yt)>=0?yt:Ae.UNKNOWN}(ce.status);g(new Qe(Ne,ce.message))}else g(new Qe(Ae.UNKNOWN,"Server responded with status "+I.getStatus()))}else g(new Qe(Ae.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Ke(gi,`RPC '${e}' ${l} completed.`)}});const b=JSON.stringify(a);Ke(gi,`RPC '${e}' ${l} sending request:`,a),I.send(t,"POST",b,i,15)})}Bo(e,t,i){const a=Ml(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Du(),g=mm(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(I.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(I.useFetchStreams=!0),this.Oo(I.initMessageHeaders,t,i),I.encodeInitMessageHeaders=!0;const N=l.join("");Ke(gi,`Creating RPC '${e}' stream ${a}: ${N}`,I);const B=h.createWebChannel(N,I);let q=!1,ce=!1;const Ne=new rD({Io:$e=>{ce?Ke(gi,`Not sending because RPC '${e}' stream ${a} is closed:`,$e):(q||(Ke(gi,`Opening RPC '${e}' stream ${a} transport.`),B.open(),q=!0),Ke(gi,`RPC '${e}' stream ${a} sending:`,$e),B.send($e))},To:()=>B.close()}),Be=($e,yt,St)=>{$e.listen(yt,Et=>{try{St(Et)}catch(Gt){setTimeout(()=>{throw Gt},0)}})};return Be(B,Us.EventType.OPEN,()=>{ce||(Ke(gi,`RPC '${e}' stream ${a} transport opened.`),Ne.yo())}),Be(B,Us.EventType.CLOSE,()=>{ce||(ce=!0,Ke(gi,`RPC '${e}' stream ${a} transport closed`),Ne.So())}),Be(B,Us.EventType.ERROR,$e=>{ce||(ce=!0,bo(gi,`RPC '${e}' stream ${a} transport errored:`,$e),Ne.So(new Qe(Ae.UNAVAILABLE,"The operation could not be completed")))}),Be(B,Us.EventType.MESSAGE,$e=>{var yt;if(!ce){const St=$e.data[0];vt(!!St);const Gt=St.error||(null===(yt=St[0])||void 0===yt?void 0:yt.error);if(Gt){Ke(gi,`RPC '${e}' stream ${a} received error:`,Gt);const vn=Gt.status;let Lt=function(ee){const se=Lr[ee];if(void 0!==se)return ep(se)}(vn),ie=Gt.message;void 0===Lt&&(Lt=Ae.INTERNAL,ie="Unknown error status: "+vn+" with message "+Gt.message),ce=!0,Ne.So(new Qe(Lt,ie)),B.close()}else Ke(gi,`RPC '${e}' stream ${a} received:`,St),Ne.bo(St)}}),Be(g,gm.STAT_EVENT,$e=>{$e.stat===Pf.PROXY?Ke(gi,`RPC '${e}' stream ${a} detected buffering proxy`):$e.stat===Pf.NOPROXY&&Ke(gi,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ne.wo()},0),Ne}}function gh(){return typeof document<"u"?document:null}function mh(s){return new L0(s,!0)}class b_{constructor(e,t,i=1e3,a=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-i);a>0&&Ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class S_{constructor(e,t,i,a,l,h,g,I){this.ui=e,this.Ho=i,this.Jo=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=I,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new b_(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,U.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,U.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,U.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===t&&this.P_(i,a)},i=>{e(()=>{const a=new Qe(Ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>1==++this.e_?this.E_(a):this.onNext(a))})}i_(){var e=this;this.state=5,this.t_.Go((0,U.A)(function*(){e.state=0,e.start()}))}I_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xE extends S_{constructor(e,t,i,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function Xm(s,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:gt(),a=e.targetChange.targetIds||[],l=function(b,N){return b.useProto3Json?(vt(void 0===N||"string"==typeof N),Zn.fromBase64String(N||"")):(vt(void 0===N||N instanceof Buffer||N instanceof Uint8Array),Zn.fromUint8Array(N||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(b){const N=void 0===b.code?Ae.UNKNOWN:ep(b.code);return new Qe(N,b.message||"")}(h);t=new O0(i,a,l,g||null)}else if("documentChange"in e){const i=e.documentChange,a=Pi(s,i.document.name),l=Er(i.document.updateTime),h=i.document.createTime?Er(i.document.createTime):bt.min(),g=new oi({mapValue:{fields:i.document.fields}}),I=Kn.newFoundDocument(a,l,h,g);t=new Qm(i.targetIds||[],i.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const i=e.documentDelete,a=Pi(s,i.document),l=i.readTime?Er(i.readTime):bt.min(),h=Kn.newNoDocument(a,l);t=new Qm([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=Pi(s,i.document);t=new Qm([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return gt();{const i=e.filter,{count:a=0,unchangedNames:l}=i,h=new N0(a,l);t=new WI(i.targetId,h)}}var b;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return bt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?bt.min():h.readTime?Er(h.readTime):bt.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=op(this.serializer),t.addTarget=function(l,h){let g;const I=h.target;if(g=Hf(I)?{documents:Zm(l,I)}:{query:cp(l,I)._t},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=Xt(l,h.resumeToken);const b=np(l,h.expectedCount);null!==b&&(g.expectedCount=b)}else if(h.snapshotVersion.compareTo(bt.min())>0){g.readTime=Uu(l,h.snapshotVersion.toTimestamp());const b=np(l,h.expectedCount);null!==b&&(g.expectedCount=b)}return g}(this.serializer,e);const i=function U0(s,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.a_(t)}}class NE extends S_{constructor(e,t,i,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function V0(s,e){return s&&s.length>0?(vt(void 0!==e),s.map(t=>function(a,l){let h=Er(a.updateTime?a.updateTime:l);return h.isEqual(bt.min())&&(h=Er(l)),new M0(h,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Er(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=op(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function ih(s,e){let t;if(e instanceof Lu)t={update:ap(s,e.key,e.value)};else if(e instanceof vl)t={delete:za(s,e.key)};else if(e instanceof Zs)t={update:ap(s,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof Gm))return gt();t={verify:za(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const g=h.transform;if(g instanceof Zd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xs)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ps)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yl)return{fieldPath:h.field.canonicalString(),increment:g.Pe};throw gt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:YI(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:gt()),t;var l}(this.serializer,i))};this.a_(t)}}class iD extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Mo(e,rp(t,i),a,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Qe(Ae.UNKNOWN,l.toString())})}Lo(e,t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Lo(e,rp(t,i),a,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Qe(Ae.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(t),this.D_=!1):Ke("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class sD{constructor(e,t,i,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(g=>{i.enqueueAndForget((0,U.A)(function*(){var I;Ja(h)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,U.A)(function*(N){const B=it(N);B.L_.add(4),yield Xa(B),B.q_.set("Unknown"),B.L_.delete(4),yield xl(B)}),function b(N){return I.apply(this,arguments)})(h))}))}),this.q_=new oD(i,a)}}function xl(s){return _h.apply(this,arguments)}function _h(){return(_h=(0,U.A)(function*(s){if(Ja(s))for(const e of s.B_)yield e(!0)})).apply(this,arguments)}function Xa(s){return R_.apply(this,arguments)}function R_(){return(R_=(0,U.A)(function*(s){for(const e of s.B_)yield e(!1)})).apply(this,arguments)}function Xu(s,e){const t=it(s);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),x_(t)?M_(t):fo(t).r_()&&yh(t,e))}function sa(s,e){const t=it(s),i=fo(t);t.N_.delete(e),i.r_()&&P_(t,e),0===t.N_.size&&(i.r_()?i.o_():Ja(t)&&t.q_.set("Unknown"))}function yh(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fo(s).A_(e)}function P_(s,e){s.Q_.xe(e),fo(s).R_(e)}function M_(s){s.Q_=new qI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),fo(s).start(),s.q_.v_()}function x_(s){return Ja(s)&&!fo(s).n_()&&s.N_.size>0}function Ja(s){return 0===it(s).L_.size}function vh(s){s.Q_=void 0}function bp(s){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,U.A)(function*(s){s.q_.set("Online")})).apply(this,arguments)}function OE(s){return N_.apply(this,arguments)}function N_(){return(N_=(0,U.A)(function*(s){s.N_.forEach((e,t)=>{yh(s,e)})})).apply(this,arguments)}function aD(s,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,U.A)(function*(s,e){vh(s),x_(s)?(s.q_.M_(e),M_(s)):s.q_.set("Unknown")})).apply(this,arguments)}function O_(s,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,U.A)(function*(s,e,t){if(s.q_.set("Online"),e instanceof O0&&2===e.state&&e.cause)try{yield(i=(0,U.A)(function*(l,h){const g=h.cause;for(const I of h.targetIds)l.N_.has(I)&&(yield l.remoteSyncer.rejectListen(I,g),l.N_.delete(I),l.Q_.removeTarget(I))}),function a(l,h){return i.apply(this,arguments)})(s,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Nl(s,i)}else if(e instanceof Qm?s.Q_.Ke(e):e instanceof WI?s.Q_.He(e):s.Q_.We(e),!t.isEqual(bt.min()))try{const i=yield y_(s.localStore);t.compareTo(i)>=0&&(yield function(l,h){const g=l.Q_.rt(h);return g.targetChanges.forEach((I,b)=>{if(I.resumeToken.approximateByteSize()>0){const N=l.N_.get(b);N&&l.N_.set(b,N.withResumeToken(I.resumeToken,h))}}),g.targetMismatches.forEach((I,b)=>{const N=l.N_.get(I);if(!N)return;l.N_.set(I,N.withResumeToken(Zn.EMPTY_BYTE_STRING,N.snapshotVersion)),P_(l,I);const B=new gs(N.target,I,b,N.sequenceNumber);yh(l,B)}),l.remoteSyncer.applyRemoteEvent(g)}(s,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield Nl(s,i)}var i}),Pp.apply(this,arguments)}function Nl(s,e,t){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,U.A)(function*(s,e,t){if(!js(e))throw e;s.L_.add(1),yield Xa(s),s.q_.set("Offline"),t||(t=()=>y_(s.localStore)),s.asyncQueue.enqueueRetryable((0,U.A)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),s.L_.delete(1),yield xl(s)}))})).apply(this,arguments)}function kE(s,e){return e().catch(t=>Nl(s,t,e))}function Ju(s){return xp.apply(this,arguments)}function xp(){return(xp=(0,U.A)(function*(s){const e=it(s),t=Za(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;FE(e);)try{const a=yield VC(e.localStore,i);if(null===a){0===e.O_.length&&t.o_();break}i=a.batchId,LE(e,a)}catch(a){yield Nl(e,a)}VE(e)&&k_(e)})).apply(this,arguments)}function FE(s){return Ja(s)&&s.O_.length<10}function LE(s,e){s.O_.push(e);const t=Za(s);t.r_()&&t.V_&&t.m_(e.mutations)}function VE(s){return Ja(s)&&!Za(s).n_()&&s.O_.length>0}function k_(s){Za(s).start()}function UE(s){return Np.apply(this,arguments)}function Np(){return(Np=(0,U.A)(function*(s){Za(s).p_()})).apply(this,arguments)}function F_(s){return Op.apply(this,arguments)}function Op(){return(Op=(0,U.A)(function*(s){const e=Za(s);for(const t of s.O_)e.m_(t.mutations)})).apply(this,arguments)}function BE(s,e,t){return kp.apply(this,arguments)}function kp(){return(kp=(0,U.A)(function*(s,e,t){const i=s.O_.shift(),a=ja.from(i,e,t);yield kE(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),yield Ju(s)})).apply(this,arguments)}function jE(s,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,U.A)(function*(s,e){var t;e&&Za(s).V_&&(yield(t=(0,U.A)(function*(a,l){if(function Wm(s){switch(s){default:return gt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}(g=l.code)&&g!==Ae.ABORTED){const h=a.O_.shift();Za(a).s_(),yield kE(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),yield Ju(a)}var g}),function i(a,l){return t.apply(this,arguments)})(s,e)),VE(s)&&k_(s)}),Fp.apply(this,arguments)}function L_(s,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,U.A)(function*(s,e){const t=it(s);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Ja(t);t.L_.add(3),yield Xa(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield xl(t)})).apply(this,arguments)}function Vp(s,e){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,U.A)(function*(s,e){const t=it(s);e?(t.L_.delete(2),yield xl(t)):e||(t.L_.add(2),yield Xa(t),t.q_.set("Unknown"))})).apply(this,arguments)}function fo(s){return s.K_||(s.K_=function(t,i,a){const l=it(t);return l.w_(),new xE(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Eo:bp.bind(null,s),Ro:OE.bind(null,s),mo:aD.bind(null,s),d_:O_.bind(null,s)}),s.B_.push(function(){var e=(0,U.A)(function*(t){t?(s.K_.s_(),x_(s)?M_(s):s.q_.set("Unknown")):(yield s.K_.stop(),vh(s))});return function(t){return e.apply(this,arguments)}}())),s.K_}function Za(s){return s.U_||(s.U_=function(t,i,a){const l=it(t);return l.w_(),new NE(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UE.bind(null,s),mo:jE.bind(null,s),f_:F_.bind(null,s),g_:BE.bind(null,s)}),s.B_.push(function(){var e=(0,U.A)(function*(t){t?(s.U_.s_(),yield Ju(s)):(yield s.U_.stop(),s.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))});return function(t){return e.apply(this,arguments)}}())),s.U_}class V_{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const h=Date.now()+i,g=new V_(e,t,h,a,l);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eu(s,e){if(br("AsyncQueue",`${e}: ${s}`),js(s))return new Qe(Ae.UNAVAILABLE,`${e}: ${s}`);throw s}class Po{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ot.comparator(t.key,i.key):(t,i)=>ot.comparator(t.key,i.key),this.keyedMap=ml(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new Po(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Up{constructor(){this.W_=new zn(ot.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class kl{constructor(e,t,i,a,l,h,g,I,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=I,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,a,l){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new kl(e,t,Po.emptySet(t),h,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class U_{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BC{constructor(){this.queries=uD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const a=it(t),l=a.queries;a.queries=uD(),l.forEach((h,g)=>{for(const I of g.j_)I.onError(i)})}(this,new Qe(Ae.ABORTED,"Firestore shutting down"))}}function uD(){return new Qs(s=>Xd(s),Yd)}function j_(){return(j_=(0,U.A)(function*(s,e){const t=it(s);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.H_()&&e.J_()&&(i=2):(l=new U_,i=e.J_()?0:1);try{switch(i){case 0:l.z_=yield t.onListen(a,!0);break;case 1:l.z_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(h){const g=eu(h,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(g)}t.queries.set(a,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&H_(t)})).apply(this,arguments)}function $_(){return($_=(0,U.A)(function*(s,e){const t=it(s),i=e.query;let a=3;const l=t.queries.get(i);if(l){const h=l.j_.indexOf(e);h>=0&&(l.j_.splice(h,1),0===l.j_.length?a=e.J_()?0:1:!l.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Gr(s,e){const t=it(s);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const g of h.j_)g.X_(a)&&(i=!0);h.z_=a}}i&&H_(t)}function $E(s,e,t){const i=it(s),a=i.queries.get(e);if(a)for(const l of a.j_)l.onError(t);i.queries.delete(e)}function H_(s){s.Y_.forEach(e=>{e.next()})}var z_,G_;(G_=z_||(z_={})).ea="default",G_.Cache="cache";class W_{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new kl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==z_.Cache}}class GE{constructor(e){this.key=e}}class K_{constructor(e){this.key=e}}class WE{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nn(),this.mutatedKeys=nn(),this.Aa=FI(e),this.Ra=new Po(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Up,a=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,g=!1;const I="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,b="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,B)=>{const q=a.get(N),ce=fs(this.query,B)?B:null,Ne=!!q&&this.mutatedKeys.has(q.key),Be=!!ce&&(ce.hasLocalMutations||this.mutatedKeys.has(ce.key)&&ce.hasCommittedMutations);let $e=!1;q&&ce?q.data.isEqual(ce.data)?Ne!==Be&&(i.track({type:3,doc:ce}),$e=!0):this.ga(q,ce)||(i.track({type:2,doc:ce}),$e=!0,(I&&this.Aa(ce,I)>0||b&&this.Aa(ce,b)<0)&&(g=!0)):!q&&ce?(i.track({type:0,doc:ce}),$e=!0):q&&!ce&&(i.track({type:1,doc:q}),$e=!0,(I||b)&&(g=!0)),$e&&(ce?(h=h.add(ce),l=Be?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const N="F"===this.query.limitType?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),i.track({type:1,doc:N})}return{Ra:h,fa:i,ns:g,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((N,B)=>function(ce,Ne){const Be=$e=>{switch($e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return Be(ce)-Be(Ne)}(N.type,B.type)||this.Aa(N.doc,B.doc)),this.pa(i),a=null!=a&&a;const g=t&&!a?this.ya():[],I=0===this.da.size&&this.current&&!a?1:0,b=I!==this.Ea;return this.Ea=I,0!==h.length||b?{snapshot:new kl(this.query,e.Ra,l,h,e.mutatedKeys,0===I,b,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Up,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nn(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new K_(i))}),this.da.forEach(i=>{e.has(i)||t.push(new GE(i))}),t}ba(e){this.Ta=e.Ts,this.da=nn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qE{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jC{constructor(e){this.key=e,this.va=!1}}class Q_{constructor(e,t,i,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Qs(g=>Xd(g),Yd),this.Ma=new Map,this.xa=new Set,this.Oa=new zn(ot.comparator),this.Na=new Map,this.La=new f_,this.Ba={},this.ka=new Map,this.qa=zu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Y_(s,e){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,U.A)(function*(s,e,t=!0){const i=Yp(s);let a;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=yield Yo(i,e,t,!0),a})).apply(this,arguments)}function cD(s,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,U.A)(function*(s,e){const t=Yp(s);yield Yo(t,e,!0,!1)})).apply(this,arguments)}function Yo(s,e,t,i){return po.apply(this,arguments)}function po(){return(po=(0,U.A)(function*(s,e,t,i){const a=yield function fh(s,e){const t=it(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ur.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Ur.allocateTargetId(i).next(h=>(a=new gs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.os.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}(s.localStore,hi(e)),l=a.targetId,h=s.sharedClientState.addLocalQueryTarget(l,t);let g;return i&&(g=yield function go(s,e,t,i,a){return jp.apply(this,arguments)}(s,e,l,"current"===h,a.resumeToken)),s.isPrimaryClient&&t&&Xu(s.remoteStore,a),g})).apply(this,arguments)}function jp(){return jp=(0,U.A)(function*(s,e,t,i,a){s.Ka=(B,q,ce)=>{return(Ne=(0,U.A)(function*($e,yt,St,Et){let Gt=yt.view.ma(St);Gt.ns&&(Gt=yield E_($e.localStore,yt.query,!1).then(({documents:W})=>yt.view.ma(W,Gt)));const vn=Et&&Et.targetChanges.get(yt.targetId),Lt=Et&&null!=Et.targetMismatches.get(yt.targetId),ie=yt.view.applyChanges(Gt,$e.isPrimaryClient,vn,Lt);return Ul($e,yt.targetId,ie.wa),ie.snapshot}),function Be($e,yt,St,Et){return Ne.apply(this,arguments)})(s,B,q,ce);var Ne};const l=yield E_(s.localStore,e,!0),h=new WE(e,l.Ts),g=h.ma(l.documents),I=Il.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==s.onlineState,a),b=h.applyChanges(g,s.isPrimaryClient,I);Ul(s,t,b.wa);const N=new qE(e,t,h);return s.Fa.set(e,N),s.Ma.has(t)?s.Ma.get(t).push(e):s.Ma.set(t,[e]),b.snapshot}),jp.apply(this,arguments)}function KE(s,e,t){return J_.apply(this,arguments)}function J_(){return(J_=(0,U.A)(function*(s,e,t){const i=it(s),a=i.Fa.get(e),l=i.Ma.get(a.targetId);if(l.length>1)return i.Ma.set(a.targetId,l.filter(h=>!Yd(h,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Rl(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&sa(i.remoteStore,a.targetId),Vl(i,a.targetId)}).catch(ka))):(Vl(i,a.targetId),yield Rl(i.localStore,a.targetId,!0))})).apply(this,arguments)}function lD(s,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,U.A)(function*(s,e){const t=it(s),i=t.Fa.get(e),a=t.Ma.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sa(t.remoteStore,i.targetId))})).apply(this,arguments)}function Ih(){return(Ih=(0,U.A)(function*(s,e,t){const i=function fy(s){const e=it(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hp.bind(null,e),e}(s);try{const a=yield function(h,g){const I=it(h),b=qn.now(),N=g.reduce((ce,Ne)=>ce.add(Ne.key),nn());let B,q;return I.persistence.runTransaction("Locally write mutations","readwrite",ce=>{let Ne=Ki(),Be=nn();return I.cs.getEntries(ce,N).next($e=>{Ne=$e,Ne.forEach((yt,St)=>{St.isValidDocument()||(Be=Be.add(yt))})}).next(()=>I.localDocuments.getOverlayedDocuments(ce,Ne)).next($e=>{B=$e;const yt=[];for(const St of g){const Et=jm(St,B.get(St.key).overlayedDocument);null!=Et&&yt.push(new Zs(St.key,Et,Pm(Et.value.mapValue),_r.exists(!0)))}return I.mutationQueue.addMutationBatch(ce,b,yt,g)}).next($e=>{q=$e;const yt=$e.applyToLocalDocumentSet(B,Be);return I.documentOverlayCache.saveOverlays(ce,$e.batchId,yt)})}).then(()=>({batchId:q.batchId,changes:qf(B)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,g,I){let b=h.Ba[h.currentUser.toKey()];b||(b=new zn($t)),b=b.insert(g,I),h.Ba[h.currentUser.toKey()]=b}(i,a.batchId,t),yield vs(i,a.changes),yield Ju(i.remoteStore)}catch(a){const l=eu(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function Ll(s,e){return ey.apply(this,arguments)}function ey(){return(ey=(0,U.A)(function*(s,e){const t=it(s);try{const i=yield function v_(s,e){const t=it(s),i=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const g=[];e.targetChanges.forEach((N,B)=>{const q=a.get(B);if(!q)return;g.push(t.Ur.removeMatchingKeys(l,N.removedDocuments,B).next(()=>t.Ur.addMatchingKeys(l,N.addedDocuments,B)));let ce=q.withSequenceNumber(l.currentSequenceNumber);var Be,$e,yt;null!==e.targetMismatches.get(B)?ce=ce.withResumeToken(Zn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):N.resumeToken.approximateByteSize()>0&&(ce=ce.withResumeToken(N.resumeToken,i)),a=a.insert(B,ce),$e=ce,yt=N,(0===(Be=q).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Be.snapshotVersion.toMicroseconds()>=3e8||yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0)&&g.push(t.Ur.updateTargetData(l,ce))});let I=Ki(),b=nn();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,N))}),g.push(function bE(s,e,t){let i=nn(),a=nn();return t.forEach(l=>i=i.add(l)),e.getEntries(s,i).next(l=>{let h=Ki();return t.forEach((g,I)=>{const b=l.get(g);I.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(g)),I.isNoDocument()&&I.version.isEqual(bt.min())?(e.removeEntry(g,I.readTime),h=h.insert(g,I)):!b.isValidDocument()||I.version.compareTo(b.version)>0||0===I.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(I),h=h.insert(g,I)):Ke("LocalStore","Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",I.version)}),{Ps:h,Is:a}})}(l,h,e.documentUpdates).next(N=>{I=N.Ps,b=N.Is})),!i.isEqual(bt.min())){const N=t.Ur.getLastRemoteSnapshotVersion(l).next(B=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i));g.push(N)}return fe.waitFor(g).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,I,b)).next(()=>I)}).then(l=>(t.os=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Na.get(l);h&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?vt(h.va):a.removedDocuments.size>0&&(vt(h.va),h.va=!1))}),yield vs(t,i,e)}catch(i){yield ka(i)}})).apply(this,arguments)}function ty(s,e,t){const i=it(s);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Fa.forEach((l,h)=>{const g=h.view.Z_(e);g.snapshot&&a.push(g.snapshot)}),function(h,g){const I=it(h);I.onlineState=g;let b=!1;I.queries.forEach((N,B)=>{for(const q of B.j_)q.Z_(g)&&(b=!0)}),b&&H_(I)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function hD(s,e,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,U.A)(function*(s,e,t){const i=it(s);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Na.get(e),l=a&&a.key;if(l){let h=new zn(ot.comparator);h=h.insert(l,Kn.newNoDocument(l,bt.min()));const g=nn().add(l),I=new rh(bt.min(),new Map,new zn($t),h,g);yield Ll(i,I),i.Oa=i.Oa.remove(l),i.Na.delete(e),qp(i)}else yield Rl(i.localStore,e,!1).then(()=>Vl(i,e,t)).catch(ka)})).apply(this,arguments)}function QE(s,e){return $p.apply(this,arguments)}function $p(){return($p=(0,U.A)(function*(s,e){const t=it(s),i=e.batch.batchId;try{const a=yield function CE(s,e){const t=it(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return function(g,I,b,N){const B=b.batch,q=B.keys();let ce=fe.resolve();return q.forEach(Ne=>{ce=ce.next(()=>N.getEntry(I,Ne)).next(Be=>{const $e=b.docVersions.get(Ne);vt(null!==$e),Be.version.compareTo($e)<0&&(B.applyToRemoteDocument(Be,b),Be.isValidDocument()&&(Be.setReadTime(b.commitVersion),N.addEntry(Be)))})}),ce.next(()=>g.mutationQueue.removeMutationBatch(I,B))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let I=nn();for(let b=0;b<g.mutationResults.length;++b)g.mutationResults[b].transformResults.length>0&&(I=I.add(g.batch.mutations[b].key));return I}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);iy(t,i,null),Gp(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield vs(t,a)}catch(a){yield ka(a)}})).apply(this,arguments)}function Hp(s,e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,U.A)(function*(s,e,t){const i=it(s);try{const a=yield function(h,g){const I=it(h);return I.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let N;return I.mutationQueue.lookupMutationBatch(b,g).next(B=>(vt(null!==B),N=B.keys(),I.mutationQueue.removeMutationBatch(b,B))).next(()=>I.mutationQueue.performConsistencyCheck(b)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(b,N,g)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,N)).next(()=>I.localDocuments.getDocuments(b,N))})}(i.localStore,e);iy(i,e,t),Gp(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield vs(i,a)}catch(a){yield ka(a)}})).apply(this,arguments)}function Gp(s,e){(s.ka.get(e)||[]).forEach(t=>{t.resolve()}),s.ka.delete(e)}function iy(s,e,t){const i=it(s);let a=i.Ba[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function Vl(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Ma.get(e))s.Fa.delete(i),t&&s.Ca.$a(i,t);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach(i=>{s.La.containsKey(i)||Wp(s,i)})}function Wp(s,e){s.xa.delete(e.path.canonicalString());const t=s.Oa.get(e);null!==t&&(sa(s.remoteStore,t),s.Oa=s.Oa.remove(e),s.Na.delete(t),qp(s))}function Ul(s,e,t){for(const i of t)i instanceof GE?(s.La.addReference(i.key,e),oy(s,i)):i instanceof K_?(Ke("SyncEngine","Document no longer in limbo: "+i.key),s.La.removeReference(i.key,e),s.La.containsKey(i.key)||Wp(s,i.key)):gt()}function oy(s,e){const t=e.key,i=t.path.canonicalString();s.Oa.get(t)||s.xa.has(i)||(Ke("SyncEngine","New document in limbo: "+t),s.xa.add(i),qp(s))}function qp(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const t=new ot(dn.fromString(e)),i=s.qa.next();s.Na.set(i,new jC(t)),s.Oa=s.Oa.insert(t,i),Xu(s.remoteStore,new gs(hi(fl(t.path)),i,"TargetPurposeLimboResolution",Fr.oe))}}function vs(s,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,U.A)(function*(s,e,t){const i=it(s),a=[],l=[],h=[];var g;i.Fa.isEmpty()||(i.Fa.forEach((g,I)=>{h.push(i.Ka(I,e,t).then(b=>{var N;if((b||t)&&i.isPrimaryClient){const B=b?!b.fromCache:null===(N=t?.targetChanges.get(I.targetId))||void 0===N?void 0:N.current;i.sharedClientState.updateQueryState(I.targetId,B?"current":"not-current")}if(b){a.push(b);const B=Ep.Wi(I.targetId,b);l.push(B)}}))}),yield Promise.all(h),i.Ca.d_(a),yield(g=(0,U.A)(function*(b,N){const B=it(b);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",q=>fe.forEach(N,ce=>fe.forEach(ce.$i,Ne=>B.persistence.referenceDelegate.addReference(q,ce.targetId,Ne)).next(()=>fe.forEach(ce.Ui,Ne=>B.persistence.referenceDelegate.removeReference(q,ce.targetId,Ne)))))}catch(q){if(!js(q))throw q;Ke("LocalStore","Failed to update sequence numbers: "+q)}for(const q of N){const ce=q.targetId;if(!q.fromCache){const Ne=B.os.get(ce),$e=Ne.withLastLimboFreeSnapshotVersion(Ne.snapshotVersion);B.os=B.os.insert(ce,$e)}}}),function I(b,N){return g.apply(this,arguments)})(i.localStore,l))}),Kp.apply(this,arguments)}function XE(s,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,U.A)(function*(s,e){const t=it(s);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield __(t.localStore,e);t.currentUser=e,(l=t).ka.forEach(g=>{g.forEach(I=>{I.reject(new Qe(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield vs(t,i.hs)}var l})).apply(this,arguments)}function JE(s,e){const t=it(s),i=t.Na.get(e);if(i&&i.va)return nn().add(i.key);{let a=nn();const l=t.Ma.get(e);if(!l)return a;for(const h of l){const g=t.Fa.get(h);a=a.unionWith(g.view.Va)}return a}}function Yp(s){const e=it(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ll.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hD.bind(null,e),e.Ca.d_=Gr.bind(null,e.eventManager),e.Ca.$a=$E.bind(null,e.eventManager),e}let Zu=(()=>{class s{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var i=this;return(0,U.A)(function*(){i.serializer=mh(t.databaseInfo.databaseId),i.sharedClientState=i.Wa(t),i.persistence=i.Ga(t),yield i.persistence.start(),i.localStore=i.za(t),i.gcScheduler=i.ja(t,i.localStore),i.indexBackfillerScheduler=i.Ha(t,i.localStore)})()}ja(t,i){return null}Ha(t,i){return null}za(t){return function m_(s,e,t,i){return new AE(s,e,t,i)}(this.persistence,new g_,t.initialUser,this.serializer)}Ga(t){return new Yi(ra.Zr,this.serializer)}Wa(t){return new PE}terminate(){var t=this;return(0,U.A)(function*(){var i,a;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(a=t.indexBackfillerScheduler)||void 0===a||a.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return s.provider={build:()=>new s},s})(),ec=(()=>{class s{initialize(t,i){var a=this;return(0,U.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>ty(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=XE.bind(null,a.syncEngine),yield Vp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new BC}createDatastore(t){const i=mh(t.databaseInfo.databaseId),a=new C_(t.databaseInfo);return new iD(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return a=this.localStore,l=this.datastore,h=t.asyncQueue,g=i=>ty(this.syncEngine,i,0),I=Cp.D()?new Cp:new nD,new sD(a,l,h,g,I);var a,l,h,g,I}createSyncEngine(t,i){return function(l,h,g,I,b,N,B){const q=new Q_(l,h,g,I,b,N);return B&&(q.Qa=!0),q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,U.A)(function*(){var i,a,l;yield(l=(0,U.A)(function*(g){const I=it(g);Ke("RemoteStore","RemoteStore shutting down."),I.L_.add(5),yield Xa(I),I.k_.shutdown(),I.q_.set("Unknown")}),function h(g){return l.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(a=t.eventManager)||void 0===a||a.terminate()})()}}return s.provider={build:()=>new s},s})();class Eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class sT{constructor(e,t,i,a,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=zr.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,function(){var g=(0,U.A)(function*(I){Ke("FirestoreClient","Received user=",I.uid),yield h.authCredentialListener(I),h.user=I});return function(I){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(i,g=>(Ke("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,U.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=eu(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function aa(s,e){return my.apply(this,arguments)}function my(){return my=(0,U.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=s.configuration;yield e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(function(){var a=(0,U.A)(function*(l){i.isEqual(l)||(yield __(e.localStore,l),i=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),my.apply(this,arguments)}function aT(s,e){return tu.apply(this,arguments)}function tu(){return(tu=(0,U.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield function uT(s){return Th.apply(this,arguments)}(s);Ke("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>L_(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,a)=>L_(e.remoteStore,a)),s._onlineComponents=e})).apply(this,arguments)}function Th(){return(Th=(0,U.A)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aa(s,s._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(a=e).name?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw e;bo("Error using user provided cache. Falling back to memory cache: "+e),yield aa(s,new Zu)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield aa(s,new Zu);var a;return s._offlineComponents})).apply(this,arguments)}function _y(s){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,U.A)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield aT(s,s._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield aT(s,new ec))),s._onlineComponents})).apply(this,arguments)}function Bl(s){return nu.apply(this,arguments)}function nu(){return(nu=(0,U.A)(function*(s){const e=yield _y(s),t=e.eventManager;return t.onListen=Y_.bind(null,e.syncEngine),t.onUnlisten=KE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lD.bind(null,e.syncEngine),t})).apply(this,arguments)}function gT(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const mT=new Map;function nc(s,e,t){if(!t)throw new Qe(Ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function _T(s){if(!ot.isDocumentKey(s))throw new Qe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function yT(s){if(ot.isDocumentKey(s))throw new Qe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rc(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":gt()}function mn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Qe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rc(s);throw new Qe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}class Ty{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function wD(s,e,t,i){if(!0===e&&!0===i)throw new Qe(Ae.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gT(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ty({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ty(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Au;switch(i.type){case"firstParty":return new SC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Qe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,U.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=mT.get(t);i&&(Ke("ComponentProvider","Removing Datastore"),mT.delete(t),i.terminate())}(this),Promise.resolve()}}class Pr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pr(this.firestore,e,this._query)}}class Mr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class Is extends Pr{constructor(e,t,i){super(e,t,fl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new ot(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function DD(s,e,...t){if(s=(0,me.Ku)(s),nc("collection","path",e),s instanceof Dh){const i=dn.fromString(e,...t);return yT(i),new Is(s,null,i)}{if(!(s instanceof Mr||s instanceof Is))throw new Qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(dn.fromString(e,...t));return yT(i),new Is(s.firestore,null,i)}}function wy(s,e,...t){if(s=(0,me.Ku)(s),1===arguments.length&&(e=vm.newId()),nc("doc","path",e),s instanceof Dh){const i=dn.fromString(e,...t);return _T(i),new Mr(s,null,new ot(i))}{if(!(s instanceof Mr||s instanceof Is))throw new Qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(dn.fromString(e,...t));return _T(i),new Mr(s.firestore,s instanceof Is?s.converter:null,new ot(i))}}class Dy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new b_(this,"async_queue_retry"),this.Vu=()=>{const i=gh();i&&Ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=gh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,U.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!js(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,br("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=V_.createAndSchedule(this,e,t,i,l=>this.yu(l));return this.Tu.push(a),a}fu(){this.Eu&&gt()}verifyOperationInProgress(){}wu(){var e=this;return(0,U.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Ay(s){return function(t,i){if("object"!=typeof t||null===t)return!1;const a=t;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(s)}class er extends Dh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Dy,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,U.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new Dy(t),e._firestoreClient=void 0,yield t}})()}}function HC(s,e){const t="object"==typeof s?s:(0,pe.Sx)(),i="string"==typeof s?s:e||"(default)",a=(0,pe.j6)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=(0,me.yU)("firestore");l&&function Ah(s,e,t,i={}){var a;const l=(s=mn(s,Dh))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==h&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let g,I;if("string"==typeof i.mockUserToken)g=i.mockUserToken,I=zr.MOCK_USER;else{g=(0,me.Fy)(i.mockUserToken,null===(a=s._app)||void 0===a?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Qe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new zr(b)}s._authCredentials=new cI(new ym(g,I))}}(a,...l)}return a}function lr(s){if(s._terminated)throw new Qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||function Ch(s){var e,t,i;const a=s._freezeSettings(),l=(I=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new RI(s._databaseId,I,s._persistenceKey,(N=a).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,gT(N.experimentalLongPollingOptions),N.useFetchStreams));var I,N;s._componentsProvider||!(null===(t=a.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(i=a.localCache)||void 0===i)&&i._onlineComponentProvider&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new sT(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(g){const I=g?._online.build();return{_offline:g?._offline.build(I),_online:I}}(s._componentsProvider))}(s),s._firestoreClient}class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Zn.fromBase64String(e))}catch(t){throw new Qe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ic{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $l{constructor(e){this._methodName=e}}class ng{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}class rg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}const IT=/^__.*__$/;class MD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}function ET(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Sh{constructor(e,t,i,a,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===l&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ph(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(ET(this.Cu)&&IT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||mh(e)}Qu(e,t,i,a=!1){return new Sh({Cu:e,methodName:t,qu:i,path:Jn.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oc(s){const e=s._freezeSettings(),t=mh(s._databaseId);return new TT(s._databaseId,!!e.ignoreUndefinedProperties,t)}function og(s,e,t,i,a,l={}){const h=s.Qu(l.merge||l.mergeFields?2:0,e,t,a);ug("Data must be an object, but it was:",h,i);const g=DT(i,h);let I,b;if(l.merge)I=new Ri(h.fieldMask),b=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const B of l.mergeFields){const q=Hl(e,B,t);if(!h.contains(q))throw new Qe(Ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);CT(N,q)||N.push(q)}I=new Ri(N),b=h.fieldTransforms.filter(B=>I.covers(B.field))}else I=null,b=h.fieldTransforms;return new MD(new oi(g),I,b)}function sc(s,e){if(AT(s=(0,me.Ku)(s)))return ug("Unsupported field value:",e,s),DT(s,e);if(s instanceof $l)return function(i,a){if(!ET(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(i,a){const l=[];let h=0;for(const g of i){let I=sc(g,a.Lu(h));null==I&&(I={nullValue:"NULL_VALUE"}),l.push(I),h++}return{arrayValue:{values:l}}}(s,e)}return function(i,a){if(null===(i=(0,me.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return P0(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const l=qn.fromDate(i);return{timestampValue:Uu(a.serializer,l)}}if(i instanceof qn){const l=new qn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uu(a.serializer,l)}}if(i instanceof ng)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:Xt(a.serializer,i._byteString)};if(i instanceof Mr){const l=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw a.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ha(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof rg)return g=a,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(I=>{if("number"!=typeof I)throw g.Bu("VectorValues must only contain numeric values.");return Um(g.serializer,I)})}}}}};var g;throw a.Bu(`Unsupported field value: ${rc(i)}`)}(s,e)}function DT(s,e){const t={};return bI(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(s,(i,a)=>{const l=sc(a,e.Mu(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function AT(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof qn||s instanceof ng||s instanceof Xo||s instanceof Mr||s instanceof $l||s instanceof rg)}function ug(s,e,t){if(!AT(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=rc(t);throw e.Bu("an object"===i?s+" a custom object":s+" "+i)}var a}function Hl(s,e,t){if((e=(0,me.Ku)(e))instanceof ic)return e._internalPath;if("string"==typeof e)return cg(s,e);throw Ph("Field path arguments must be of type string or ",s,!1,void 0,t)}const xD=new RegExp("[~\\*/\\[\\]]");function cg(s,e,t){if(e.search(xD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ph(s,e,t,i,a){const l=i&&!i.isEmpty(),h=void 0!==a;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${i}`),h&&(I+=` in document ${a}`),I+=")"),new Qe(Ae.INVALID_ARGUMENT,g+s+I)}function CT(s,e){return s.some(t=>t.isEqual(e))}class Mh{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ND extends Mh{data(){return super.data()}}function lg(s,e){return"string"==typeof e?cg(s,e):e instanceof ic?e._internalPath:e._delegate._internalPath}class RT{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ho(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=null===(a=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.map(h=>ir(h.doubleValue));return new rg(l)}convertGeoPoint(e){return new ng(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zd(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const t=ds(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dn.fromString(e);vt(lp(i));const a=new hs(i.get(1),i.get(3)),l=new ot(i.popFirst(5));return a.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function pg(s,e,t){let i;return i=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,i}class ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends Mh{constructor(e,t,i,a,l,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gg extends kh{data(e={}){return super.data(e)}}class Wl{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ac(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gg(this._firestore,this._userDataWriter,i.key,i,new ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(g=>({type:"added",doc:new gg(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ac(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const I=new gg(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ac(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let b=-1,N=-1;return 0!==g.type&&(b=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),N=h.indexOf(g.doc.key)),{type:jD(g.type),doc:I,oldIndex:b,newIndex:N}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class iu extends RT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function zD(s,e,t){s=mn(s,Mr);const i=mn(s.firestore,er),a=pg(s.converter,e,t);return ql(i,[og(oc(i),"setDoc",s._key,a,null!==s.converter,t).toMutation(s._key,_r.none())])}function PT(s){return ql(mn(s.firestore,er),[new vl(s._key,_r.none())])}function MT(s,e){const t=mn(s.firestore,er),i=wy(s),a=pg(s.converter,e);return ql(t,[og(oc(s.firestore),"addDoc",i._key,a,null!==s.converter,{}).toMutation(i._key,_r.exists(!1))]).then(()=>i)}function ql(s,e){return function(i,a){const l=new kr;return i.asyncQueue.enqueueAndForget((0,U.A)(function*(){return function dD(s,e,t){return Ih.apply(this,arguments)}(yield function vy(s){return _y(s).then(e=>e.syncEngine)}(i),a,l)})),l.promise}(lr(s),e)}!function(e,t=!0){Oa=pe.MF,(0,pe.om)(new J.uA("firestore",(i,{instanceIdentifier:a,options:l})=>{const h=i.getProvider("app").getImmediate(),g=new er(new lI(i.getProvider("auth-internal")),new s0(i.getProvider("app-check-internal")),function(b,N){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Qe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(b.options.projectId,N)}(h,a),h);return l=Object.assign({useFetchStreams:t},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,pe.KO)(Od,"4.7.3",e),(0,pe.KO)(Od,"4.7.3","esm2017")}();var nA=$(1985),FT=$(6354),Kl=function(){return Kl=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Kl.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var LT={includeMetadataChanges:!1};function Uh(s,e){return void 0===e&&(e=LT),new nA.c(function(t){var i=function xT(s,...e){var t,i,a;s=(0,me.Ku)(s);let l={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||Ay(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Ay(e[h])){const B=e[h];e[h]=null===(t=B.next)||void 0===t?void 0:t.bind(B),e[h+1]=null===(i=B.error)||void 0===i?void 0:i.bind(B),e[h+2]=null===(a=B.complete)||void 0===a?void 0:a.bind(B)}let I,b,N;if(s instanceof Mr)b=mn(s.firestore,er),N=fl(s._key.path),I={next:B=>{e[h]&&e[h](function _g(s,e,t){const i=t.docs.get(e._key),a=new iu(s);return new kh(s,a,e._key,i,new ac(t.hasPendingWrites,t.fromCache),e.converter)}(b,s,B))},error:e[h+1],complete:e[h+2]};else{const B=mn(s,Pr);b=mn(B.firestore,er),N=B._query;const q=new iu(b);I={next:ce=>{e[h]&&e[h](new Wl(b,q,B,ce))},error:e[h+1],complete:e[h+2]},function dg(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Qe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(s._query)}return function(q,ce,Ne,Be){const $e=new Eh(Be),yt=new W_(ce,$e,Ne);return q.asyncQueue.enqueueAndForget((0,U.A)(function*(){return function B_(s,e){return j_.apply(this,arguments)}(yield Bl(q),yt)})),()=>{$e.Za(),q.asyncQueue.enqueueAndForget((0,U.A)(function*(){return function Bp(s,e){return $_.apply(this,arguments)}(yield Bl(q),yt)}))}}(lr(b),N,g,I)}(s,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function zT(s,e){return void 0===e&&(e={}),function HT(s){return Uh(s,{includeMetadataChanges:!0}).pipe((0,FT.T)(function(e){return e.docs}))}(s).pipe((0,FT.T)(function(t){return t.map(function(i){return function VT(s,e){var t;void 0===e&&(e={});var i=s.data(e);return s.exists()&&"object"==typeof i&&null!==i&&e.idField?Kl(Kl({},i),((t={})[e.idField]=s.id,t)):i}(i,e)})}))}class ca{constructor(e){return e}}const WT="firestore",qT=new K.nKC("angularfire2.firestore-instances");function zy(s){return(e,t)=>{const i=e.runOutsideAngular(()=>s(t));return new ca(i)}}const bb={provide:class oA{constructor(){return(0,A.CA)(WT)}},deps:[[new K.Xx1,qT]]},Sb={provide:ca,useFactory:function KT(s,e){const t=(0,A.lR)(WT,s,e);return t&&new ca(t)},deps:[[new K.Xx1,qT],Se.XU]};let Rb=(()=>{class s{constructor(){(0,De.KO)("angularfire",A.xv.full,"fst")}static \u0275fac=function(i){return new(i||s)};static \u0275mod=K.$C({type:s});static \u0275inj=K.G2t({providers:[Sb,bb]})}return s})();function Bh(s,...e){return{ngModule:Rb,providers:[{provide:qT,useFactory:zy(s),multi:!0,deps:[K.SKi,K.zZn,A.u0,Se.gL,[new K.Xx1,sm],[new K.Xx1,A.Jv],...e]}]}}const aA=(0,A.S3)(zT,!0),Wy=(0,A.S3)(MT,!0),qy=(0,A.S3)(DD,!0),hA=(0,A.S3)(PT,!0),gA=(0,A.S3)(wy,!0),Gb=(0,A.S3)(HC,!0),$h=(0,A.S3)(zD,!0)},3586:(Rt,Ue,$)=>{$.d(Ue,{xv:()=>xe,u0:()=>Ur,Jv:()=>ht,CA:()=>ct,lR:()=>Fe,S3:()=>de});var A=$(540),K=$(2214),Se=$(8359);class De extends Se.yU{constructor(Z,ue){super()}schedule(Z,ue=0){return this}}const U={setInterval(re,Z,...ue){const{delegate:ve}=U;return ve?.setInterval?ve.setInterval(re,Z,...ue):setInterval(re,Z,...ue)},clearInterval(re){const{delegate:Z}=U;return(Z?.clearInterval||clearInterval)(re)},delegate:void 0};var pe=$(7908);class me extends De{constructor(Z,ue){super(Z,ue),this.scheduler=Z,this.work=ue,this.pending=!1}schedule(Z,ue=0){var ve;if(this.closed)return this;this.state=Z;const Le=this.id,Je=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(Je,Le,ue)),this.pending=!0,this.delay=ue,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(Je,this.id,ue),this}requestAsyncId(Z,ue,ve=0){return U.setInterval(Z.flush.bind(Z,this),ve)}recycleAsyncId(Z,ue,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ue;null!=ue&&U.clearInterval(ue)}execute(Z,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Z,ue);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,ue){let Le,ve=!1;try{this.work(Z)}catch(Je){ve=!0,Le=Je||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Le}unsubscribe(){if(!this.closed){const{id:Z,scheduler:ue}=this,{actions:ve}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.o)(ve,this),null!=Z&&(this.id=this.recycleAsyncId(ue,Z,null)),this.delay=null,super.unsubscribe()}}}const Ve={now:()=>(Ve.delegate||Date).now(),delegate:void 0};class J{constructor(Z,ue=J.now){this.schedulerActionCtor=Z,this.now=ue}schedule(Z,ue=0,ve){return new this.schedulerActionCtor(this,Z).schedule(ve,ue)}}J.now=Ve.now;class Y extends J{constructor(Z,ue=J.now){super(Z,ue),this.actions=[],this._active=!1}flush(Z){const{actions:ue}=this;if(this._active)return void ue.push(Z);let ve;this._active=!0;do{if(ve=Z.execute(Z.state,Z.delay))break}while(Z=ue.shift());if(this._active=!1,ve){for(;Z=ue.shift();)Z.unsubscribe();throw ve}}}const Xe=new class Ee extends Y{}(class et extends me{constructor(Z,ue){super(Z,ue),this.scheduler=Z,this.work=ue}schedule(Z,ue=0){return ue>0?super.schedule(Z,ue):(this.delay=ue,this.state=Z,this.scheduler.flush(this),this)}execute(Z,ue){return ue>0||this.closed?super.execute(Z,ue):this._execute(Z,ue)}requestAsyncId(Z,ue,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(Z,ue,ve):(Z.flush(this),0)}}),ze=new Y(me);var wt=$(1985),mt=$(8141),Zt=$(6745),In=$(941);const xe=new A.RxE("ANGULARFIRE2_VERSION");function Fe(re,Z,ue){if(Z){if(1===Z.length)return Z[0];const Je=Z.filter(Qt=>Qt.app===ue);if(1===Je.length)return Je[0]}return ue.container.getProvider(re).getImmediate({optional:!0})}const ct=(re,Z)=>{const ue=Z?[Z]:(0,K.Dk)(),ve=[];return ue.forEach(Le=>{Le.container.getProvider(re).instances.forEach(Qt=>{ve.includes(Qt)||ve.push(Qt)})}),ve};class ht{constructor(){return ct(tt)}}const tt="app-check";function Ye(){}class At{zone;delegate;constructor(Z,ue=Xe){this.zone=Z,this.delegate=ue}now(){return this.delegate.now()}schedule(Z,ue,ve){const Le=this.zone;return this.delegate.schedule(function(Qt){Le.runGuarded(()=>{Z.apply(this,[Qt])})},ue,ve)}}class Cn{zone;task=null;constructor(Z){this.zone=Z}call(Z,ue){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)),ue.pipe((0,mt.M)({next:ve,complete:ve,error:ve})).subscribe(Z).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ur=(()=>{class re{ngZone;outsideAngular;insideAngular;constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new At(Zone.current)),this.insideAngular=ue.run(()=>new At(Zone.current,ze)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ve){return new(ve||re)(A.KVO(A.SKi))};static \u0275prov=A.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();function Ge(){const re=globalThis.\u0275AngularFireScheduler;if(!re)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return re}function Wt(re){return Ge().ngZone.run(()=>re())}function Br(re){return function ai(re){return function(ue){return(ue=ue.lift(new Cn(re.ngZone))).pipe((0,Zt._)(re.outsideAngular),(0,In.Q)(re.insideAngular))}}(Ge())(re)}const he=(re,Z)=>function(){const ve=arguments;return Z&&setTimeout(()=>{"scheduled"===Z.state&&Z.invoke()},10),Wt(()=>re.apply(void 0,ve))},de=(re,Z)=>function(){let ue;const ve=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof ve[Je]&&(Z&&(ue||=Wt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye))),ve[Je]=he(ve[Je],ue));const Le=function Ze(re){return Ge().ngZone.runOutsideAngular(()=>re())}(()=>re.apply(this,ve));if(!Z){if(Le instanceof wt.c){const Je=Ge();return Le.pipe((0,Zt._)(Je.outsideAngular),(0,In.Q)(Je.insideAngular))}return Wt(()=>Le)}return Le instanceof wt.c?Le.pipe(Br):Le instanceof Promise?Wt(()=>new Promise((Je,Qt)=>Le.then(Pt=>Wt(()=>Je(Pt)),Pt=>Wt(()=>Qt(Pt))))):"function"==typeof Le&&ue?function(){return setTimeout(()=>{ue&&"scheduled"===ue.state&&ue.invoke()},10),Le.apply(this,arguments)}:Wt(()=>Le)}},345:(Rt,Ue,$)=>{$.d(Ue,{Bb:()=>qt,hE:()=>Ot,sG:()=>Pt});var A=$(540),K=$(177);class Se extends K.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends Se{static makeCurrent(){(0,K.ZD)(new De)}onAndCancel(F,M,V){return F.addEventListener(M,V),()=>{F.removeEventListener(M,V)}}dispatchEvent(F,M){F.dispatchEvent(M)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,M){return(M=M||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,M){return"window"===M?window:"document"===M?F:"body"===M?F.body:null}getBaseHref(F){const M=function pe(){return U=U||document.querySelector("base"),U?U.getAttribute("href"):null}();return null==M?null:function et(Pe){me=me||document.createElement("a"),me.setAttribute("href",Pe);const F=me.pathname;return"/"===F.charAt(0)?F:`/${F}`}(M)}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,K._b)(document.cookie,F)}}let me,U=null,J=(()=>{class Pe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(V){return new(V||Pe)}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Y=new A.nKC("EventManagerPlugins");let Ee=(()=>{class Pe{constructor(M,V){this._zone=V,this._eventNameToPlugin=new Map,M.forEach(Q=>{Q.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,V,Q){return this._findPluginFor(V).addEventListener(M,V,Q)}getZone(){return this._zone}_findPluginFor(M){let V=this._eventNameToPlugin.get(M);if(V)return V;if(V=this._plugins.find(X=>X.supports(M)),!V)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set(M,V),V}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(Y),A.KVO(A.SKi))}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();class Xe{constructor(F){this._doc=F}}const We="ng-app-id";let ze=(()=>{class Pe{constructor(M,V,Q,X={}){this.doc=M,this.appId=V,this.nonce=Q,this.platformId=X,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,K.Vy)(X),this.resetHostNodes()}addStyles(M){for(const V of M)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(M){for(const V of M)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(V=>V.remove()),M.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const V of this.getAllStyles())this.addStyleToHost(M,V)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const V of this.hostNodes)this.addStyleToHost(V,M)}onStyleRemoved(M){const V=this.styleRef;V.get(M)?.elements?.forEach(Q=>Q.remove()),V.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(M?.length){const V=new Map;return M.forEach(Q=>{null!=Q.textContent&&V.set(Q.textContent,Q)}),V}return null}changeUsageCount(M,V){const Q=this.styleRef;if(Q.has(M)){const X=Q.get(M);return X.usage+=V,X.usage}return Q.set(M,{usage:V,elements:[]}),V}getStyleElement(M,V){const Q=this.styleNodesInDOM,X=Q?.get(V);if(X?.parentNode===M)return Q.delete(V),X.removeAttribute(We),X;{const Me=this.doc.createElement("style");return this.nonce&&Me.setAttribute("nonce",this.nonce),Me.textContent=V,this.platformIsServer&&Me.setAttribute(We,this.appId),Me}}addStyleToHost(M,V){const Q=this.getStyleElement(M,V);M.appendChild(Q);const X=this.styleRef,Me=X.get(V)?.elements;Me?Me.push(Q):X.set(V,{elements:[Q],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(K.qQ),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,qe=new A.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ht(Pe,F){return F.map(M=>M.replace(wt,Pe))}let tt=(()=>{class Pe{constructor(M,V,Q,X,Me,nt,_t,sn=null){this.eventManager=M,this.sharedStylesHost=V,this.appId=Q,this.removeStylesOnCompDestroy=X,this.doc=Me,this.platformId=nt,this.ngZone=_t,this.nonce=sn,this.rendererByCompId=new Map,this.platformIsServer=(0,K.Vy)(nt),this.defaultRenderer=new Ye(M,Me,_t,this.platformIsServer)}createRenderer(M,V){if(!M||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===A.gXe.ShadowDom&&(V={...V,encapsulation:A.gXe.Emulated});const Q=this.getOrCreateRenderer(M,V);return Q instanceof Wt?Q.applyToHost(M):Q instanceof Ze&&Q.applyStyles(),Q}getOrCreateRenderer(M,V){const Q=this.rendererByCompId;let X=Q.get(V.id);if(!X){const Me=this.doc,nt=this.ngZone,_t=this.eventManager,sn=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(V.encapsulation){case A.gXe.Emulated:X=new Wt(_t,sn,V,this.appId,an,Me,nt,ar);break;case A.gXe.ShadowDom:return new Ge(_t,sn,M,V,Me,nt,this.nonce,ar);default:X=new Ze(_t,sn,V,an,Me,nt,ar)}Q.set(V.id,X)}return X}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(Ee),A.KVO(ze),A.KVO(A.sZ2),A.KVO(qe),A.KVO(K.qQ),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS))}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();class Ye{constructor(F,M,V,Q){this.eventManager=F,this.doc=M,this.ngZone=V,this.platformIsServer=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,M){return M?this.doc.createElementNS(Jt[M]||M,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,M){(Ur(F)?F.content:F).appendChild(M)}insertBefore(F,M,V){F&&(Ur(F)?F.content:F).insertBefore(M,V)}removeChild(F,M){F&&F.removeChild(M)}selectRootElement(F,M){let V="string"==typeof F?this.doc.querySelector(F):F;if(!V)throw new A.wOt(-5104,!1);return M||(V.textContent=""),V}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,M,V,Q){if(Q){M=Q+":"+M;const X=Jt[Q];X?F.setAttributeNS(X,M,V):F.setAttribute(M,V)}else F.setAttribute(M,V)}removeAttribute(F,M,V){if(V){const Q=Jt[V];Q?F.removeAttributeNS(Q,M):F.removeAttribute(`${V}:${M}`)}else F.removeAttribute(M)}addClass(F,M){F.classList.add(M)}removeClass(F,M){F.classList.remove(M)}setStyle(F,M,V,Q){Q&(A.czy.DashCase|A.czy.Important)?F.style.setProperty(M,V,Q&A.czy.Important?"important":""):F.style[M]=V}removeStyle(F,M,V){V&A.czy.DashCase?F.style.removeProperty(M):F.style[M]=""}setProperty(F,M,V){F[M]=V}setValue(F,M){F.nodeValue=M}listen(F,M,V){if("string"==typeof F&&!(F=(0,K.QT)().getGlobalEventTarget(this.doc,F)))throw new Error(`Unsupported event target ${F} for event ${M}`);return this.eventManager.addEventListener(F,M,this.decoratePreventDefault(V))}decoratePreventDefault(F){return M=>{if("__ngUnwrap__"===M)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(M)):F(M))&&M.preventDefault()}}}function Ur(Pe){return"TEMPLATE"===Pe.tagName&&void 0!==Pe.content}class Ge extends Ye{constructor(F,M,V,Q,X,Me,nt,_t){super(F,X,Me,_t),this.sharedStylesHost=M,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=ht(Q.id,Q.styles);for(const an of sn){const ar=document.createElement("style");nt&&ar.setAttribute("nonce",nt),ar.textContent=an,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,M){return super.appendChild(this.nodeOrShadowRoot(F),M)}insertBefore(F,M,V){return super.insertBefore(this.nodeOrShadowRoot(F),M,V)}removeChild(F,M){return super.removeChild(this.nodeOrShadowRoot(F),M)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ze extends Ye{constructor(F,M,V,Q,X,Me,nt,_t){super(F,X,Me,nt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=Q,this.styles=_t?ht(_t,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends Ze{constructor(F,M,V,Q,X,Me,nt,_t){const sn=Q+"-"+V.id;super(F,M,V,X,Me,nt,_t,sn),this.contentAttr=function Fe(Pe){return"_ngcontent-%COMP%".replace(wt,Pe)}(sn),this.hostAttr=function ct(Pe){return"_nghost-%COMP%".replace(wt,Pe)}(sn)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,M){const V=super.createElement(F,M);return super.setAttribute(V,this.contentAttr,""),V}}let rt=(()=>{class Pe extends Xe{constructor(M){super(M)}supports(M){return!0}addEventListener(M,V,Q){return M.addEventListener(V,Q,!1),()=>this.removeEventListener(M,V,Q)}removeEventListener(M,V,Q){return M.removeEventListener(V,Q)}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(K.qQ))}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Nt=["alt","control","meta","shift"],Br={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let he=(()=>{class Pe extends Xe{constructor(M){super(M)}supports(M){return null!=Pe.parseEventName(M)}addEventListener(M,V,Q){const X=Pe.parseEventName(V),Me=Pe.eventCallback(X.fullKey,Q,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,K.QT)().onAndCancel(M,X.domEventName,Me))}static parseEventName(M){const V=M.toLowerCase().split("."),Q=V.shift();if(0===V.length||"keydown"!==Q&&"keyup"!==Q)return null;const X=Pe._normalizeKey(V.pop());let Me="",nt=V.indexOf("code");if(nt>-1&&(V.splice(nt,1),Me="code."),Nt.forEach(sn=>{const an=V.indexOf(sn);an>-1&&(V.splice(an,1),Me+=sn+".")}),Me+=X,0!=V.length||0===X.length)return null;const _t={};return _t.domEventName=Q,_t.fullKey=Me,_t}static matchEventFullKeyCode(M,V){let Q=Br[M.key]||M.key,X="";return V.indexOf("code.")>-1&&(Q=M.code,X="code."),!(null==Q||!Q)&&(Q=Q.toLowerCase()," "===Q?Q="space":"."===Q&&(Q="dot"),Nt.forEach(Me=>{Me!==Q&&(0,ai[Me])(M)&&(X+=Me+".")}),X+=Q,X===V)}static eventCallback(M,V,Q){return X=>{Pe.matchEventFullKeyCode(X,M)&&Q.runGuarded(()=>V(X))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(K.qQ))}}static{this.\u0275prov=A.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Pt=(0,A.oH4)(A.fpN,"browser",[{provide:A.Agw,useValue:K.AJ},{provide:A.PLl,useValue:function ve(){De.makeCurrent()},multi:!0},{provide:K.qQ,useFactory:function Je(){return(0,A.TL$)(document),document},deps:[]}]),_n=new A.nKC(""),fn=[{provide:A.e01,useClass:class Ve{addToWindow(F){A.JZv.getAngularTestability=(V,Q=!0)=>{const X=F.findTestabilityInTree(V,Q);if(null==X)throw new A.wOt(5103,!1);return X},A.JZv.getAllAngularTestabilities=()=>F.getAllTestabilities(),A.JZv.getAllAngularRootElements=()=>F.getAllRootElements(),A.JZv.frameworkStabilizers||(A.JZv.frameworkStabilizers=[]),A.JZv.frameworkStabilizers.push(V=>{const Q=A.JZv.getAllAngularTestabilities();let X=Q.length,Me=!1;const nt=function(_t){Me=Me||_t,X--,0==X&&V(Me)};Q.forEach(_t=>{_t.whenStable(nt)})})}findTestabilityInTree(F,M,V){return null==M?null:F.getTestability(M)??(V?(0,K.QT)().isShadowRoot(M)?this.findTestabilityInTree(F,M.host,!0):this.findTestabilityInTree(F,M.parentElement,!0):null)}},deps:[]},{provide:A.WHO,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]},{provide:A.NYb,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]}],Zr=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function Le(){return new A.zcH},deps:[]},{provide:Y,useClass:rt,multi:!0,deps:[K.qQ,A.SKi,A.Agw]},{provide:Y,useClass:he,multi:!0,deps:[K.qQ]},tt,ze,Ee,{provide:A._9s,useExisting:tt},{provide:K.N0,useClass:J,deps:[]},[]];let qt=(()=>{class Pe{constructor(M){}static withServerTransition(M){return{ngModule:Pe,providers:[{provide:A.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(_n,12))}}static{this.\u0275mod=A.$C({type:Pe})}static{this.\u0275inj=A.G2t({providers:[...Zr,...fn],imports:[K.MD,A.Hbi]})}}return Pe})(),Ot=(()=>{class Pe{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(V){return new(V||Pe)(A.KVO(K.qQ))}}static{this.\u0275prov=A.jDH({token:Pe,factory:function(V){let Q=null;return Q=V?new V:function Wr(){return new Ot((0,A.KVO)(K.qQ))}(),Q},providedIn:"root"})}}return Pe})();typeof window<"u"&&window},6143:(Rt,Ue,$)=>{$.d(Ue,{Ix:()=>ln,Wk:()=>Ar,iI:()=>$r,n3:()=>Io});var A=$(540),K=$(1985),Se=$(8071),U=$(8455),pe=$(7673),me=$(4412),et=$(3073),Ve=$(3669),J=$(6450),Y=$(3794),Ee=$(8496),Xe=$(4360),We=$(5225);function ze(..._){const E=(0,Y.lI)(_),m=(0,Y.ms)(_),{args:w,keys:S}=(0,et.D)(_);if(0===w.length)return(0,U.H)([],E);const L=new K.c(function Jt(_,E,m=Ve.D){return w=>{wt(E,()=>{const{length:S}=_,L=new Array(S);let z=S,ye=S;for(let _e=0;_e<S;_e++)wt(E,()=>{const ut=(0,U.H)(_[_e],E);let jt=!1;ut.subscribe((0,Xe._)(w,Mn=>{L[_e]=Mn,jt||(jt=!0,ye--),ye||w.next(m(L.slice()))},()=>{--z||w.complete()}))},w)},w)}}(w,E,S?z=>(0,Ee.e)(S,z):Ve.D));return m?L.pipe((0,J.I)(m)):L}function wt(_,E,m){_?(0,We.N)(m,_,E):E()}const Zt=(0,$(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var In=$(6365);function qe(..._){return function xe(){return(0,In.U)(1)}()((0,U.H)(_,(0,Y.lI)(_)))}var Fe=$(8750);function ct(_){return new K.c(E=>{(0,Fe.Tg)(_()).subscribe(E)})}var ht=$(1203);function tt(_,E){const m=(0,Se.T)(_)?_:()=>_,w=S=>S.error(m());return new K.c(E?S=>E.schedule(w,0,S):w)}var Ye=$(983),At=$(8359),Cn=$(9974);function Ur(){return(0,Cn.N)((_,E)=>{let m=null;_._refCount++;const w=(0,Xe._)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const S=_._connection,L=m;m=null,S&&(!L||S===L)&&S.unsubscribe(),E.unsubscribe()});_.subscribe(w),w.closed||(m=_.connect())})}class Ge extends K.c{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.S)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new At.yU;const m=this.getSubject();E.add(this.source.subscribe((0,Xe._)(m,void 0,()=>{this._teardown(),m.complete()},w=>{this._teardown(),m.error(w)},()=>this._teardown()))),E.closed&&(this._connection=null,E=At.yU.EMPTY)}return E}refCount(){return Ur()(this)}}var Ze=$(1413),Wt=$(177),rt=$(6354),Nt=$(5558);function Br(_){return _<=0?()=>Ye.w:(0,Cn.N)((E,m)=>{let w=0;E.subscribe((0,Xe._)(m,S=>{++w<=_&&(m.next(S),_<=w&&m.complete())}))})}function he(_,E){return(0,Cn.N)((m,w)=>{let S=0;m.subscribe((0,Xe._)(w,L=>_.call(E,L,S++)&&w.next(L)))})}var de=$(1397);function re(_){return(0,Cn.N)((E,m)=>{let w=!1;E.subscribe((0,Xe._)(m,S=>{w=!0,m.next(S)},()=>{w||m.next(_),m.complete()}))})}function Z(_=ue){return(0,Cn.N)((E,m)=>{let w=!1;E.subscribe((0,Xe._)(m,S=>{w=!0,m.next(S)},()=>w?m.complete():m.error(_())))})}function ue(){return new Zt}function ve(_,E){const m=arguments.length>=2;return w=>w.pipe(_?he((S,L)=>_(S,L,w)):Ve.D,Br(1),m?re(E):Z(()=>new Zt))}function Le(_,E){return(0,Se.T)(E)?(0,de.Z)(_,E,1):(0,de.Z)(_,1)}var Je=$(8141);function Qt(_){return(0,Cn.N)((E,m)=>{let L,w=null,S=!1;w=E.subscribe((0,Xe._)(m,void 0,void 0,z=>{L=(0,Fe.Tg)(_(z,Qt(_)(E))),w?(w.unsubscribe(),w=null,L.subscribe(m)):S=!0})),S&&(w.unsubscribe(),w=null,L.subscribe(m))})}function fn(_){return _<=0?()=>Ye.w:(0,Cn.N)((E,m)=>{let w=[];E.subscribe((0,Xe._)(m,S=>{w.push(S),_<w.length&&w.shift()},()=>{for(const S of w)m.next(S);m.complete()},void 0,()=>{w=null}))})}function Yn(_){return(0,Cn.N)((E,m)=>{try{E.subscribe(m)}finally{m.add(_)}})}var Sn=$(5343),Wr=$(345);const Ot="primary",Tr=Symbol("RouteTitle");class pn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function sr(_){return new pn(_)}function Yt(_,E,m){const w=m.path.split("/");if(w.length>_.length||"full"===m.pathMatch&&(E.hasChildren()||w.length<_.length))return null;const S={};for(let L=0;L<w.length;L++){const z=w[L],ye=_[L];if(z.startsWith(":"))S[z.substring(1)]=ye;else if(z!==ye.path)return null}return{consumed:_.slice(0,w.length),posParams:S}}function xr(_,E){const m=_?Object.keys(_):void 0,w=E?Object.keys(E):void 0;if(!m||!w||m.length!=w.length)return!1;let S;for(let L=0;L<m.length;L++)if(S=m[L],!yr(_[S],E[S]))return!1;return!0}function yr(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const m=[..._].sort(),w=[...E].sort();return m.every((S,L)=>w[L]===S)}return _===E}function hr(_){return _.length>0?_[_.length-1]:null}function Ln(_){return function De(_){return!!_&&(_ instanceof K.c||(0,Se.T)(_.lift)&&(0,Se.T)(_.subscribe))}(_)?_:(0,A.jNT)(_)?(0,U.H)(Promise.resolve(_)):(0,pe.of)(_)}const tr={exact:function ft(_,E,m){if(!Mt(_.segments,E.segments)||!ei(_.segments,E.segments,m)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const w in E.children)if(!_.children[w]||!ft(_.children[w],E.children[w],m))return!1;return!0},subset:ui},Fi={exact:function Ts(_,E){return xr(_,E)},subset:function to(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(m=>yr(_[m],E[m]))},ignored:()=>!0};function on(_,E,m){return tr[m.paths](_.root,E.root,m.matrixParams)&&Fi[m.queryParams](_.queryParams,E.queryParams)&&!("exact"===m.fragment&&_.fragment!==E.fragment)}function ui(_,E,m){return nr(_,E,E.segments,m)}function nr(_,E,m,w){if(_.segments.length>m.length){const S=_.segments.slice(0,m.length);return!(!Mt(S,m)||E.hasChildren()||!ei(S,m,w))}if(_.segments.length===m.length){if(!Mt(_.segments,m)||!ei(_.segments,m,w))return!1;for(const S in E.children)if(!_.children[S]||!ui(_.children[S],E.children[S],w))return!1;return!0}{const S=m.slice(0,_.segments.length),L=m.slice(_.segments.length);return!!(Mt(_.segments,S)&&ei(_.segments,S,w)&&_.children[Ot])&&nr(_.children[Ot],E,L,w)}}function ei(_,E,m){return E.every((w,S)=>Fi[m](_[S].parameters,w.parameters))}class Rn{constructor(E=new Dt([],{}),m={},w=null){this.root=E,this.queryParams=m,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return Li.serialize(this)}}class Dt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Object.values(m).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pe(this)}}class mi{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=sr(this.parameters)),this._parameterMap}toString(){return _t(this)}}function Mt(_,E){return _.length===E.length&&_.every((m,w)=>m.path===E[w].path)}let qr=(()=>{class _{static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:function(){return new _o},providedIn:"root"})}}return _})();class _o{parse(E){const m=new Ds(E);return new Rn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${F(E.root,!0)}`,w=function an(_){const E=Object.keys(_).map(m=>{const w=_[m];return Array.isArray(w)?w.map(S=>`${V(m)}=${V(S)}`).join("&"):`${V(m)}=${V(w)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${w}${"string"==typeof E.fragment?`#${function Q(_){return encodeURI(_)}(E.fragment)}`:""}`}}const Li=new _o;function Pe(_){return _.segments.map(E=>_t(E)).join("/")}function F(_,E){if(!_.hasChildren())return Pe(_);if(E){const m=_.children[Ot]?F(_.children[Ot],!1):"",w=[];return Object.entries(_.children).forEach(([S,L])=>{S!==Ot&&w.push(`${S}:${F(L,!1)}`)}),w.length>0?`${m}(${w.join("//")})`:m}{const m=function _i(_,E){let m=[];return Object.entries(_.children).forEach(([w,S])=>{w===Ot&&(m=m.concat(E(S,w)))}),Object.entries(_.children).forEach(([w,S])=>{w!==Ot&&(m=m.concat(E(S,w)))}),m}(_,(w,S)=>S===Ot?[F(_.children[Ot],!1)]:[`${S}:${F(w,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Ot]?`${Pe(_)}/${m[0]}`:`${Pe(_)}/(${m.join("//")})`}}function M(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(_){return M(_).replace(/%3B/gi,";")}function X(_){return M(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Me(_){return decodeURIComponent(_)}function nt(_){return Me(_.replace(/\+/g,"%20"))}function _t(_){return`${X(_.path)}${function sn(_){return Object.keys(_).map(E=>`;${X(E)}=${X(_[E])}`).join("")}(_.parameters)}`}const ar=/^[^\/()?;#]+/;function en(_){const E=_.match(ar);return E?E[0]:""}const vr=/^[^\/()?;=#]+/,Zo=/^[^=?&#]+/,ws=/^[^&#]+/;class Ds{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(w[Ot]=new Dt(E,m)),w}parseSegment(){const E=en(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new A.wOt(4009,!1);return this.capture(E),new mi(Me(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=function Ir(_){const E=_.match(vr);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const S=en(this.remaining);S&&(w=S,this.capture(w))}E[Me(m)]=Me(w)}parseQueryParam(E){const m=function ti(_){const E=_.match(Zo);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const z=function fr(_){const E=_.match(ws);return E?E[0]:""}(this.remaining);z&&(w=z,this.capture(w))}const S=nt(m),L=nt(w);if(E.hasOwnProperty(S)){let z=E[S];Array.isArray(z)||(z=[z],E[S]=z),z.push(L)}else E[S]=L}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=en(this.remaining),S=this.remaining[w.length];if("/"!==S&&")"!==S&&";"!==S)throw new A.wOt(4010,!1);let L;w.indexOf(":")>-1?(L=w.slice(0,w.indexOf(":")),this.capture(L),this.capture(":")):E&&(L=Ot);const z=this.parseChildren();m[L]=1===Object.keys(z).length?z[Ot]:new Dt([],z),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new A.wOt(4011,!1)}}function gn(_){return _.segments.length>0?new Dt([],{[Ot]:_}):_}function Vi(_){const E={};for(const w of Object.keys(_.children)){const L=Vi(_.children[w]);if(w===Ot&&0===L.segments.length&&L.hasChildren())for(const[z,ye]of Object.entries(L.children))E[z]=ye;else(L.segments.length>0||L.hasChildren())&&(E[w]=L)}return function we(_){if(1===_.numberOfChildren&&_.children[Ot]){const E=_.children[Ot];return new Dt(_.segments.concat(E.segments),E.children)}return _}(new Dt(_.segments,E))}function oe(_){return _ instanceof Rn}function st(_){let E;const S=gn(function m(L){const z={};for(const _e of L.children){const ut=m(_e);z[_e.outlet]=ut}const ye=new Dt(L.url,z);return L===_&&(E=ye),ye}(_.root));return E??S}function xt(_,E,m,w){let S=_;for(;S.parent;)S=S.parent;if(0===E.length)return yn(S,S,S,m,w);const L=function yi(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Ft(!0,0,_);let E=0,m=!1;const w=_.reduce((S,L,z)=>{if("object"==typeof L&&null!=L){if(L.outlets){const ye={};return Object.entries(L.outlets).forEach(([_e,ut])=>{ye[_e]="string"==typeof ut?ut.split("/"):ut}),[...S,{outlets:ye}]}if(L.segmentPath)return[...S,L.segmentPath]}return"string"!=typeof L?[...S,L]:0===z?(L.split("/").forEach((ye,_e)=>{0==_e&&"."===ye||(0==_e&&""===ye?m=!0:".."===ye?E++:""!=ye&&S.push(ye))}),S):[...S,L]},[]);return new Ft(m,E,w)}(E);if(L.toRoot())return yn(S,S,new Dt([],{}),m,w);const z=function pc(_,E,m){if(_.isAbsolute)return new no(E,!0,0);if(!m)return new no(E,!1,NaN);if(null===m.parent)return new no(m,!0,0);const w=Ct(_.commands[0])?0:1;return function Wn(_,E,m){let w=_,S=E,L=m;for(;L>S;){if(L-=S,w=w.parent,!w)throw new A.wOt(4005,!1);S=w.segments.length}return new no(w,!1,S-L)}(m,m.segments.length-1+w,_.numberOfDoubleDots)}(L,S,_),ye=z.processChildren?yo(z.segmentGroup,z.index,L.commands):vi(z.segmentGroup,z.index,L.commands);return yn(S,z.segmentGroup,ye,m,w)}function Ct(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function kt(_){return"object"==typeof _&&null!=_&&_.outlets}function yn(_,E,m,w,S){let z,L={};w&&Object.entries(w).forEach(([_e,ut])=>{L[_e]=Array.isArray(ut)?ut.map(jt=>`${jt}`):`${ut}`}),z=_===E?m:cn(_,E,m);const ye=gn(Vi(z));return new Rn(ye,L,S)}function cn(_,E,m){const w={};return Object.entries(_.children).forEach(([S,L])=>{w[S]=L===E?m:cn(L,E,m)}),new Dt(_.segments,w)}class Ft{constructor(E,m,w){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=w,E&&w.length>0&&Ct(w[0]))throw new A.wOt(4003,!1);const S=w.find(kt);if(S&&S!==hr(w))throw new A.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class no{constructor(E,m,w){this.segmentGroup=E,this.processChildren=m,this.index=w}}function vi(_,E,m){if(_||(_=new Dt([],{})),0===_.segments.length&&_.hasChildren())return yo(_,E,m);const w=function es(_,E,m){let w=0,S=E;const L={match:!1,pathIndex:0,commandIndex:0};for(;S<_.segments.length;){if(w>=m.length)return L;const z=_.segments[S],ye=m[w];if(kt(ye))break;const _e=`${ye}`,ut=w<m.length-1?m[w+1]:null;if(S>0&&void 0===_e)break;if(_e&&ut&&"object"==typeof ut&&void 0===ut.outlets){if(!vo(_e,ut,z))return L;w+=2}else{if(!vo(_e,{},z))return L;w++}S++}return{match:!0,pathIndex:S,commandIndex:w}}(_,E,m),S=m.slice(w.commandIndex);if(w.match&&w.pathIndex<_.segments.length){const L=new Dt(_.segments.slice(0,w.pathIndex),{});return L.children[Ot]=new Dt(_.segments.slice(w.pathIndex),_.children),yo(L,0,S)}return w.match&&0===S.length?new Dt(_.segments,{}):w.match&&!_.hasChildren()?As(_,E,m):w.match?yo(_,0,S):As(_,E,m)}function yo(_,E,m){if(0===m.length)return new Dt(_.segments,{});{const w=function Ui(_){return kt(_[0])?_[0].outlets:{[Ot]:_}}(m),S={};if(Object.keys(w).some(L=>L!==Ot)&&_.children[Ot]&&1===_.numberOfChildren&&0===_.children[Ot].segments.length){const L=yo(_.children[Ot],E,m);return new Dt(_.segments,L.children)}return Object.entries(w).forEach(([L,z])=>{"string"==typeof z&&(z=[z]),null!==z&&(S[L]=vi(_.children[L],E,z))}),Object.entries(_.children).forEach(([L,z])=>{void 0===w[L]&&(S[L]=z)}),new Dt(_.segments,S)}}function As(_,E,m){const w=_.segments.slice(0,E);let S=0;for(;S<m.length;){const L=m[S];if(kt(L)){const _e=gc(L.outlets);return new Dt(w,_e)}if(0===S&&Ct(m[0])){w.push(new mi(_.segments[E].path,mc(m[0]))),S++;continue}const z=kt(L)?L.outlets[Ot]:`${L}`,ye=S<m.length-1?m[S+1]:null;z&&ye&&Ct(ye)?(w.push(new mi(z,mc(ye))),S+=2):(w.push(new mi(z,{})),S++)}return new Dt(w,{})}function gc(_){const E={};return Object.entries(_).forEach(([m,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(E[m]=As(new Dt([],{}),0,w))}),E}function mc(_){const E={};return Object.entries(_).forEach(([m,w])=>E[m]=`${w}`),E}function vo(_,E,m){return _==m.path&&xr(E,m.parameters)}const ts="imperative";class ci{constructor(E,m){this.id=E,this.url=m}}class ma extends ci{constructor(E,m,w="imperative",S=null){super(E,m),this.type=0,this.navigationTrigger=w,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ro extends ci{constructor(E,m,w){super(E,m),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wr extends ci{constructor(E,m,w,S){super(E,m),this.reason=w,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bi extends ci{constructor(E,m,w,S){super(E,m),this.reason=w,this.code=S,this.type=16}}class Nr extends ci{constructor(E,m,w,S){super(E,m),this.error=w,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _c extends ci{constructor(E,m,w,S){super(E,m),this.urlAfterRedirects=w,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _a extends ci{constructor(E,m,w,S){super(E,m),this.urlAfterRedirects=w,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class id extends ci{constructor(E,m,w,S,L){super(E,m),this.urlAfterRedirects=w,this.state=S,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class od extends ci{constructor(E,m,w,S){super(E,m),this.urlAfterRedirects=w,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sd extends ci{constructor(E,m,w,S){super(E,m),this.urlAfterRedirects=w,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yc{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vc{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ic{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ad{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class su{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ya{constructor(E,m,w){this.routerEvent=E,this.position=m,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class au{}class bs{constructor(E){this.url=E}}class uu{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ns,this.attachRef=null}}let ns=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,w){const S=this.getOrCreateContext(m);S.outlet=w,this.contexts.set(m,S)}onChildOutletDestroyed(m){const w=this.getContext(m);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let w=this.getContext(m);return w||(w=new uu,this.contexts.set(m,w)),w}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();class rs{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=va(E,this._root);return m?m.children.map(w=>w.value):[]}firstChild(E){const m=va(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=rn(E,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==E)}pathFromRoot(E){return rn(E,this._root).map(m=>m.value)}}function va(_,E){if(_===E.value)return E;for(const m of E.children){const w=va(_,m);if(w)return w}return null}function rn(_,E){if(_===E.value)return[E];for(const m of E.children){const w=rn(_,m);if(w.length)return w.unshift(E),w}return[]}class xn{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function jn(_){const E={};return _&&_.children.forEach(m=>E[m.value.outlet]=m),E}class io extends rs{constructor(E,m){super(E),this.snapshot=m,dt(this,E)}toString(){return this.snapshot.toString()}}function jr(_,E){const m=function ud(_,E){const z=new Ia([],{},{},"",{},Ot,E,null,{});return new Vn("",new xn(z,[]))}(0,E),w=new me.t([new mi("",{})]),S=new me.t({}),L=new me.t({}),z=new me.t({}),ye=new me.t(""),_e=new oo(w,S,z,ye,L,Ot,E,m.root);return _e.snapshot=m.root,new io(new xn(_e,[]),m)}class oo{constructor(E,m,w,S,L,z,ye,_e){this.urlSubject=E,this.paramsSubject=m,this.queryParamsSubject=w,this.fragmentSubject=S,this.dataSubject=L,this.outlet=z,this.component=ye,this._futureSnapshot=_e,this.title=this.dataSubject?.pipe((0,rt.T)(ut=>ut[Tr]))??(0,pe.of)(void 0),this.url=E,this.params=m,this.queryParams=w,this.fragment=S,this.data=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.T)(E=>sr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.T)(E=>sr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(_,E="emptyOnly"){const m=_.pathFromRoot;let w=0;if("always"!==E)for(w=m.length-1;w>=1;){const S=m[w],L=m[w-1];if(S.routeConfig&&""===S.routeConfig.path)w--;else{if(L.component)break;w--}}return function cu(_){return _.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(w))}class Ia{get title(){return this.data?.[Tr]}constructor(E,m,w,S,L,z,ye,_e,ut){this.url=E,this.params=m,this.queryParams=w,this.fragment=S,this.data=L,this.outlet=z,this.component=ye,this.routeConfig=_e,this._resolve=ut}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vn extends rs{constructor(E,m){super(m),this.url=E,dt(this,m)}toString(){return Ut(this._root)}}function dt(_,E){E.value._routerState=_,E.children.forEach(m=>dt(_,m))}function Ut(_){const E=_.children.length>0?` { ${_.children.map(Ut).join(", ")} } `:"";return`${_.value}${E}`}function Un(_){if(_.snapshot){const E=_.snapshot,m=_._futureSnapshot;_.snapshot=m,xr(E.queryParams,m.queryParams)||_.queryParamsSubject.next(m.queryParams),E.fragment!==m.fragment&&_.fragmentSubject.next(m.fragment),xr(E.params,m.params)||_.paramsSubject.next(m.params),function Vt(_,E){if(_.length!==E.length)return!1;for(let m=0;m<_.length;++m)if(!xr(_[m],E[m]))return!1;return!0}(E.url,m.url)||_.urlSubject.next(m.url),xr(E.data,m.data)||_.dataSubject.next(m.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Kr(_,E){const m=xr(_.params,E.params)&&function mo(_,E){return Mt(_,E)&&_.every((m,w)=>xr(m.parameters,E[w].parameters))}(_.url,E.url);return m&&!(!_.parent!=!E.parent)&&(!_.parent||Kr(_.parent,E.parent))}let Io=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new A.bkB,this.deactivateEvents=new A.bkB,this.attachEvents=new A.bkB,this.detachEvents=new A.bkB,this.parentContexts=(0,A.WQX)(ns),this.location=(0,A.WQX)(A.c1b),this.changeDetector=(0,A.WQX)(A.gRc),this.environmentInjector=(0,A.WQX)(A.uvJ),this.inputBinder=(0,A.WQX)(Ii,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:w,previousValue:S}=m.name;if(w)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,w){this.activated=m,this._activatedRoute=w,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,w){if(this.isActivated)throw new A.wOt(4013,!1);this._activatedRoute=m;const S=this.location,z=m.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,_e=new $n(m,ye,S.injector);this.activated=S.createComponent(z,{index:S.length,injector:_e,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275dir=A.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A.OA$]})}}return _})();class $n{constructor(E,m,w){this.route=E,this.childContexts=m,this.parent=w}get(E,m){return E===oo?this.route:E===ns?this.childContexts:this.parent.get(E,m)}}const Ii=new A.nKC("");let Xn=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:w}=m,S=ze([w.queryParams,w.params,w.data]).pipe((0,Nt.n)(([L,z,ye],_e)=>(ye={...L,...z,...ye},0===_e?(0,pe.of)(ye):Promise.resolve(ye)))).subscribe(L=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(m);const z=(0,A.HJs)(w.component);if(z)for(const{templateName:ye}of z.inputs)m.activatedComponentRef.setInput(ye,L[ye]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,S)}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac})}}return _})();function ji(_,E,m){if(m&&_.shouldReuseRoute(E.value,m.value.snapshot)){const w=m.value;w._futureSnapshot=E.value;const S=function Bt(_,E,m){return E.children.map(w=>{for(const S of m.children)if(_.shouldReuseRoute(w.value,S.value.snapshot))return ji(_,w,S);return ji(_,w)})}(_,E,m);return new xn(w,S)}{if(_.shouldAttach(E.value)){const L=_.retrieve(E.value);if(null!==L){const z=L.route;return z.value._futureSnapshot=E.value,z.children=E.children.map(ye=>ji(_,ye)),z}}const w=function xo(_){return new oo(new me.t(_.url),new me.t(_.params),new me.t(_.queryParams),new me.t(_.fragment),new me.t(_.data),_.outlet,_.component,_)}(E.value),S=E.children.map(L=>ji(_,L));return new xn(w,S)}}const Ss="ngNavigationCancelingError";function No(_,E){const{redirectTo:m,navigationBehaviorOptions:w}=oe(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,S=Hn(!1,0,E);return S.url=m,S.navigationBehaviorOptions=w,S}function Hn(_,E,m){const w=new Error("NavigationCancelingError: "+(_||""));return w[Ss]=!0,w.cancellationCode=E,m&&(w.url=m),w}function $i(_){return _&&_[Ss]}let ni=(()=>{class _{static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275cmp=A.VBU({type:_,selectors:[["ng-component"]],standalone:!0,features:[A.aNF],decls:1,vars:0,template:function(w,S){1&w&&A.nrm(0,"router-outlet")},dependencies:[Io],encapsulation:2})}}return _})();function wc(_){const E=_.children&&_.children.map(wc),m=E?{..._,children:E}:{..._};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==Ot&&(m.component=ni),m}function pr(_){return _.outlet||Ot}function zi(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Dc{constructor(E,m,w,S,L){this.routeReuseStrategy=E,this.futureState=m,this.currState=w,this.forwardEvent=S,this.inputBindingEnabled=L}activate(E){const m=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,w,E),Un(this.futureState.root),this.activateChildRoutes(m,w,E)}deactivateChildRoutes(E,m,w){const S=jn(m);E.children.forEach(L=>{const z=L.value.outlet;this.deactivateRoutes(L,S[z],w),delete S[z]}),Object.values(S).forEach(L=>{this.deactivateRouteAndItsChildren(L,w)})}deactivateRoutes(E,m,w){const S=E.value,L=m?m.value:null;if(S===L)if(S.component){const z=w.getContext(S.outlet);z&&this.deactivateChildRoutes(E,m,z.children)}else this.deactivateChildRoutes(E,m,w);else L&&this.deactivateRouteAndItsChildren(m,w)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const w=m.getContext(E.value.outlet),S=w&&E.value.component?w.children:m,L=jn(E);for(const z of Object.keys(L))this.deactivateRouteAndItsChildren(L[z],S);if(w&&w.outlet){const z=w.outlet.detach(),ye=w.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:z,route:E,contexts:ye})}}deactivateRouteAndOutlet(E,m){const w=m.getContext(E.value.outlet),S=w&&E.value.component?w.children:m,L=jn(E);for(const z of Object.keys(L))this.deactivateRouteAndItsChildren(L[z],S);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(E,m,w){const S=jn(m);E.children.forEach(L=>{this.activateRoutes(L,S[L.value.outlet],w),this.forwardEvent(new su(L.value.snapshot))}),E.children.length&&this.forwardEvent(new ad(E.value.snapshot))}activateRoutes(E,m,w){const S=E.value,L=m?m.value:null;if(Un(S),S===L)if(S.component){const z=w.getOrCreateContext(S.outlet);this.activateChildRoutes(E,m,z.children)}else this.activateChildRoutes(E,m,w);else if(S.component){const z=w.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const ye=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),z.children.onOutletReAttached(ye.contexts),z.attachRef=ye.componentRef,z.route=ye.route.value,z.outlet&&z.outlet.attach(ye.componentRef,ye.route.value),Un(ye.route.value),this.activateChildRoutes(E,null,z.children)}else{const ye=zi(S.snapshot);z.attachRef=null,z.route=S,z.injector=ye,z.outlet&&z.outlet.activateWith(S,z.injector),this.activateChildRoutes(E,null,z.children)}}else this.activateChildRoutes(E,null,w)}}class Qr{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class gr{constructor(E,m){this.component=E,this.route=m}}function Ea(_,E,m){const w=_._root;return ri(w,E?E._root:null,m,[w.value])}function Dn(_,E){const m=Symbol(),w=E.get(_,m);return w===m?"function"!=typeof _||(0,A.LfX)(_)?E.get(_):_:w}function ri(_,E,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const L=jn(E);return _.children.forEach(z=>{(function Ta(_,E,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const L=_.value,z=E?E.value:null,ye=m?m.getContext(_.value.outlet):null;if(z&&L.routeConfig===z.routeConfig){const _e=function du(_,E,m){if("function"==typeof m)return m(_,E);switch(m){case"pathParamsChange":return!Mt(_.url,E.url);case"pathParamsOrQueryParamsChange":return!Mt(_.url,E.url)||!xr(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kr(_,E)||!xr(_.queryParams,E.queryParams);default:return!Kr(_,E)}}(z,L,L.routeConfig.runGuardsAndResolvers);_e?S.canActivateChecks.push(new Qr(w)):(L.data=z.data,L._resolvedData=z._resolvedData),ri(_,E,L.component?ye?ye.children:null:m,w,S),_e&&ye&&ye.outlet&&ye.outlet.isActivated&&S.canDeactivateChecks.push(new gr(ye.outlet.component,z))}else z&&Ms(E,ye,S),S.canActivateChecks.push(new Qr(w)),ri(_,null,L.component?ye?ye.children:null:m,w,S)})(z,L[z.value.outlet],m,w.concat([z.value]),S),delete L[z.value.outlet]}),Object.entries(L).forEach(([z,ye])=>Ms(ye,m.getContext(z),S)),S}function Ms(_,E,m){const w=jn(_),S=_.value;Object.entries(w).forEach(([L,z])=>{Ms(z,S.component?E?E.children.getContext(L):null:E,m)}),m.canDeactivateChecks.push(new gr(S.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,S))}function wa(_){return"function"==typeof _}function Rc(_){return _ instanceof Zt||"EmptyError"===_?.name}const Fo=Symbol("INITIAL_VALUE");function Ti(){return(0,Nt.n)(_=>ze(_.map(E=>E.pipe(Br(1),function ai(..._){const E=(0,Y.lI)(_);return(0,Cn.N)((m,w)=>{(E?qe(_,m,E):qe(_,m)).subscribe(w)})}(Fo)))).pipe((0,rt.T)(E=>{for(const m of E)if(!0!==m){if(m===Fo)return Fo;if(!1===m||m instanceof Rn)return m}return!0}),he(E=>E!==Fo),Br(1)))}function li(_){return(0,ht.F)((0,Je.M)(E=>{if(oe(E))throw No(0,E)}),(0,rt.T)(E=>!0===E))}class ss{constructor(E){this.segmentGroup=E||null}}class ur{constructor(E){this.urlTree=E}}function Gi(_){return tt(new ss(_))}function Yr(_){return tt(new ur(_))}class nf{constructor(E,m){this.urlSerializer=E,this.urlTree=m}noMatchError(E){return new A.wOt(4002,!1)}lineralizeSegments(E,m){let w=[],S=m.root;for(;;){if(w=w.concat(S.segments),0===S.numberOfChildren)return(0,pe.of)(w);if(S.numberOfChildren>1||!S.children[Ot])return tt(new A.wOt(4e3,!1));S=S.children[Ot]}}applyRedirectCommands(E,m,w){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,w)}applyRedirectCreateUrlTree(E,m,w,S){const L=this.createSegmentGroup(E,m.root,w,S);return new Rn(L,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const w={};return Object.entries(E).forEach(([S,L])=>{if("string"==typeof L&&L.startsWith(":")){const ye=L.substring(1);w[S]=m[ye]}else w[S]=L}),w}createSegmentGroup(E,m,w,S){const L=this.createSegments(E,m.segments,w,S);let z={};return Object.entries(m.children).forEach(([ye,_e])=>{z[ye]=this.createSegmentGroup(E,_e,w,S)}),new Dt(L,z)}createSegments(E,m,w,S){return m.map(L=>L.path.startsWith(":")?this.findPosParam(E,L,S):this.findOrReturn(L,w))}findPosParam(E,m,w){const S=w[m.path.substring(1)];if(!S)throw new A.wOt(4001,!1);return S}findOrReturn(E,m){let w=0;for(const S of m){if(S.path===E.path)return m.splice(w),S;w++}return E}}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xc(_,E,m,w,S){const L=xs(_,E,m);return L.matched?(w=function Eo(_,E){return _.providers&&!_._injector&&(_._injector=(0,A.Ol2)(_.providers,E,`Route: ${_.path}`)),_._injector??E}(E,w),function pd(_,E,m,w){const S=E.canMatch;if(!S||0===S.length)return(0,pe.of)(!0);const L=S.map(z=>{const ye=Dn(z,_);return Ln(function dd(_){return _&&wa(_.canMatch)}(ye)?ye.canMatch(E,m):_.runInContext(()=>ye(E,m)))});return(0,pe.of)(L).pipe(Ti(),li())}(w,E,m).pipe((0,rt.T)(z=>!0===z?L:{...as}))):(0,pe.of)(L)}function xs(_,E,m){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||m.length>0)?{...as}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(E.matcher||Yt)(m,_,E);if(!S)return{...as};const L={};Object.entries(S.posParams??{}).forEach(([ye,_e])=>{L[ye]=_e.path});const z=S.consumed.length>0?{...L,...S.consumed[S.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:z,positionalParamSegments:S.posParams??{}}}function Aa(_,E,m,w){return m.length>0&&function gu(_,E,m){return m.some(w=>wo(_,E,w)&&pr(w)!==Ot)}(_,m,w)?{segmentGroup:new Dt(E,rf(w,new Dt(m,_.children))),slicedSegments:[]}:0===m.length&&function sf(_,E,m){return m.some(w=>wo(_,E,w))}(_,m,w)?{segmentGroup:new Dt(_.segments,Ns(_,0,m,w,_.children)),slicedSegments:m}:{segmentGroup:new Dt(_.segments,_.children),slicedSegments:m}}function Ns(_,E,m,w,S){const L={};for(const z of w)if(wo(_,m,z)&&!S[pr(z)]){const ye=new Dt([],{});L[pr(z)]=ye}return{...S,...L}}function rf(_,E){const m={};m[Ot]=E;for(const w of _)if(""===w.path&&pr(w)!==Ot){const S=new Dt([],{});m[pr(w)]=S}return m}function wo(_,E,m){return(!(_.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}class yu{constructor(E,m,w,S,L,z,ye){this.injector=E,this.configLoader=m,this.rootComponentType=w,this.config=S,this.urlTree=L,this.paramsInheritanceStrategy=z,this.urlSerializer=ye,this.allowRedirects=!0,this.applyRedirects=new nf(this.urlSerializer,this.urlTree)}noMatchError(E){return new A.wOt(4002,!1)}recognize(){const E=Aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Ot).pipe(Qt(m=>{if(m instanceof ur)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof ss?this.noMatchError(m):m}),(0,rt.T)(m=>{const w=new Ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),S=new xn(w,m),L=new Vn("",S),z=function Oe(_,E,m=null,w=null){return xt(st(_),E,m,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return z.queryParams=this.urlTree.queryParams,L.url=this.urlSerializer.serialize(z),this.inheritParamsAndData(L._root),{state:L,tree:z}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,Ot).pipe(Qt(w=>{throw w instanceof ss?this.noMatchError(w):w}))}inheritParamsAndData(E){const m=E.value,w=is(m,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),E.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(E,m,w,S){return 0===w.segments.length&&w.hasChildren()?this.processChildren(E,m,w):this.processSegment(E,m,w,w.segments,S,!0)}processChildren(E,m,w){const S=[];for(const L of Object.keys(w.children))"primary"===L?S.unshift(L):S.push(L);return(0,U.H)(S).pipe(Le(L=>{const z=w.children[L],ye=function lu(_,E){const m=_.filter(w=>pr(w)===E);return m.push(..._.filter(w=>pr(w)!==E)),m}(m,L);return this.processSegmentGroup(E,ye,z,L)}),function _n(_,E){return(0,Cn.N)(function Pt(_,E,m,w,S){return(L,z)=>{let ye=m,_e=E,ut=0;L.subscribe((0,Xe._)(z,jt=>{const Mn=ut++;_e=ye?_(_e,jt,Mn):(ye=!0,jt),w&&z.next(_e)},S&&(()=>{ye&&z.next(_e),z.complete()})))}}(_,E,arguments.length>=2,!0))}((L,z)=>(L.push(...z),L)),re(null),function Zr(_,E){const m=arguments.length>=2;return w=>w.pipe(_?he((S,L)=>_(S,L,w)):Ve.D,fn(1),m?re(E):Z(()=>new Zt))}(),(0,de.Z)(L=>{if(null===L)return Gi(w);const z=O(L);return function gd(_){_.sort((E,m)=>E.value.outlet===Ot?-1:m.value.outlet===Ot?1:E.value.outlet.localeCompare(m.value.outlet))}(z),(0,pe.of)(z)}))}processSegment(E,m,w,S,L,z){return(0,U.H)(m).pipe(Le(ye=>this.processSegmentAgainstRoute(ye._injector??E,m,ye,w,S,L,z).pipe(Qt(_e=>{if(_e instanceof ss)return(0,pe.of)(null);throw _e}))),ve(ye=>!!ye),Qt(ye=>{if(Rc(ye))return function Ca(_,E,m){return 0===E.length&&!_.children[m]}(w,S,L)?(0,pe.of)([]):Gi(w);throw ye}))}processSegmentAgainstRoute(E,m,w,S,L,z,ye){return function mu(_,E,m,w){return!!(pr(_)===w||w!==Ot&&wo(E,m,_))&&("**"===_.path||xs(E,_,m).matched)}(w,S,L,z)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(E,S,w,L,z,ye):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,S,m,w,L,z):Gi(S):Gi(S)}expandSegmentAgainstRouteUsingRedirect(E,m,w,S,L,z){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,w,S,z):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,w,S,L,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,w,S){const L=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Yr(L):this.applyRedirects.lineralizeSegments(w,L).pipe((0,de.Z)(z=>{const ye=new Dt(z,{});return this.processSegment(E,m,ye,z,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,w,S,L,z){const{matched:ye,consumedSegments:_e,remainingSegments:ut,positionalParamSegments:jt}=xs(m,S,L);if(!ye)return Gi(m);const Mn=this.applyRedirects.applyRedirectCommands(_e,S.redirectTo,jt);return S.redirectTo.startsWith("/")?Yr(Mn):this.applyRedirects.lineralizeSegments(S,Mn).pipe((0,de.Z)(wn=>this.processSegment(E,w,m,wn.concat(ut),z,!1)))}matchSegmentAgainstRoute(E,m,w,S,L,z){let ye;if("**"===w.path){const _e=S.length>0?hr(S).parameters:{},ut=new Ia(S,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x(w),pr(w),w.component??w._loadedComponent??null,w,G(w));ye=(0,pe.of)({snapshot:ut,consumedSegments:[],remainingSegments:[]}),m.children={}}else ye=xc(m,w,S,E).pipe((0,rt.T)(({matched:_e,consumedSegments:ut,remainingSegments:jt,parameters:Mn})=>_e?{snapshot:new Ia(ut,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x(w),pr(w),w.component??w._loadedComponent??null,w,G(w)),consumedSegments:ut,remainingSegments:jt}:null));return ye.pipe((0,Nt.n)(_e=>null===_e?Gi(m):this.getChildConfig(E=w._injector??E,w,S).pipe((0,Nt.n)(({routes:ut})=>{const jt=w._loadedInjector??E,{snapshot:Mn,consumedSegments:wn,remainingSegments:Ao}=_e,{segmentGroup:Ra,slicedSegments:Ls}=Aa(m,wn,Ao,ut);if(0===Ls.length&&Ra.hasChildren())return this.processChildren(jt,ut,Ra).pipe((0,rt.T)(Pa=>null===Pa?null:[new xn(Mn,Pa)]));if(0===ut.length&&0===Ls.length)return(0,pe.of)([new xn(Mn,[])]);const Vc=pr(w)===L;return this.processSegment(jt,ut,Ra,Ls,Vc?Ot:L,!0).pipe((0,rt.T)(Pa=>[new xn(Mn,Pa)]))}))))}getChildConfig(E,m,w){return m.children?(0,pe.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,pe.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function To(_,E,m,w){const S=E.canLoad;if(void 0===S||0===S.length)return(0,pe.of)(!0);const L=S.map(z=>{const ye=Dn(z,_);return Ln(function Ac(_){return _&&wa(_.canLoad)}(ye)?ye.canLoad(E,m):_.runInContext(()=>ye(E,m)))});return(0,pe.of)(L).pipe(Ti(),li())}(E,m,w).pipe((0,de.Z)(S=>S?this.configLoader.loadChildren(E,m).pipe((0,Je.M)(L=>{m._loadedRoutes=L.routes,m._loadedInjector=L.injector})):function Da(_){return tt(Hn(!1,3))}())):(0,pe.of)({routes:[],injector:E})}}function v(_){const E=_.value.routeConfig;return E&&""===E.path}function O(_){const E=[],m=new Set;for(const w of _){if(!v(w)){E.push(w);continue}const S=E.find(L=>w.value.routeConfig===L.value.routeConfig);void 0!==S?(S.children.push(...w.children),m.add(S)):E.push(w)}for(const w of m){const S=O(w.children);E.push(new xn(w.value,S))}return E.filter(w=>!m.has(w))}function x(_){return _.data||{}}function G(_){return _.resolve||{}}function tn(_){return"string"==typeof _.title||null===_.title}function On(_){return(0,Nt.n)(E=>{const m=_(E);return m?(0,U.H)(m).pipe((0,rt.T)(()=>E)):(0,pe.of)(E)})}const bn=new A.nKC("ROUTES");let mr=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,A.WQX)(A.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,pe.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const w=Ln(m.loadComponent()).pipe((0,rt.T)(Lo),(0,Je.M)(L=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=L}),Yn(()=>{this.componentLoaders.delete(m)})),S=new Ge(w,()=>new Ze.B).pipe(Ur());return this.componentLoaders.set(m,S),S}loadChildren(m,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,pe.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const L=function so(_,E,m,w){return Ln(_.loadChildren()).pipe((0,rt.T)(Lo),(0,de.Z)(S=>S instanceof A.Co$||Array.isArray(S)?(0,pe.of)(S):(0,U.H)(E.compileModuleAsync(S))),(0,rt.T)(S=>{w&&w(_);let L,z,ye=!1;return Array.isArray(S)?(z=S,!0):(L=S.create(m).injector,z=L.get(bn,[],{optional:!0,self:!0}).flat()),{routes:z.map(wc),injector:L}}))}(w,this.compiler,m,this.onLoadEndListener).pipe(Yn(()=>{this.childrenLoaders.delete(w)})),z=new Ge(L,()=>new Ze.B).pipe(Ur());return this.childrenLoaders.set(w,z),z}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function Lo(_){return function wi(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let cr=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze.B,this.transitionAbortSubject=new Ze.B,this.configLoader=(0,A.WQX)(mr),this.environmentInjector=(0,A.WQX)(A.uvJ),this.urlSerializer=(0,A.WQX)(qr),this.rootContexts=(0,A.WQX)(ns),this.inputBindingEnabled=null!==(0,A.WQX)(Ii,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new vc(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new yc(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:w})}setupNavigations(m,w,S){return this.transitions=new me.t({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:m.urlHandlingStrategy.extract(w),urlAfterRedirects:m.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ts,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(he(L=>0!==L.id),(0,rt.T)(L=>({...L,extractedUrl:m.urlHandlingStrategy.extract(L.rawUrl)})),(0,Nt.n)(L=>{this.currentTransition=L;let z=!1,ye=!1;return(0,pe.of)(L).pipe((0,Je.M)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Nt.n)(_e=>{const ut=_e.currentBrowserUrl.toString(),jt=!m.navigated||_e.extractedUrl.toString()!==ut||ut!==_e.currentUrlTree.toString();if(!jt&&"reload"!==(_e.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const wn="";return this.events.next(new Bi(_e.id,this.urlSerializer.serialize(_e.rawUrl),wn,0)),_e.resolve(null),Ye.w}if(m.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,pe.of)(_e).pipe((0,Nt.n)(wn=>{const Ao=this.transitions?.getValue();return this.events.next(new ma(wn.id,this.urlSerializer.serialize(wn.extractedUrl),wn.source,wn.restoredState)),Ao!==this.transitions?.getValue()?Ye.w:Promise.resolve(wn)}),function Te(_,E,m,w,S,L){return(0,de.Z)(z=>function _u(_,E,m,w,S,L,z="emptyOnly"){return new yu(_,E,m,w,S,z,L).recognize()}(_,E,m,w,z.extractedUrl,S,L).pipe((0,rt.T)(({state:ye,tree:_e})=>({...z,targetSnapshot:ye,urlAfterRedirects:_e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Je.M)(wn=>{L.targetSnapshot=wn.targetSnapshot,L.urlAfterRedirects=wn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wn.urlAfterRedirects};const Ao=new _c(wn.id,this.urlSerializer.serialize(wn.extractedUrl),this.urlSerializer.serialize(wn.urlAfterRedirects),wn.targetSnapshot);this.events.next(Ao)}));if(jt&&m.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:wn,extractedUrl:Ao,source:Ra,restoredState:Ls,extras:Vc}=_e,Pa=new ma(wn,this.urlSerializer.serialize(Ao),Ra,Ls);this.events.next(Pa);const di=jr(0,this.rootComponentType).snapshot;return this.currentTransition=L={..._e,targetSnapshot:di,urlAfterRedirects:Ao,extras:{...Vc,skipLocationChange:!1,replaceUrl:!1}},(0,pe.of)(L)}{const wn="";return this.events.next(new Bi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),wn,1)),_e.resolve(null),Ye.w}}),(0,Je.M)(_e=>{const ut=new _a(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(ut)}),(0,rt.T)(_e=>(this.currentTransition=L={..._e,guards:Ea(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},L)),function fd(_,E){return(0,de.Z)(m=>{const{targetSnapshot:w,currentSnapshot:S,guards:{canActivateChecks:L,canDeactivateChecks:z}}=m;return 0===z.length&&0===L.length?(0,pe.of)({...m,guardsResult:!0}):function Ug(_,E,m,w){return(0,U.H)(_).pipe((0,de.Z)(S=>function tf(_,E,m,w,S){const L=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,pe.of)(!0);const z=L.map(ye=>{const _e=zi(E)??S,ut=Dn(ye,_e);return Ln(function bc(_){return _&&wa(_.canDeactivate)}(ut)?ut.canDeactivate(_,E,m,w):_e.runInContext(()=>ut(_,E,m,w))).pipe(ve())});return(0,pe.of)(z).pipe(Ti())}(S.component,S.route,m,E,w)),ve(S=>!0!==S,!0))}(z,w,S,_).pipe((0,de.Z)(ye=>ye&&function Vg(_){return"boolean"==typeof _}(ye)?function hu(_,E,m,w){return(0,U.H)(E).pipe(Le(S=>qe(function pu(_,E){return null!==_&&E&&E(new Ic(_)),(0,pe.of)(!0)}(S.route.parent,w),function fu(_,E){return null!==_&&E&&E(new Cs(_)),(0,pe.of)(!0)}(S.route,w),function Pc(_,E,m){const w=E[E.length-1],L=E.slice(0,E.length-1).reverse().map(z=>function Dr(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(z)).filter(z=>null!==z).map(z=>ct(()=>{const ye=z.guards.map(_e=>{const ut=zi(z.node)??m,jt=Dn(_e,ut);return Ln(function ld(_){return _&&wa(_.canActivateChild)}(jt)?jt.canActivateChild(w,_):ut.runInContext(()=>jt(w,_))).pipe(ve())});return(0,pe.of)(ye).pipe(Ti())}));return(0,pe.of)(L).pipe(Ti())}(_,S.path,m),function Bg(_,E,m){const w=E.routeConfig?E.routeConfig.canActivate:null;if(!w||0===w.length)return(0,pe.of)(!0);const S=w.map(L=>ct(()=>{const z=zi(E)??m,ye=Dn(L,z);return Ln(function Cc(_){return _&&wa(_.canActivate)}(ye)?ye.canActivate(E,_):z.runInContext(()=>ye(E,_))).pipe(ve())}));return(0,pe.of)(S).pipe(Ti())}(_,S.route,m))),ve(S=>!0!==S,!0))}(w,L,_,E):(0,pe.of)(ye)),(0,rt.T)(ye=>({...m,guardsResult:ye})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,Je.M)(_e=>{if(L.guardsResult=_e.guardsResult,oe(_e.guardsResult))throw No(0,_e.guardsResult);const ut=new id(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(ut)}),he(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",3),!1)),On(_e=>{if(_e.guards.canActivateChecks.length)return(0,pe.of)(_e).pipe((0,Je.M)(ut=>{const jt=new od(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(jt)}),(0,Nt.n)(ut=>{let jt=!1;return(0,pe.of)(ut).pipe(function ke(_,E){return(0,de.Z)(m=>{const{targetSnapshot:w,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,pe.of)(m);let L=0;return(0,U.H)(S).pipe(Le(z=>function It(_,E,m,w){const S=_.routeConfig,L=_._resolve;return void 0!==S?.title&&!tn(S)&&(L[Tr]=S.title),function Pn(_,E,m,w){const S=function Nn(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===S.length)return(0,pe.of)({});const L={};return(0,U.H)(S).pipe((0,de.Z)(z=>function En(_,E,m,w){const S=zi(E)??w,L=Dn(_,S);return Ln(L.resolve?L.resolve(E,m):S.runInContext(()=>L(E,m)))}(_[z],E,m,w).pipe(ve(),(0,Je.M)(ye=>{L[z]=ye}))),fn(1),function qt(_){return(0,rt.T)(()=>_)}(L),Qt(z=>Rc(z)?Ye.w:tt(z)))}(L,_,E,w).pipe((0,rt.T)(z=>(_._resolvedData=z,_.data=is(_,m).resolve,S&&tn(S)&&(_.data[Tr]=S.title),null)))}(z.route,w,_,E)),(0,Je.M)(()=>L++),fn(1),(0,de.Z)(z=>L===S.length?(0,pe.of)(m):Ye.w))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Je.M)({next:()=>jt=!0,complete:()=>{jt||this.cancelNavigationTransition(ut,"",2)}}))}),(0,Je.M)(ut=>{const jt=new sd(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(jt)}))}),On(_e=>{const ut=jt=>{const Mn=[];jt.routeConfig?.loadComponent&&!jt.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(jt.routeConfig).pipe((0,Je.M)(wn=>{jt.component=wn}),(0,rt.T)(()=>{})));for(const wn of jt.children)Mn.push(...ut(wn));return Mn};return ze(ut(_e.targetSnapshot.root)).pipe(re(),Br(1))}),On(()=>this.afterPreactivation()),(0,rt.T)(_e=>{const ut=function Ei(_,E,m){const w=ji(_,E._root,m?m._root:void 0);return new io(w,E)}(m.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=L={..._e,targetRouterState:ut},L}),(0,Je.M)(()=>{this.events.next(new au)}),((_,E,m,w)=>(0,rt.T)(S=>(new Dc(E,S.targetRouterState,S.currentRouterState,m,w).activate(_),S)))(this.rootContexts,m.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),Br(1),(0,Je.M)({next:_e=>{z=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ro(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),m.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{z=!0}}),function pt(_){return(0,Cn.N)((E,m)=>{(0,Fe.Tg)(_).subscribe((0,Xe._)(m,()=>m.complete(),Sn.l)),!m.closed&&E.subscribe(m)})}(this.transitionAbortSubject.pipe((0,Je.M)(_e=>{throw _e}))),Yn(()=>{z||ye||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),Qt(_e=>{if(ye=!0,$i(_e))this.events.next(new wr(L.id,this.urlSerializer.serialize(L.extractedUrl),_e.message,_e.cancellationCode)),function Rs(_){return $i(_)&&oe(_.url)}(_e)?this.events.next(new bs(_e.url)):L.resolve(!1);else{this.events.next(new Nr(L.id,this.urlSerializer.serialize(L.extractedUrl),_e,L.targetSnapshot??void 0));try{L.resolve(m.errorHandler(_e))}catch(ut){L.reject(ut)}}return Ye.w}))}))}cancelNavigationTransition(m,w,S){const L=new wr(m.id,this.urlSerializer.serialize(m.extractedUrl),w,S);this.events.next(L),m.resolve(!1)}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function ao(_){return _!==ts}let Vo=(()=>{class _{buildTitle(m){let w,S=m.root;for(;void 0!==S;)w=this.getResolvedTitleForRoute(S)??w,S=S.children.find(L=>L.outlet===Ot);return w}getResolvedTitleForRoute(m){return m.data[Tr]}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:function(){return(0,A.WQX)(us)},providedIn:"root"})}}return _})(),us=(()=>{class _ extends Vo{constructor(m){super(),this.title=m}updateTitle(m){const w=this.buildTitle(m);void 0!==w&&this.title.setTitle(w)}static{this.\u0275fac=function(w){return new(w||_)(A.KVO(Wr.hE))}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),md=(()=>{class _{static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:function(){return(0,A.WQX)(Tv)},providedIn:"root"})}}return _})();class af{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Tv=(()=>{class _ extends af{static{this.\u0275fac=function(){let m;return function(S){return(m||(m=A.xGo(_)))(S||_)}}()}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();const _d=new A.nKC("",{providedIn:"root",factory:()=>({})});let jg=(()=>{class _{static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:function(){return(0,A.WQX)($g)},providedIn:"root"})}}return _})(),$g=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,w){return m}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var Os=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Os||{});function Nc(_,E){_.events.pipe(he(m=>m instanceof ro||m instanceof wr||m instanceof Nr||m instanceof Bi),(0,rt.T)(m=>m instanceof ro||m instanceof Bi?Os.COMPLETE:m instanceof wr&&(0===m.code||1===m.code)?Os.REDIRECTING:Os.FAILED),he(m=>m!==Os.REDIRECTING),Br(1)).subscribe(()=>{E()})}function Hg(_){throw _}function Uo(_,E,m){return E.parse("/")}const zg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ln=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,A.WQX)(A.H3F),this.isNgZoneEnabled=!1,this._events=new Ze.B,this.options=(0,A.WQX)(_d,{optional:!0})||{},this.pendingTasks=(0,A.WQX)(A.$K3),this.errorHandler=this.options.errorHandler||Hg,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,A.WQX)(jg),this.routeReuseStrategy=(0,A.WQX)(md),this.titleStrategy=(0,A.WQX)(Vo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,A.WQX)(bn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,A.WQX)(cr),this.urlSerializer=(0,A.WQX)(qr),this.location=(0,A.WQX)(Wt.aZ),this.componentInputBindingEnabled=!!(0,A.WQX)(Ii,{optional:!0}),this.eventsSubscription=new At.yU,this.isNgZoneEnabled=(0,A.WQX)(A.SKi)instanceof A.SKi&&A.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(Oc(w)&&this._events.next(w));if(w instanceof ma)ao(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(w instanceof Bi)this.rawUrlTree=S.rawUrl;else if(w instanceof _c){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(L,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(w instanceof au)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(w instanceof wr)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(S);else if(w instanceof bs){const L=this.urlHandlingStrategy.merge(w.url,S.currentRawUrl),z={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ao(S.source)};this.scheduleNavigation(L,ts,null,z,{resolve:S.resolve,reject:S.reject,promise:S.promise})}w instanceof Nr&&this.restoreHistory(S,!0),w instanceof ro&&(this.navigated=!0),Oc(w)&&this._events.next(w)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ts,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const w="popstate"===m.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,w,m.state)},0)}))}navigateToSyncWithBrowser(m,w,S){const L={replaceUrl:!0},z=S?.navigationId?S:null;if(S){const _e={...S};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(L.state=_e)}const ye=this.parseUrl(m);this.scheduleNavigation(ye,w,z,L)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(wc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,w={}){const{relativeTo:S,queryParams:L,fragment:z,queryParamsHandling:ye,preserveFragment:_e}=w,ut=_e?this.currentUrlTree.fragment:z;let Mn,jt=null;switch(ye){case"merge":jt={...this.currentUrlTree.queryParams,...L};break;case"preserve":jt=this.currentUrlTree.queryParams;break;default:jt=L||null}null!==jt&&(jt=this.removeEmptyProps(jt));try{Mn=st(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Mn=this.currentUrlTree.root}return xt(Mn,m,jt,ut??null)}navigateByUrl(m,w={skipLocationChange:!1}){const S=oe(m)?m:this.parseUrl(m),L=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(L,ts,null,w)}navigate(m,w={skipLocationChange:!1}){return function uf(_){for(let E=0;E<_.length;E++)if(null==_[E])throw new A.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,w),w)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let w;try{w=this.urlSerializer.parse(m)}catch(S){w=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return w}isActive(m,w){let S;if(S=!0===w?{...zg}:!1===w?{...Gg}:w,oe(m))return on(this.currentUrlTree,m,S);const L=this.parseUrl(m);return on(this.currentUrlTree,L,S)}removeEmptyProps(m){return Object.keys(m).reduce((w,S)=>{const L=m[S];return null!=L&&(w[S]=L),w},{})}scheduleNavigation(m,w,S,L,z){if(this.disposed)return Promise.resolve(!1);let ye,_e,ut;z?(ye=z.resolve,_e=z.reject,ut=z.promise):ut=new Promise((Mn,wn)=>{ye=Mn,_e=wn});const jt=this.pendingTasks.add();return Nc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(jt))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:L,resolve:ye,reject:_e,promise:ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ut.catch(Mn=>Promise.reject(Mn))}setBrowserUrl(m,w){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||w.extras.replaceUrl){const z={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(S,"",z)}else{const L={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(S,"",L)}}restoreHistory(m,w=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-this.browserPageId;0!==L?this.location.historyGo(L):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===L&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,w){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:w}:{navigationId:m}}static{this.\u0275fac=function(w){return new(w||_)}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function Oc(_){return!(_ instanceof au||_ instanceof bs)}let Ar=(()=>{class _{constructor(m,w,S,L,z,ye){this.router=m,this.route=w,this.tabIndexAttribute=S,this.renderer=L,this.el=z,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new Ze.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _e=z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=m.events.subscribe(ut=>{ut instanceof ro&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,w,S,L,z){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||w||S||L||z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,A.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,w){const S=this.renderer,L=this.el.nativeElement;null!==w?S.setAttribute(L,m,w):S.removeAttribute(L,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(w){return new(w||_)(A.rXU(ln),A.rXU(oo),A.kS0("tabindex"),A.rXU(A.sFG),A.rXU(A.aKT),A.rXU(Wt.hb))}}static{this.\u0275dir=A.FsC({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,S){1&w&&A.bIt("click",function(z){return S.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&w&&A.BMQ("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",A.L39],skipLocationChange:["skipLocationChange","skipLocationChange",A.L39],replaceUrl:["replaceUrl","replaceUrl",A.L39],routerLink:"routerLink"},standalone:!0,features:[A.GFd,A.OA$]})}}return _})();class ba{}let Dv=(()=>{class _{constructor(m,w,S,L,z){this.router=m,this.injector=S,this.preloadingStrategy=L,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe(he(m=>m instanceof ro),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,w){const S=[];for(const L of w){L.providers&&!L._injector&&(L._injector=(0,A.Ol2)(L.providers,m,`Route: ${L.path}`));const z=L._injector??m,ye=L._loadedInjector??z;(L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent)&&S.push(this.preloadConfig(z,L)),(L.children||L._loadedRoutes)&&S.push(this.processRoutes(ye,L.children??L._loadedRoutes))}return(0,U.H)(S).pipe((0,In.U)())}preloadConfig(m,w){return this.preloadingStrategy.preload(w,()=>{let S;S=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(m,w):(0,pe.of)(null);const L=S.pipe((0,de.Z)(z=>null===z?(0,pe.of)(void 0):(w._loadedRoutes=z.routes,w._loadedInjector=z.injector,this.processRoutes(z.injector??m,z.routes))));if(w.loadComponent&&!w._loadedComponent){const z=this.loader.loadComponent(w);return(0,U.H)([L,z]).pipe((0,In.U)())}return L})}static{this.\u0275fac=function(w){return new(w||_)(A.KVO(ln),A.KVO(A.Ql9),A.KVO(A.uvJ),A.KVO(ba),A.KVO(mr))}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();const yd=new A.nKC("");let Bo=(()=>{class _{constructor(m,w,S,L,z={}){this.urlSerializer=m,this.transitions=w,this.viewportScroller=S,this.zone=L,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ro?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Bi&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ya&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ya(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(w){A.QTQ()}}static{this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac})}}return _})();function jo(_,E){return{\u0275kind:_,\u0275providers:E}}function cf(){const _=(0,A.WQX)(A.zZn);return E=>{const m=_.get(A.o8S);if(E!==m.components[0])return;const w=_.get(ln),S=_.get(Wg);1===_.get(lf)&&w.initialNavigation(),_.get($o,null,A.$GK.Optional)?.setUpPreloading(),_.get(yd,null,A.$GK.Optional)?.init(),w.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Wg=new A.nKC("",{factory:()=>new Ze.B}),lf=new A.nKC("",{providedIn:"root",factory:()=>1}),$o=new A.nKC("");function Sv(_){return jo(0,[{provide:$o,useExisting:Dv},{provide:ba,useExisting:_}])}const Tn=new A.nKC("ROUTER_FORROOT_GUARD"),Kg=[Wt.aZ,{provide:qr,useClass:_o},ln,ns,{provide:oo,useFactory:function Fc(_){return _.routerState.root},deps:[ln]},mr,[]];function Ed(){return new A.NEm("Router",ln)}let $r=(()=>{class _{constructor(m){}static forRoot(m,w){return{ngModule:_,providers:[Kg,[],{provide:bn,multi:!0,useValue:m},{provide:Tn,useFactory:Iu,deps:[[ln,new A.Xx1,new A.kdw]]},{provide:_d,useValue:w||{}},w?.useHash?{provide:Wt.hb,useClass:Wt.fw}:{provide:Wt.hb,useClass:Wt.Sm},{provide:yd,useFactory:()=>{const _=(0,A.WQX)(Wt.Xr),E=(0,A.WQX)(A.SKi),m=(0,A.WQX)(_d),w=(0,A.WQX)(cr),S=(0,A.WQX)(qr);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Bo(S,w,_,E,m)}},w?.preloadingStrategy?Sv(w.preloadingStrategy).\u0275providers:[],{provide:A.NEm,multi:!0,useFactory:Ed},w?.initialNavigation?Td(w):[],w?.bindToComponentInputs?jo(8,[Xn,{provide:Ii,useExisting:Xn}]).\u0275providers:[],[{provide:hf,useFactory:cf},{provide:A.iLQ,multi:!0,useExisting:hf}]]}}static forChild(m){return{ngModule:_,providers:[{provide:bn,multi:!0,useValue:m}]}}static{this.\u0275fac=function(w){return new(w||_)(A.KVO(Tn,8))}}static{this.\u0275mod=A.$C({type:_})}static{this.\u0275inj=A.G2t({})}}return _})();function Iu(_){return"guarded"}function Td(_){return["disabled"===_.initialNavigation?jo(3,[{provide:A.hnV,multi:!0,useFactory:()=>{const E=(0,A.WQX)(ln);return()=>{E.setUpLocationChangeListener()}}},{provide:lf,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?jo(2,[{provide:lf,useValue:0},{provide:A.hnV,multi:!0,deps:[A.zZn],useFactory:E=>{const m=E.get(Wt.hj,Promise.resolve());return()=>m.then(()=>new Promise(w=>{const S=E.get(ln),L=E.get(Wg);Nc(S,()=>{w(!0)}),E.get(cr).afterPreactivation=()=>(w(!0),L.closed?(0,pe.of)(void 0):L),S.initialNavigation()}))}}]).\u0275providers:[]]}const hf=new A.nKC("")},7852:(Rt,Ue,$)=>{$.d(Ue,{MF:()=>mo,j6:()=>Ts,xZ:()=>ui,om:()=>on,Sx:()=>qr,Dk:()=>_o,Wp:()=>Mt,KO:()=>F});var A=$(467),K=$(1362),Se=$(8041),De=$(1076);const U=(we,oe)=>oe.some(Oe=>we instanceof Oe);let pe,me;const J=new WeakMap,Y=new WeakMap,Ee=new WeakMap,Xe=new WeakMap,We=new WeakMap;let wt={get(we,oe,Oe){if(we instanceof IDBTransaction){if("done"===oe)return Y.get(we);if("objectStoreNames"===oe)return we.objectStoreNames||Ee.get(we);if("store"===oe)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return xe(we[oe])},set:(we,oe,Oe)=>(we[oe]=Oe,!0),has:(we,oe)=>we instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in we};function In(we){return"function"==typeof we?function Zt(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...oe){return we.apply(qe(this),oe),xe(J.get(this))}:function(...oe){return xe(we.apply(qe(this),oe))}:function(oe,...Oe){const st=we.call(qe(this),oe,...Oe);return Ee.set(st,oe.sort?oe.sort():[oe]),xe(st)}}(we):(we instanceof IDBTransaction&&function Jt(we){if(Y.has(we))return;const oe=new Promise((Oe,st)=>{const xt=()=>{we.removeEventListener("complete",Ct),we.removeEventListener("error",kt),we.removeEventListener("abort",kt)},Ct=()=>{Oe(),xt()},kt=()=>{st(we.error||new DOMException("AbortError","AbortError")),xt()};we.addEventListener("complete",Ct),we.addEventListener("error",kt),we.addEventListener("abort",kt)});Y.set(we,oe)}(we),U(we,function et(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,wt):we)}function xe(we){if(we instanceof IDBRequest)return function ze(we){const oe=new Promise((Oe,st)=>{const xt=()=>{we.removeEventListener("success",Ct),we.removeEventListener("error",kt)},Ct=()=>{Oe(xe(we.result)),xt()},kt=()=>{st(we.error),xt()};we.addEventListener("success",Ct),we.addEventListener("error",kt)});return oe.then(Oe=>{Oe instanceof IDBCursor&&J.set(Oe,we)}).catch(()=>{}),We.set(oe,we),oe}(we);if(Xe.has(we))return Xe.get(we);const oe=In(we);return oe!==we&&(Xe.set(we,oe),We.set(oe,we)),oe}const qe=we=>We.get(we),ht=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Ye=new Map;function At(we,oe){if(!(we instanceof IDBDatabase)||oe in we||"string"!=typeof oe)return;if(Ye.get(oe))return Ye.get(oe);const Oe=oe.replace(/FromIndex$/,""),st=oe!==Oe,xt=tt.includes(Oe);if(!(Oe in(st?IDBIndex:IDBObjectStore).prototype)||!xt&&!ht.includes(Oe))return;const Ct=function(){var kt=(0,A.A)(function*(yn,...cn){const Ft=this.transaction(yn,xt?"readwrite":"readonly");let yi=Ft.store;return st&&(yi=yi.index(cn.shift())),(yield Promise.all([yi[Oe](...cn),xt&&Ft.done]))[0]});return function(cn){return kt.apply(this,arguments)}}();return Ye.set(oe,Ct),Ct}!function mt(we){wt=we(wt)}(we=>({...we,get:(oe,Oe,st)=>At(oe,Oe)||we.get(oe,Oe,st),has:(oe,Oe)=>!!At(oe,Oe)||we.has(oe,Oe)}));class Cn{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Ur(we){const oe=we.getComponent();return"VERSION"===oe?.type}(Oe)){const st=Oe.getImmediate();return`${st.library}/${st.version}`}return null}).filter(Oe=>Oe).join(" ")}}const Ge="@firebase/app",Ze="0.10.13",Wt=new Se.Vy("@firebase/app"),Vt="[DEFAULT]",xr={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},yr=new Map,hr=new Map,Ln=new Map;function tr(we,oe){try{we.container.addComponent(oe)}catch(Oe){Wt.debug(`Component ${oe.name} failed to register with FirebaseApp ${we.name}`,Oe)}}function on(we){const oe=we.name;if(Ln.has(oe))return Wt.debug(`There were multiple attempts to register component ${oe}.`),!1;Ln.set(oe,we);for(const Oe of yr.values())tr(Oe,we);for(const Oe of hr.values())tr(Oe,we);return!0}function Ts(we,oe){const Oe=we.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),we.container.getProvider(oe)}function ui(we){return void 0!==we.settings}const Rn=new De.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dt{constructor(oe,Oe,st){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new K.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const mo="10.14.1";function Mt(we,oe={}){let Oe=we;"object"!=typeof oe&&(oe={name:oe});const st=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},oe),xt=st.name;if("string"!=typeof xt||!xt)throw Rn.create("bad-app-name",{appName:String(xt)});if(Oe||(Oe=(0,De.T9)()),!Oe)throw Rn.create("no-options");const Ct=yr.get(xt);if(Ct){if((0,De.bD)(Oe,Ct.options)&&(0,De.bD)(st,Ct.config))return Ct;throw Rn.create("duplicate-app",{appName:xt})}const kt=new K.h1(xt);for(const cn of Ln.values())kt.addComponent(cn);const yn=new Dt(Oe,st,kt);return yr.set(xt,yn),yn}function qr(we=Vt){const oe=yr.get(we);if(!oe&&we===Vt&&(0,De.T9)())return Mt();if(!oe)throw Rn.create("no-app",{appName:we});return oe}function _o(){return Array.from(yr.values())}function F(we,oe,Oe){var st;let xt=null!==(st=xr[we])&&void 0!==st?st:we;Oe&&(xt+=`-${Oe}`);const Ct=xt.match(/\s|\//),kt=oe.match(/\s|\//);if(Ct||kt){const yn=[`Unable to register library "${xt}" with version "${oe}":`];return Ct&&yn.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Ct&&kt&&yn.push("and"),kt&&yn.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void Wt.warn(yn.join(" "))}on(new K.uA(`${xt}-version`,()=>({library:xt,version:oe}),"VERSION"))}const Q="firebase-heartbeat-database",X=1,Me="firebase-heartbeat-store";let nt=null;function _t(){return nt||(nt=function Fe(we,oe,{blocked:Oe,upgrade:st,blocking:xt,terminated:Ct}={}){const kt=indexedDB.open(we,oe),yn=xe(kt);return st&&kt.addEventListener("upgradeneeded",cn=>{st(xe(kt.result),cn.oldVersion,cn.newVersion,xe(kt.transaction),cn)}),Oe&&kt.addEventListener("blocked",cn=>Oe(cn.oldVersion,cn.newVersion,cn)),yn.then(cn=>{Ct&&cn.addEventListener("close",()=>Ct()),xt&&cn.addEventListener("versionchange",Ft=>xt(Ft.oldVersion,Ft.newVersion,Ft))}).catch(()=>{}),yn}(Q,X,{upgrade:(we,oe)=>{if(0===oe)try{we.createObjectStore(Me)}catch(Oe){console.warn(Oe)}}}).catch(we=>{throw Rn.create("idb-open",{originalErrorMessage:we.message})})),nt}function an(){return(an=(0,A.A)(function*(we){try{const Oe=(yield _t()).transaction(Me),st=yield Oe.objectStore(Me).get(vr(we));return yield Oe.done,st}catch(oe){if(oe instanceof De.g)Wt.warn(oe.message);else{const Oe=Rn.create("idb-get",{originalErrorMessage:oe?.message});Wt.warn(Oe.message)}}})).apply(this,arguments)}function ar(we,oe){return en.apply(this,arguments)}function en(){return(en=(0,A.A)(function*(we,oe){try{const st=(yield _t()).transaction(Me,"readwrite");yield st.objectStore(Me).put(oe,vr(we)),yield st.done}catch(Oe){if(Oe instanceof De.g)Wt.warn(Oe.message);else{const st=Rn.create("idb-set",{originalErrorMessage:Oe?.message});Wt.warn(st.message)}}})).apply(this,arguments)}function vr(we){return`${we.name}!${we.options.appId}`}class ti{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Ds(Oe),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var oe=this;return(0,A.A)(function*(){var Oe,st;try{const Ct=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=ws();return null==(null===(Oe=oe._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise,null==(null===(st=oe._heartbeatsCache)||void 0===st?void 0:st.heartbeats))||oe._heartbeatsCache.lastSentHeartbeatDate===kt||oe._heartbeatsCache.heartbeats.some(yn=>yn.date===kt)?void 0:(oe._heartbeatsCache.heartbeats.push({date:kt,agent:Ct}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(yn=>{const cn=new Date(yn.date).valueOf();return Date.now()-cn<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache))}catch(xt){Wt.warn(xt)}})()}getHeartbeatsHeader(){var oe=this;return(0,A.A)(function*(){var Oe;try{if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null==(null===(Oe=oe._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===oe._heartbeatsCache.heartbeats.length)return"";const st=ws(),{heartbeatsToSend:xt,unsentEntries:Ct}=function fr(we,oe=1024){const Oe=[];let st=we.slice();for(const xt of we){const Ct=Oe.find(kt=>kt.agent===xt.agent);if(Ct){if(Ct.dates.push(xt.date),gn(Oe)>oe){Ct.dates.pop();break}}else if(Oe.push({agent:xt.agent,dates:[xt.date]}),gn(Oe)>oe){Oe.pop();break}st=st.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:st}}(oe._heartbeatsCache.heartbeats),kt=(0,De.Uj)(JSON.stringify({version:2,heartbeats:xt}));return oe._heartbeatsCache.lastSentHeartbeatDate=st,Ct.length>0?(oe._heartbeatsCache.heartbeats=Ct,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),kt}catch(st){return Wt.warn(st),""}})()}}function ws(){return(new Date).toISOString().substring(0,10)}class Ds{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.A)(function*(){return!!(0,De.zW)()&&(0,De.eX)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,A.A)(function*(){if(yield oe._canUseIndexedDBPromise){const st=yield function sn(we){return an.apply(this,arguments)}(oe.app);return st?.heartbeats?st:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(oe){var Oe=this;return(0,A.A)(function*(){var st;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return ar(Oe.app,{lastSentHeartbeatDate:null!==(st=oe.lastSentHeartbeatDate)&&void 0!==st?st:Ct.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Oe=this;return(0,A.A)(function*(){var st;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return ar(Oe.app,{lastSentHeartbeatDate:null!==(st=oe.lastSentHeartbeatDate)&&void 0!==st?st:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...oe.heartbeats]})}})()}}function gn(we){return(0,De.Uj)(JSON.stringify({version:2,heartbeats:we})).length}!function Vi(we){on(new K.uA("platform-logger",oe=>new Cn(oe),"PRIVATE")),on(new K.uA("heartbeat",oe=>new ti(oe),"PRIVATE")),F(Ge,Ze,we),F(Ge,Ze,"esm2017"),F("fire-js","")}("")},1362:(Rt,Ue,$)=>{$.d(Ue,{h1:()=>et,uA:()=>Se});var A=$(467),K=$(1076);class Se{constructor(J,Y,Ee){this.name=J,this.instanceFactory=Y,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const De="[DEFAULT]";class U{constructor(J,Y){this.name=J,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const Y=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(Y)){const Ee=new K.cY;if(this.instancesDeferred.set(Y,Ee),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Y});Xe&&Ee.resolve(Xe)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(J){var Y;const Ee=this.normalizeInstanceIdentifier(J?.identifier),Xe=null!==(Y=J?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(We){if(Xe)return null;throw We}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function me(Ve){return"EAGER"===Ve.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[Y,Ee]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Y);try{const We=this.getOrInitializeService({instanceIdentifier:Xe});Ee.resolve(We)}catch{}}}}clearInstance(J=De){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,A.A)(function*(){const Y=Array.from(J.instances.values());yield Promise.all([...Y.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...Y.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=De){return this.instances.has(J)}getOptions(J=De){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:Y={}}=J,Ee=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ee,options:Y});for(const[We,ze]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(We)&&ze.resolve(Xe);return Xe}onInit(J,Y){var Ee;const Xe=this.normalizeInstanceIdentifier(Y),We=null!==(Ee=this.onInitCallbacks.get(Xe))&&void 0!==Ee?Ee:new Set;We.add(J),this.onInitCallbacks.set(Xe,We);const ze=this.instances.get(Xe);return ze&&J(ze,Xe),()=>{We.delete(J)}}invokeOnInitCallbacks(J,Y){const Ee=this.onInitCallbacks.get(Y);if(Ee)for(const Xe of Ee)try{Xe(J,Y)}catch{}}getOrInitializeService({instanceIdentifier:J,options:Y={}}){let Ee=this.instances.get(J);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=J,Ve===De?void 0:Ve),options:Y}),this.instances.set(J,Ee),this.instancesOptions.set(J,Y),this.invokeOnInitCallbacks(Ee,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Ee)}catch{}var Ve;return Ee||null}normalizeInstanceIdentifier(J=De){return this.component?this.component.multipleInstances?J:De:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class et{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const Y=this.getProvider(J.name);if(Y.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);Y.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const Y=new U(J,this);return this.providers.set(J,Y),Y}getProviders(){return Array.from(this.providers.values())}}},8041:(Rt,Ue,$)=>{$.d(Ue,{$b:()=>K,Vy:()=>me});const A=[];var K=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(K||{});const Se={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},De=K.INFO,U={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(J,Y,...Ee)=>{if(Y<J.logLevel)return;const Xe=(new Date).toISOString(),We=U[Y];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[We](`[${Xe}]  ${J.name}:`,...Ee)};class me{constructor(Y){this.name=Y,this._logLevel=De,this._logHandler=pe,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?Se[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}},2214:(Rt,Ue,$)=>{$.d(Ue,{Dk:()=>A.Dk,KO:()=>A.KO,Sx:()=>A.Sx,Wp:()=>A.Wp});var A=$(7852);(0,A.KO)("firebase","10.14.1","app")},467:(Rt,Ue,$)=>{function A(Se,De,U,pe,me,et,Ve){try{var J=Se[et](Ve),Y=J.value}catch(Ee){return void U(Ee)}J.done?De(Y):Promise.resolve(Y).then(pe,me)}function K(Se){return function(){var De=this,U=arguments;return new Promise(function(pe,me){var et=Se.apply(De,U);function Ve(Y){A(et,pe,me,Ve,J,"next",Y)}function J(Y){A(et,pe,me,Ve,J,"throw",Y)}Ve(void 0)})}}$.d(Ue,{A:()=>K})},1635:(Rt,Ue,$)=>{function De(he,de){var re={};for(var Z in he)Object.prototype.hasOwnProperty.call(he,Z)&&de.indexOf(Z)<0&&(re[Z]=he[Z]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(Z=Object.getOwnPropertySymbols(he);ue<Z.length;ue++)de.indexOf(Z[ue])<0&&Object.prototype.propertyIsEnumerable.call(he,Z[ue])&&(re[Z[ue]]=he[Z[ue]])}return re}function Ee(he,de,re,Z){return new(re||(re=Promise))(function(ve,Le){function Je(_n){try{Pt(Z.next(_n))}catch(fn){Le(fn)}}function Qt(_n){try{Pt(Z.throw(_n))}catch(fn){Le(fn)}}function Pt(_n){_n.done?ve(_n.value):function ue(ve){return ve instanceof re?ve:new re(function(Le){Le(ve)})}(_n.value).then(Je,Qt)}Pt((Z=Z.apply(he,de||[])).next())})}function xe(he){return this instanceof xe?(this.v=he,this):new xe(he)}function qe(he,de,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,Z=re.apply(he,de||[]),ve=[];return ue=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Je("next"),Je("throw"),Je("return",function Le(qt){return function(Yn){return Promise.resolve(Yn).then(qt,fn)}}),ue[Symbol.asyncIterator]=function(){return this},ue;function Je(qt,Yn){Z[qt]&&(ue[qt]=function(Sn){return new Promise(function(pt,Wr){ve.push([qt,Sn,pt,Wr])>1||Qt(qt,Sn)})},Yn&&(ue[qt]=Yn(ue[qt])))}function Qt(qt,Yn){try{!function Pt(qt){qt.value instanceof xe?Promise.resolve(qt.value.v).then(_n,fn):Zr(ve[0][2],qt)}(Z[qt](Yn))}catch(Sn){Zr(ve[0][3],Sn)}}function _n(qt){Qt("next",qt)}function fn(qt){Qt("throw",qt)}function Zr(qt,Yn){qt(Yn),ve.shift(),ve.length&&Qt(ve[0][0],ve[0][1])}}function ct(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,de=he[Symbol.asyncIterator];return de?de.call(he):(he=function Jt(he){var de="function"==typeof Symbol&&Symbol.iterator,re=de&&he[de],Z=0;if(re)return re.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Z>=he.length&&(he=void 0),{value:he&&he[Z++],done:!he}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),re={},Z("next"),Z("throw"),Z("return"),re[Symbol.asyncIterator]=function(){return this},re);function Z(ve){re[ve]=he[ve]&&function(Le){return new Promise(function(Je,Qt){!function ue(ve,Le,Je,Qt){Promise.resolve(Qt).then(function(Pt){ve({value:Pt,done:Je})},Le)}(Je,Qt,(Le=he[ve](Le)).done,Le.value)})}}}$.d(Ue,{AQ:()=>qe,N3:()=>xe,Tt:()=>De,sH:()=>Ee,xN:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},Rt=>{Rt(Rt.s=2845)}]);