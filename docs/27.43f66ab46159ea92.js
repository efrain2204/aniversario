"use strict";(self.webpackChunkaniversario=self.webpackChunkaniversario||[]).push([[27],{6027:(z,v,r)=>{r.r(v),r.d(v,{NotesModule:()=>X});var c=r(177),g=r(6143),t=r(540),u=function(o){return o.all="all",o.active="active",o.completed="completed",o}(u||{});let m=(()=>{class o{constructor(){this.todosSig=(0,t.vPA)([]),this.filterSig=(0,t.vPA)(u.all)}changeFilter(e){this.filterSig.set(e)}addTodo(e,n,i){const a={text:n,title:e,isCompleted:!1,time:(new Date).toISOString(),id:i};this.todosSig.update(x=>[...x,a])}changeTodo(e,n){this.todosSig.update(i=>i.map(s=>s.id===e?{...s,text:n}:s))}removeTodo(e){this.todosSig.update(n=>n.filter(i=>i.id!==e))}toggleTodo(e){this.todosSig.update(n=>n.map(i=>i.id===e?{...i,isCompleted:!i.isCompleted}:i))}toggleAll(e){this.todosSig.update(n=>n.map(i=>({...i,isCompleted:e})))}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var l=r(5132),f=r(8455);let h=(()=>{class o{constructor(){this.firestore=(0,t.WQX)(l._7),this.todosCollection=(0,l.rJ)(this.firestore,"todos")}getTodos(){return(0,l.xs)(this.todosCollection,{idField:"id"})}addTodo(e,n){const s={title:e,text:n,isCompleted:!1,time:(new Date).toISOString()},a=(0,l.gS)(this.todosCollection,s).then(x=>x.id);return(0,f.H)(a)}removeTodo(e){const n=(0,l.H9)(this.firestore,"todos/"+e),i=(0,l.kd)(n);return(0,f.H)(i)}updateTodo(e,n){const i=(0,l.H9)(this.firestore,"todos/"+e),s=(0,l.BN)(i,n);return(0,f.H)(s)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var d=r(9417),C=r(411),k=r(7980),y=r(7436);let b=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["text-area"]],inputs:{control:"control"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"textarea-container"],["rows","4","placeholder","Escribe aqu\xed...",3,"formControl"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"textarea",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("formControl",i.control))},dependencies:[c.MD,d.X1,d.me,d.BC,d.l_],styles:['@charset "UTF-8";.textarea-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:10px 0}textarea[_ngcontent-%COMP%]{width:100%;height:120px;font-size:14px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9;resize:vertical;transition:border-color .3s ease;resize:none;overflow-y:scroll}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px;height:16px}textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#4caf50;border-radius:8px;border:3px solid #e0f2f1}textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:8px}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff5f6d;background-color:#fff}textarea[_ngcontent-%COMP%]::placeholder{color:#aaa}']})}}return o})();var M=r(2262),F=r(9140);const S=function(o){return{hidden:o}},_=function(o){return{selected:o}};let E=(()=>{class o{constructor(){this.todosService=(0,t.WQX)(m),this.filterSig=this.todosService.filterSig,this.filterEnum=u,this.activeCount=(0,t.EWP)(()=>this.todosService.todosSig().filter(e=>!e.isCompleted).length),this.noTodosClass=(0,t.EWP)(()=>0===this.todosService.todosSig().length),this.itemsLeftText=(0,t.EWP)(()=>"Nota"+(1!==this.activeCount()?"s":""))}changeFilter(e,n){e.preventDefault(),this.todosService.changeFilter(n),console.log("after changeFilter",this.todosService.filterSig())}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-footer"]],decls:15,vars:14,consts:[[1,"footer",3,"ngClass"],[1,"todo-count"],[1,"filters"],["href","/",3,"ngClass","click"]],template:function(n,i){1&n&&(t.j41(0,"footer",0)(1,"span",1)(2,"strong"),t.EFF(3),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"ul",2)(6,"li")(7,"a",3),t.bIt("click",function(a){return i.changeFilter(a,i.filterEnum.all)}),t.EFF(8,"Todos"),t.k0s()(),t.j41(9,"li")(10,"a",3),t.bIt("click",function(a){return i.changeFilter(a,i.filterEnum.active)}),t.EFF(11,"Activos"),t.k0s()(),t.j41(12,"li")(13,"a",3),t.bIt("click",function(a){return i.changeFilter(a,i.filterEnum.completed)}),t.EFF(14,"Completados"),t.k0s()()()()),2&n&&(t.Y8G("ngClass",t.eq3(6,S,i.noTodosClass())),t.R7$(3),t.JRh(i.activeCount()),t.R7$(1),t.SpI(" ",i.itemsLeftText()," "),t.R7$(3),t.Y8G("ngClass",t.eq3(8,_,i.filterSig()===i.filterEnum.all)),t.R7$(3),t.Y8G("ngClass",t.eq3(10,_,i.filterSig()===i.filterEnum.active)),t.R7$(3),t.Y8G("ngClass",t.eq3(12,_,i.filterSig()===i.filterEnum.completed)))},dependencies:[c.YU],styles:[".footer[_ngcontent-%COMP%]{padding:10px 15px;height:20px;text-align:center;font-size:15px;border-top:1px solid #e6e6e6}.filters[_ngcontent-%COMP%]{margin-top:1rem;padding:0;list-style:none;position:absolute;right:0;left:0}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#af2f2f1a}.filters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{border-color:#af2f2f33}"]})}}return o})();var P=r(7468);let T=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["empty"]],standalone:!0,features:[t.aNF],decls:7,vars:0,consts:[[1,"no-items-message"],[1,"icon"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2,"\u{1f4dc}"),t.k0s(),t.j41(3,"h2"),t.EFF(4,"\xa1No hay elementos registrados!"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Empieza a agregar nuevos elementos y los ver\xe1s aqu\xed."),t.k0s()())},dependencies:[c.MD],styles:['@charset "UTF-8";.no-items-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:#555;font-family:Arial,sans-serif;padding:20px;box-sizing:border-box}.no-items-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.no-items-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin:0;color:#333}.no-items-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:5px 0 0;color:#777}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}']})}}return o})(),O=(()=>{class o{transform(e){return e?new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275pipe=t.EJ8({name:"customDate",type:o,pure:!0})}}return o})();const I=["textInput"],N=function(o,p){return{completed:o,incomplete:p}};let w=(()=>{class o{constructor(){this.setEditingId=new t.bkB,this.todosService=(0,t.WQX)(m),this.todosFirebaseService=(0,t.WQX)(h),this.noteControl=new d.MJ("",[C.k.required])}ngOnInit(){this.noteControl.setValue(this.todo.text)}ngOnChanges(e){e.isEditing.currentValue&&setTimeout(()=>{this.textInput?.nativeElement.focus()},0)}changeTodo(){const e=this.noteControl.getRawValue();if(!e)return;const i={text:e,title:this.todo.title,time:(new Date).toISOString(),isCompleted:this.todo.isCompleted};this.todosFirebaseService.updateTodo(this.todo.id,i).subscribe(()=>{this.todosService.changeTodo(this.todo.id,e)}),this.setEditingId.emit(null)}removeTodo(){this.todosFirebaseService.removeTodo(this.todo.id).subscribe(()=>{this.todosService.removeTodo(this.todo.id)})}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-notes-atomic"]],viewQuery:function(n,i){if(1&n&&t.GBs(I,5),2&n){let s;t.mGM(s=t.lsd())&&(i.textInput=s.first)}},inputs:{todo:"todo",isEditing:"isEditing"},outputs:{setEditingId:"setEditingId"},features:[t.OA$],decls:12,vars:10,consts:[[1,"note-container",3,"ngClass"],[1,"note-title"],[3,"control"],[1,"small-date"],[1,"note-actions"],[1,"btn","edit-btn",3,"disabled","click"],[1,"btn","delete-btn",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.k0s(),t.nrm(3,"text-area",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"customDate"),t.k0s(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return i.changeTodo()}),t.EFF(9,"\u270f\ufe0f"),t.k0s(),t.j41(10,"button",6),t.bIt("click",function(){return i.removeTodo()}),t.EFF(11,"\u{1f5d1}\ufe0f"),t.k0s()()()),2&n&&(t.Y8G("ngClass",t.l_i(7,N,i.todo.isCompleted,!i.todo.isCompleted)),t.R7$(2),t.SpI("T\xedtulo: ",i.todo.title,""),t.R7$(1),t.Y8G("control",i.noteControl),t.R7$(2),t.JRh(t.bMT(6,5,i.todo.time)),t.R7$(3),t.Y8G("disabled",i.noteControl.invalid))},dependencies:[c.YU,b,O],styles:['@charset "UTF-8";.note-container[_ngcontent-%COMP%]{border-radius:10px;padding:16px;margin:10px;box-shadow:0 2px 5px #0000000d;transition:box-shadow .3s ease;background-image:url(https://static.vecteezy.com/system/resources/thumbnails/010/055/930/small_2x/mountain-landscape-nature-background-in-green-travel-adventure-illustration-vector.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.note-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px;color:#000}.note-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:14px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{background-color:#e3e3e3}.note-container.complete[_ngcontent-%COMP%]{border:2px solid #4caf50}.note-container.incomplete[_ngcontent-%COMP%]{border:2px solid #b0b0b0}.small-date[_ngcontent-%COMP%]{font-size:.8rem;color:#fff;font-family:Arial,sans-serif;margin-top:5px;display:block}']})}}return o})();function D(o,p){1&o&&(t.qex(0),t.nrm(1,"empty"),t.bVm())}function j(o,p){if(1&o){const e=t.RV6();t.j41(0,"app-notes-atomic",4),t.bIt("setEditingId",function(i){t.eBV(e);const s=t.XpG(2);return t.Njj(s.setEditingId(i))}),t.k0s()}if(2&o){const e=p.$implicit,n=t.XpG(2);t.Y8G("todo",e)("isEditing",n.editingId===e.id)}}function G(o,p){if(1&o&&(t.j41(0,"div",2),t.DNE(1,j,1,2,"app-notes-atomic",3),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.visibleTodos())}}let R=(()=>{class o{constructor(){this.notesService=(0,t.WQX)(m),this.notesFirebaseService=(0,t.WQX)(h),this.editingId=null,this.visibleTodos=(0,t.EWP)(()=>{const e=this.notesService.todosSig(),n=this.notesService.filterSig();return n===u.active?e.filter(i=>!i.isCompleted):n===u.completed?e.filter(i=>i.isCompleted):e}),this.isAllTodosSelected=(0,t.EWP)(()=>this.notesService.todosSig().every(e=>e.isCompleted)),this.noTodosClass=(0,t.EWP)(()=>0===this.notesService.todosSig().length)}setEditingId(e){this.editingId=e}toggleAllTodos(e){const n=e.target,i=this.notesService.todosSig().map(s=>this.notesFirebaseService.updateTodo(s.id,{text:s.text,isCompleted:n.checked}));(0,P.p)(i).subscribe(()=>{this.notesService.toggleAll(n.checked)})}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-main"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["Elements",""],[1,"container-notes"],[3,"todo","isEditing","setEditingId",4,"ngFor","ngForOf"],[3,"todo","isEditing","setEditingId"]],template:function(n,i){if(1&n&&(t.DNE(0,D,2,0,"ng-container",0),t.DNE(1,G,2,1,"ng-template",null,1,t.C5r)),2&n){const s=t.sdS(2);t.Y8G("ngIf",i.noTodosClass())("ngIfElse",s)}},dependencies:[c.Sq,c.bT,T,w],styles:[".container-notes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 1rem}"]})}}return o})();function V(o,p){if(1&o){const e=t.RV6();t.j41(0,"app-button",14),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(null==i.newNoteModal.onButton1Click?null:i.newNoteModal.onButton1Click())}),t.k0s()}if(2&o){const e=t.XpG(2);t.Y8G("disabled",e.titleNoteControl.invalid||e.noteControl.invalid)("label",e.newNoteModal.button1Text)}}function Y(o,p){if(1&o){const e=t.RV6();t.j41(0,"app-popup",10),t.bIt("clickClose",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.clearModal())}),t.nrm(1,"bunny-input",11)(2,"text-area",12),t.DNE(3,V,1,2,"app-button",13),t.k0s()}if(2&o){const e=t.XpG();t.R7$(1),t.Y8G("control",e.titleNoteControl),t.R7$(1),t.Y8G("control",e.noteControl),t.R7$(1),t.Y8G("ngIf",e.newNoteModal.button1Text)}}const A=[{path:"",component:(()=>{class o{constructor(){this.notesService=(0,t.WQX)(m),this.notesFirebaseService=(0,t.WQX)(h),this.router=(0,t.WQX)(g.Ix),this.titleNoteControl=new d.MJ("",[C.k.required]),this.noteControl=new d.MJ("",[C.k.required])}ngOnInit(){this.notesFirebaseService.getTodos().subscribe(e=>{this.notesService.todosSig.set(e)})}openNewNote(){this.newNoteModal={question:"\xbfQue deseas anotar?",button1Text:"Guardar",onButton1Click:()=>{const e=this.titleNoteControl.getRawValue(),n=this.noteControl.getRawValue();!n||!e||(this.notesFirebaseService.addTodo(e,n).subscribe(i=>{this.notesService.addTodo(e,n,i),this.noteControl.setValue(""),this.titleNoteControl.setValue("")}),this.clearModal())}}}clearModal(){this.newNoteModal=void 0,this.noteControl.setValue(""),this.titleNoteControl.setValue("")}back(){this.router.navigate(["/auth"])}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-notes-layout"]],decls:13,vars:2,consts:[[1,"bg-img"],[1,"todoapp"],[1,"container-title","stylish-title"],[1,"stylish-title"],[2,"width","40px"],["imageUrl","https://media1.tenor.com/m/LnVYa1UrSp0AAAAd/cute-aww.gif"],["src","https://cdn-icons-png.flaticon.com/512/3588/3588230.png","width","50","height","50","alt","album",1,"back",3,"click"],[1,"add",3,"click"],["imageUrl","https://cdn.pixabay.com/photo/2017/07/01/12/53/button-2461417_960_720.png",3,"circle"],["label","Puedes escribir aqu\xed!",3,"clickClose",4,"ngIf"],["label","Puedes escribir aqu\xed!",3,"clickClose"],["placeHolder","Ingrese el t\xedtulo",3,"control"],[3,"control"],[3,"disabled","label","click",4,"ngIf"],[3,"disabled","label","click"]],template:function(n,i){1&n&&(t.nrm(0,"div",0),t.j41(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Zona Sofi"),t.k0s(),t.j41(5,"div",4),t.nrm(6,"app-image-renderer",5),t.k0s()(),t.nrm(7,"app-main")(8,"app-footer"),t.k0s(),t.j41(9,"img",6),t.bIt("click",function(){return i.back()}),t.k0s(),t.j41(10,"div",7),t.bIt("click",function(){return i.openNewNote()}),t.nrm(11,"app-image-renderer",8),t.k0s(),t.DNE(12,Y,4,3,"app-popup",9)),2&n&&(t.R7$(11),t.Y8G("circle",!0),t.R7$(1),t.Y8G("ngIf",i.newNoteModal))},dependencies:[c.bT,k.y,y.K,b,M.Q,F.c,E,R],styles:['@charset "UTF-8";.container-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.stylish-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in-out}.stylish-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:3rem;text-align:center;background:black;background-clip:text;-webkit-background-clip:text;color:transparent;margin:20px 0;padding:0;line-height:1.2}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.add[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;bottom:10px;right:10px;border-radius:50%;box-shadow:1px 1px 21px #ff5f6d}.bg-img[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#d8f3dc,#95d5b2,#52b788,#2d6a4f);z-index:-1}.todoapp[_ngcontent-%COMP%]{padding:50px 0 150px}.back[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;border-radius:50%;box-shadow:1px 1px 10px #f48fb1;background:white}']})}}return o})()}];let $=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(A),g.iI]})}}return o})(),X=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[c.MD,$,k.y,y.K,b,M.Q,T,F.c]})}}return o})()}}]);